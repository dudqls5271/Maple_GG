<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><!----><!--  Licensed to the Apache Software Foundation (ASF) under one--><!--  or more contributor license agreements.  See the NOTICE file--><!--  distributed with this work for additional information--><!--  regarding copyright ownership.  The ASF licenses this file--><!--  to you under the Apache License, Version 2.0 (the--><!--  "License"); you may not use this file except in compliance--><!--  with the License.  You may obtain a copy of the License at--><!----><!--    https://www.apache.org/licenses/LICENSE-2.0--><!----><!--  Unless required by applicable law or agreed to in writing,--><!--  software distributed under the License is distributed on an--><!--  "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY--><!--  KIND, either express or implied.  See the License for the--><!--  specific language governing permissions and limitations--><!--  under the License.--><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="generator" content="Asciidoctor 1.5.5" /><title>Apache Ivy&trade; Documentation 2.5.0</title><link rel="stylesheet" type="text/css" href="./style/style.css" /><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" /><script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" type="text/javascript"></script><script>hljs.initHighlightingOnLoad();</script></head><body id="book"><div id="body"><table id="header" summary="Navigation elements." border="0" cellpadding="0" cellspacing="0" width="100%"><tr><td id="home" width="30%"><a href="http://ant.apache.org/" title="Apache Ant"><img src="./images/ant-project-logo.svg" alt="Apache Ant" border="0" height="80px" /></a></td><td class="product" width="70%" align="right" valign="middle"><img src="./images/logo.png" alt="ivy" border="0" /></td></tr></table><div id="title">Documentation (2.5.0)</div><div id="main"><div id="content"><div class="sect1">
<h2 id="_table_of_contents">Table of Contents</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="#release-notes">Release Notes</a></p>
</li>
<li>
<p><a href="#tutorial">Tutorials</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="#tutorial_start">Quick Start</a></p>
</li>
<li>
<p><a href="#tutorial_defaultconf">Adjusting default settings</a></p>
</li>
<li>
<p><a href="#tutorial_multiple">Multiple Resolvers</a></p>
</li>
<li>
<p><a href="#tutorial_dual">Dual Resolver</a></p>
</li>
<li>
<p><a href="#tutorial_dependence">Project dependencies</a></p>
</li>
<li>
<p><a href="#tutorial_multiproject">Using Ivy in multiple projects environment</a></p>
</li>
<li>
<p><a href="#tutorial_conf">Using Ivy Module Configurations</a></p>
</li>
<li>
<p><a href="#tutorial_build-repository">Building a repository</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="#tutorial_build-repository_basic">Basic repository copy</a></p>
</li>
<li>
<p><a href="#tutorial_build-repository_advanced">Using namespaces</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="#moreexamples">More examples</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="#reference">Reference</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="#intro">Introduction</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="#terminology">Terminology</a></p>
</li>
<li>
<p><a href="#concept">Main Concepts</a></p>
</li>
<li>
<p><a href="#textual">Text Conventions</a></p>
</li>
<li>
<p><a href="#principle">How does it work ?</a></p>
</li>
<li>
<p><a href="#bestpractices">Best practices</a></p>
</li>
<li>
<p><a href="#compatibility">Compatibility</a></p>
</li>
<li>
<p><a href="#install">Installation</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="#settings">Settings Files</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="#settings_property">property</a></p>
</li>
<li>
<p><a href="#settings_properties">properties</a></p>
</li>
<li>
<p><a href="#settings_settings">settings</a></p>
</li>
<li>
<p><a href="#settings_include">include</a></p>
</li>
<li>
<p><a href="#settings_classpath">classpath</a></p>
</li>
<li>
<p><a href="#settings_typedef">typedef</a></p>
</li>
<li>
<p><a href="#settings_credentials">credentials</a></p>
</li>
<li>
<p><a href="#settings_signers">signers</a></p>
</li>
<li>
<p><a href="#settings_lock-strategies">lock-strategies</a></p>
</li>
<li>
<p><a href="#settings_caches">caches</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="#settings_caches_cache">cache</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="#settings_caches_ttl">ttl</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><a href="#settings_latest-strategies">latest-strategies</a></p>
</li>
<li>
<p><a href="#settings_parsers">parsers</a></p>
</li>
<li>
<p><a href="#settings_namespaces">namespaces</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="#settings_namespace">namespace</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="#settings_namespace_rule">rule</a>
<strong><strong></strong></strong> <a href="#settings_namespace_fromtosystem">fromsystem / tosystem</a>
<strong><strong></strong><strong> <a href="#settings_namespace_src">src</a>
</strong><strong></strong></strong> <a href="#settings_namespace_dest">dest</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><a href="#settings_macrodef">macrodef</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="#settings_macrodef_attribute">attribute</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="#settings_resolvers">resolvers</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="#resolver_ivyrep">IvyRep Resolver</a></p>
</li>
<li>
<p><a href="#resolver_ibiblio">IBiblio Resolver</a></p>
</li>
<li>
<p><a href="#resolver_packager">Packager Resolver</a></p>
</li>
<li>
<p><a href="#resolver_filesystem">File System Resolver</a></p>
</li>
<li>
<p><a href="#resolver_url">URL Resolver</a></p>
</li>
<li>
<p><a href="#resolver_chain">Chain Resolver</a></p>
</li>
<li>
<p><a href="#resolver_dual">Dual Resolver</a></p>
</li>
<li>
<p><a href="#resolver_sftp">SFTP Resolver</a></p>
</li>
<li>
<p><a href="#resolver_ssh">SSH Resolver</a></p>
</li>
<li>
<p><a href="#resolver_vfs">VFS Resolver</a></p>
</li>
<li>
<p><a href="#resolver_jar">Jar Resolver</a></p>
</li>
<li>
<p><a href="#resolver_obr">OSGi Bundle Repository</a></p>
</li>
<li>
<p><a href="#resolver_osgiagg">Aggregated OSGi Repository</a></p>
</li>
<li>
<p><a href="#resolver_updatesite">Eclipse updatesite</a></p>
</li>
<li>
<p><a href="#resolver_mirrored">Mirrored Resolver</a></p>
</li>
<li>
<p><a href="#resolver_bintray">Bintray Resolver</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="#settings_conflict-managers">conflict-managers</a></p>
</li>
<li>
<p><a href="#settings_modules">modules</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="#settings_module">module</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="#settings_outputters">outputters</a></p>
</li>
<li>
<p><a href="#settings_statuses">statuses</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="#settings_status">status</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="#settings_triggers">triggers</a></p>
</li>
<li>
<p><a href="#settings_version-matchers">version-matchers</a></p>
</li>
<li>
<p><a href="#settings_timeout-constraints">timeout-constraints</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="#settings_timeout-constraint">timeout-constraint</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><a href="#ivyfile">Ivy Files</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="#ivyfile_info">info</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="#ivyfile_extends">extends</a></p>
</li>
<li>
<p><a href="#ivyfile_license">license</a></p>
</li>
<li>
<p><a href="#ivyfile_ivyauthor">ivyauthor</a></p>
</li>
<li>
<p><a href="#ivyfile_repository">repository</a></p>
</li>
<li>
<p><a href="#ivyfile_description">description</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="#ivyfile_configurations">configurations</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="#ivyfile_conf">conf</a></p>
</li>
<li>
<p><a href="#ivyfile_include">include</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="#ivyfile_publications">publications</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="#ivyfile_artifact">artifact</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="#ivyfile_artifact-conf">conf</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><a href="#ivyfile_dependencies">dependencies</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="#ivyfile_dependency">dependency</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="#ivyfile_dependency-conf">conf</a>
<strong><strong></strong></strong> <a href="#ivyfile_mapped">mapped</a></p>
</li>
<li>
<p><a href="#ivyfile_dependency-artifact">artifact</a>
<strong><strong></strong></strong> <a href="#ivyfile_dependency-artifact-conf">conf</a></p>
</li>
<li>
<p><a href="#ivyfile_artifact-exclude">exclude</a>
<strong><strong></strong></strong> <a href="#ivyfile_artifact-exclude-conf">conf</a></p>
</li>
<li>
<p><a href="#ivyfile_dependency-include">include</a>
<strong><strong></strong></strong> <a href="#ivyfile_dependency-include-conf">conf</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="#ivyfile_exclude">exclude</a></p>
</li>
<li>
<p><a href="#ivyfile_override">override</a></p>
</li>
<li>
<p><a href="#ivyfile_conflict">conflict</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="#ivyfile_conflicts">conflicts</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="#ivyfile_manager">manager</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><a href="#ant">Ant Tasks</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="#use_artifactproperty">artifactproperty</a></p>
</li>
<li>
<p><a href="#use_artifactreport">artifactreport</a></p>
</li>
<li>
<p><a href="#use_buildlist">buildlist</a></p>
</li>
<li>
<p><a href="#use_buildnumber">buildnumber</a></p>
</li>
<li>
<p><a href="#use_buildobr">buildobr</a></p>
</li>
<li>
<p><a href="#use_cachefileset">cachefileset</a></p>
</li>
<li>
<p><a href="#use_cachepath">cachepath</a></p>
</li>
<li>
<p><a href="#use_checkdepsupdate">checkdepsupdate</a></p>
</li>
<li>
<p><a href="#use_cleancache">cleancache</a></p>
</li>
<li>
<p><a href="#use_configure">configure</a></p>
</li>
<li>
<p><a href="#use_convertmanifest">convertmanifest</a></p>
</li>
<li>
<p><a href="#use_convertpom">convertpom</a></p>
</li>
<li>
<p><a href="#use_deliver">deliver</a></p>
</li>
<li>
<p><a href="#use_dependencytree">dependencytree</a></p>
</li>
<li>
<p><a href="#use_findrevision">findrevision</a></p>
</li>
<li>
<p><a href="#use_fixdeps">fixdeps</a></p>
</li>
<li>
<p><a href="#use_info">info</a></p>
</li>
<li>
<p><a href="#use_install">install</a></p>
</li>
<li>
<p><a href="#use_listmodules">listmodules</a></p>
</li>
<li>
<p><a href="#use_makepom">makepom</a></p>
</li>
<li>
<p><a href="#use_postresolvetask">post resolve tasks</a></p>
</li>
<li>
<p><a href="#use_publish">publish</a></p>
</li>
<li>
<p><a href="#use_report">report</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="#yed">Using yEd to layout report graphs</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="#use_repreport">repreport</a></p>
</li>
<li>
<p><a href="#use_resolve">resolve</a></p>
</li>
<li>
<p><a href="#use_resources">resources</a></p>
</li>
<li>
<p><a href="#use_retrieve">retrieve</a></p>
</li>
<li>
<p><a href="#use_settings">settings</a></p>
</li>
<li>
<p><a href="#use_var">var</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="#standalone">Using standalone</a></p>
</li>
<li>
<p><a href="#osgi">OSGi</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="#osgi_osgi-mapping">OSGi mapping</a></p>
</li>
<li>
<p><a href="#osgi_eclipse-plugin">Building an Eclipse plugin</a></p>
</li>
<li>
<p><a href="#osgi_standard-osgi">Building a standard OSGi bundle</a></p>
</li>
<li>
<p><a href="#osgi_target-platform">Managing a target platform</a></p>
</li>
<li>
<p><a href="#osgi_sigil">Apache Felix Sigil</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><a href="#dev">Developer doc</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="#extend">Extending Ivy</a></p>
</li>
<li>
<p><a href="#dev_makerelease">Making a release</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_release_notes_a_release_notes"><a id="release-notes"></a>Release Notes</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_ivy_release_announcement" class="sect0">Ivy Release Announcement</h1>
<div class="openblock partintro">
<div class="content">
20th October 2019 - The Apache Ivy project is pleased to announce its 2.5.0 release.
</div>
</div>
<div class="sect1">
<h2 id="_what_is_ivy">What is Ivy?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Apache Ivy is a tool for managing (recording, tracking, resolving and reporting) project dependencies, characterized by flexibility,
configurability, and tight integration with <a href="https://ant.apache.org/">Apache Ant</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_download">Download</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can download this release at <a href="https://ant.apache.org/ivy/download.cgi" class="bare">https://ant.apache.org/ivy/download.cgi</a></p>
</div>
<div class="paragraph">
<p>Issues should either be discussed in the <a href="https://ant.apache.org/ivy/mailing-lists.html">Ivy user mailing list</a> or reported at <a href="https://issues.apache.org/jira/browse/IVY" class="bare">https://issues.apache.org/jira/browse/IVY</a></p>
</div>
<div class="paragraph">
<p>More information about the project can be found on the website <a href="https://ant.apache.org/ivy/" class="bare">https://ant.apache.org/ivy/</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_key_features_in_this_release">Key features in this release</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Key features of this 2.5.0 release are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The minimum runtime Java version required is now Java 7</p>
</li>
<li>
<p>Ivy now uses BouncyCastle OpenPGP API 1.59. Due to the non backward compatibility of that library, earlier versions are not supported.</p>
</li>
<li>
<p>Ivy now uses HttpComponents HttpClient 4.5.x version with HTTP backed resolvers. Users are expected to have this version of the library (and its dependencies) in their runtime classpath if they want to use such resolvers. The previous (similarly named but not the same) commons-httpclient library is no longer used or supported. (<a href="https://issues.apache.org/jira/browse/IVY-1563">IVY-1563</a>)</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_list_of_changes_in_this_release">List of Changes in this Release</h2>
<div class="sectionbody">
<div class="paragraph">
<p>For details about the following changes, check our JIRA install at <a href="https://issues.apache.org/jira/browse/IVY" class="bare">https://issues.apache.org/jira/browse/IVY</a></p>
</div>
<div class="paragraph">
<p><strong>List of changes since Ivy 2.4.0:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>FIX: Local conflict manager didn&#8217;t handle deeper conflicts in transitive dependencies (<a href="https://issues.apache.org/jira/browse/IVY-1404">IVY-1404</a>)</p>
</li>
<li>
<p>FIX: Made the Maven 'test' configuration public so we can use the test-jar as dependency (<a href="https://issues.apache.org/jira/browse/IVY-1444">IVY-1444</a>)</p>
</li>
<li>
<p>FIX: NullPointerException in dependencytree with no dependencies (<a href="https://issues.apache.org/jira/browse/IVY-1539">IVY-1539</a>)</p>
</li>
<li>
<p>FIX: checkIfChanged is not settable attribute for checkdepsupdate ant task (<a href="https://issues.apache.org/jira/browse/IVY-1549">IVY-1549</a>)</p>
</li>
<li>
<p>FIX: ArrayIndexOutOfBoundsException when using a p2 repository for dependencies (<a href="https://issues.apache.org/jira/browse/IVY-1504">IVY-1504</a>)</p>
</li>
<li>
<p>FIX: fixdeps remove transitive 'kept' dependencies</p>
</li>
<li>
<p>FIX: PomModuleDescriptorParser should parse licenses from parent POM (<a href="https://issues.apache.org/jira/browse/IVY-1526">IVY-1526</a>) (Thanks to Jaikiran Pai)</p>
</li>
<li>
<p>FIX: dynamic revisions are not cached per resolver (<a href="https://issues.apache.org/jira/browse/IVY-1430">IVY-1430</a>) (Thanks to Stephen Haberman)</p>
</li>
<li>
<p>FIX: Dependencies failed using branch attribute (and extra attributes) (<a href="https://issues.apache.org/jira/browse/IVY-1141">IVY-1141</a>) (Thanks to Stephen Haberman)</p>
</li>
<li>
<p>FIX: useCacheOnly should allow lookup of changing dependencies in cache (<a href="https://issues.apache.org/jira/browse/IVY-1515">IVY-1515</a>) (Thanks to Ilya)</p>
</li>
<li>
<p>FIX: Translation of POM to Ivy XML with * exclusion is removing main artifact (<a href="https://issues.apache.org/jira/browse/IVY-1531">IVY-1531</a>) (Thanks to Jaikiran Pai)</p>
</li>
<li>
<p>FIX: Have makepom task take description from ivy-module &gt; info &gt; description element (<a href="https://issues.apache.org/jira/browse/IVY-1520">IVY-1520</a>)</p>
</li>
<li>
<p>FIX: Fix RetrieveEngine to take into account the correct extension while dealing with unpacked artifacts (<a href="https://issues.apache.org/jira/browse/IVY-1478">IVY-1478</a>) (Thanks to Jaikiran Pai)</p>
</li>
<li>
<p>FIX: ParseException "Unsupported repository, resources names are not uris" for ivy.xml with parent on Windows (<a href="https://issues.apache.org/jira/browse/IVY-1448">IVY-1448</a>) (Thanks to Riccardo Foschia and Jaikiran Pai)</p>
</li>
<li>
<p>FIX: Ivy 2.4.0 improperly handles modules with colon (:) in version (<a href="https://issues.apache.org/jira/browse/IVY-1522">IVY-1522</a>) (Thanks to Jaikiran Pai)</p>
</li>
<li>
<p>FIX: Delay the processing of configured cache ttls, until the IvySettings object is usable (<a href="https://issues.apache.org/jira/browse/IVY-1495">IVY-1495</a>) (Thanks to Jaikiran Pai)</p>
</li>
<li>
<p>FIX: Including optional ivysettings of type 'file' doesn&#8217;t work when file doesn&#8217;t exist (<a href="https://issues.apache.org/jira/browse/IVY-1555">IVY-1555</a>) (Thanks to Jaikiran Pai)</p>
</li>
<li>
<p>FIX: Makepom ignores dependency classifiers (<a href="https://issues.apache.org/jira/browse/IVY-1528">IVY-1528</a>) (Thanks to Jaikiran Pai)</p>
</li>
<li>
<p>FIX: Infinite loop in dependency tree (<a href="https://issues.apache.org/jira/browse/IVY-1540">IVY-1540</a>) (Thanks to Jaikiran Pai)</p>
</li>
<li>
<p>FIX: HTTP issue: Basic authentication is stuck in 401 loop (<a href="https://issues.apache.org/jira/browse/IVY-1336">IVY-1336</a>)</p>
</li>
<li>
<p>FIX: command line: -types seems to not accept comma (<a href="https://issues.apache.org/jira/browse/IVY-1355">IVY-1355</a>)</p>
</li>
<li>
<p>FIX: Mixed use of symlinks leads to cache corruption (<a href="https://issues.apache.org/jira/browse/IVY-1498">IVY-1498</a>) (Thanks to Stephen Haberman)</p>
</li>
<li>
<p>FIX: Some cached locations are stored incorrectly resulting in MalformedURLException (<a href="https://issues.apache.org/jira/browse/IVY-1566">IVY-1566</a>) (Thanks to Aur&eacute;lien Pupier)</p>
</li>
<li>
<p>FIX: defaultconf/mapping attributes ignored when extended/included from parent file (<a href="https://issues.apache.org/jira/browse/IVY-1315">IVY-1315</a> <a href="https://issues.apache.org/jira/browse/IVY-1419">IVY-1419</a> <a href="https://issues.apache.org/jira/browse/IVY-1420">IVY-1420</a> <a href="https://issues.apache.org/jira/browse/IVY-1437">IVY-1437</a>) (Thanks to Willem Verstraeten)</p>
</li>
<li>
<p>FIX: ApacheURLLister skips versions with URL encoded characters (<a href="https://issues.apache.org/jira/browse/IVY-1442">IVY-1442</a> <a href="https://issues.apache.org/jira/browse/IVY-1573">IVY-1573</a>)</p>
</li>
<li>
<p>FIX: Configuration lists are sensitive to whitespace; multiple split/merge methods (<a href="https://issues.apache.org/jira/browse/IVY-309">IVY-309</a> <a href="https://issues.apache.org/jira/browse/IVY-1282">IVY-1282</a>)</p>
</li>
<li>
<p>FIX: Warnings about illegal reflection access due to lack of methods to retrieve default authenticator in Java 5 to 8 (<a href="https://issues.apache.org/jira/browse/IVY-1569">IVY-1569</a>)</p>
</li>
<li>
<p>FIX: Cycle in parent POM ancestry yields StackOverflowError in PomModuleDescriptorParser (<a href="https://issues.apache.org/jira/browse/IVY-1545">IVY-1545</a>) (Thanks to Brett Randall)</p>
</li>
<li>
<p>FIX: The method hasIvyListener in org.apache.ivy.core.event.EventManager always returned false</p>
</li>
<li>
<p>FIX: Allow conditionally activated properties through Maven profiles, to be referenced in the <code>pom.xml</code> (<a href="https://issues.apache.org/jira/browse/IVY-1577">IVY-1577</a>)</p>
</li>
<li>
<p>FIX: Fix Maven dependency resolution for dependencies with multiple different classifiers (<a href="https://issues.apache.org/jira/browse/IVY-1576">IVY-1576</a>)</p>
</li>
<li>
<p>FIX: Correct parent classloader when lauching resolved artifacts from CLI (<a href="https://issues.apache.org/jira/browse/IVY-1483">IVY-1483</a>) (Thanks to Stephan Feder)</p>
</li>
<li>
<p>FIX: Make Main.run() public (usable with REPL) (<a href="https://issues.apache.org/jira/browse/IVY-1321">IVY-1321</a> <a href="https://issues.apache.org/jira/browse/IVY-1578">IVY-1578</a>) (Thanks to Greg Perry)</p>
</li>
<li>
<p>FIX: Make ivy.deps.changed work with extra attributes (<a href="https://issues.apache.org/jira/browse/IVY-1104">IVY-1104</a>) (Thanks to Arseny Aprelev)</p>
</li>
<li>
<p>FIX: Implement dependency configuration negation (<a href="https://issues.apache.org/jira/browse/IVY-982">IVY-982</a> <a href="https://issues.apache.org/jira/browse/IVY-1547">IVY-1547</a>) (Thanks to Arseny Aprelev)</p>
</li>
<li>
<p>FIX: Don&#8217;t throw a CircularDependencyException when parsing an import scoped dependency in dependencyManagement section of a pom (<a href="https://issues.apache.org/jira/browse/IVY-1588">IVY-1588</a>)</p>
</li>
<li>
<p>FIX: Respect exclude regardless of resolution order (<a href="https://issues.apache.org/jira/browse/IVY-1486">IVY-1486</a>) (thanks to David Turner)</p>
</li>
<li>
<p>FIX: ModuleDescriptorMemoryCache didn&#8217;t detect outdated entries when Ivy file was updated in the cache by another process</p>
</li>
<li>
<p>FIX: Store ArtifactOrigin&#8217;s location as a URL</p>
</li>
<li>
<p>FIX: Retrieve task, with symlink enabled, would not create symlinks for artifacts in certain specific cases (<a href="https://issues.apache.org/jira/browse/IVY-1594">IVY-1594</a>)</p>
</li>
<li>
<p>FIX: Generated ivy.xml from pom with multiple dependencies with different classifier does not contain the main dependency (<a href="https://issues.apache.org/jira/browse/IVY-1580">IVY-1580</a>)</p>
</li>
<li>
<p>IMPROVEMENT: Throw an IllegalStateException when retrieving the resolutionCacheRoot on the DefaultResolutionCacheManager if the basedir (or IvySettings) is not set (<a href="https://issues.apache.org/jira/browse/IVY-1482">IVY-1482</a>)</p>
</li>
<li>
<p>IMPROVEMENT: Optimization: limit the revision numbers scanned if revision prefix is specified (Thanks to Ernestas Vaiciukevi&ccaron;ius)</p>
</li>
<li>
<p>IMPROVEMENT: Update BouncyCastle to 1.59 (<a href="https://issues.apache.org/jira/browse/IVY-1521">IVY-1521</a>) (Thanks to Michal Srb)</p>
</li>
<li>
<p>IMPROVEMENT: <code>symlinkmass</code> option of retrieve task has been deprecated in this release and will no longer be supported since, starting this version of Ivy, Ivy uses Java standard API(s) for symlink management and as such doesn&#8217;t spawn a process to execute symlink creation shell commands, like it used to do earlier. The <code>symlinkmass</code> option was previously there to launch just one single process instead of multiple processes for symlink creation. Now with the usage of the Java standard API(s), this option no longer is relevant.</p>
</li>
<li>
<p>IMPROVEMENT: Ivy command line now supports passing <code>overwriteMode</code> option to <code>retrieve</code> task (<a href="https://issues.apache.org/jira/browse/IVY-1447">IVY-1447</a>)</p>
</li>
<li>
<p>IMPROVEMENT: Support timestamped SNAPSHOT versions from Maven repository (<a href="https://issues.apache.org/jira/browse/IVY-1153">IVY-1153</a> <a href="https://issues.apache.org/jira/browse/IVY-1476">IVY-1476</a>)</p>
</li>
<li>
<p>IMPROVEMENT: Update Commons VFS to 2.2</p>
</li>
<li>
<p>IMPROVEMENT: Ivy now supports activating of Maven profiles, in <code>pom.xml</code>, by <code>jdk</code>, <code>os</code>, <code>property</code> and <code>file</code> (<a href="https://issues.apache.org/jira/browse/IVY-1558">IVY-1558</a> <a href="https://issues.apache.org/jira/browse/IVY-1577">IVY-1577</a>)</p>
</li>
<li>
<p>IMPROVEMENT: Better thread safety of the resolve process</p>
</li>
<li>
<p>NEW: Lets SSH-based resolvers use an <code>~/.ssh/config</code> file to find username/hostname/keyfile options (Thanks to Colin Stanfill)</p>
</li>
<li>
<p>NEW: Add ivy.maven.lookup.sources and ivy.maven.lookup.javadoc variables to control the lookup of the additional artifacts. Defaults to true, for backward compatibility (<a href="https://issues.apache.org/jira/browse/IVY-1529">IVY-1529</a>)</p>
</li>
<li>
<p>NEW: Add (conditional) support for SHA-256, SHA-512 and SHA-384 checksum algorithms (<a href="https://issues.apache.org/jira/browse/IVY-1554">IVY-1554</a>) (Thanks to Jaikiran Pai)</p>
</li>
<li>
<p>NEW: The standalone Ivy jar can now be used to generate a pom file for the resolved module, using the <code>makepom</code> option (Thanks to <a href="https://github.com/aanno">Thomas Pasch</a>)</p>
</li>
<li>
<p>NEW: The buildlist task can now have <code>root</code> and <code>leaf</code> subelements to specify the organisation (and other attributes) of the root and leaf modules (<a href="https://issues.apache.org/jira/browse//IVY-1242">/IVY-1242</a>) and (<a href="https://issues.apache.org/jira/browse/IVY-1293">IVY-1293</a>)</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_committers_and_contributors">Committers and Contributors</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Here is the list of people who have contributed source code and documentation up to this release. Many thanks to all of them, and also to the whole IvyDE community contributing ideas and feedback, and promoting the use of Apache Ivy !</p>
</div>
<div class="paragraph">
<p><strong>Committers:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Matt Benson</p>
</li>
<li>
<p>Jean-Louis Boudart</p>
</li>
<li>
<p>Maarten Coene</p>
</li>
<li>
<p>Charles Duffy</p>
</li>
<li>
<p>Gintautas Grigelionis</p>
</li>
<li>
<p>Xavier Hanin</p>
</li>
<li>
<p>Nicolas Lalev&eacute;e</p>
</li>
<li>
<p>Jaikiran Pai</p>
</li>
<li>
<p>Jon Schneider</p>
</li>
<li>
<p>Gilles Scokart</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Contributors:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Ingo Adler</p>
</li>
<li>
<p>Mathieu Anquetin</p>
</li>
<li>
<p>Arseny Aprelev</p>
</li>
<li>
<p>Andreas Axelsson</p>
</li>
<li>
<p>St&eacute;phane Bailliez</p>
</li>
<li>
<p>Karl Baum</p>
</li>
<li>
<p>Andrew Bernhagen</p>
</li>
<li>
<p>Mikkel Bjerg</p>
</li>
<li>
<p>Per Arnold Blaasmo</p>
</li>
<li>
<p>Jeffrey Blattman</p>
</li>
<li>
<p>Jasper Blues</p>
</li>
<li>
<p>Jim Bonanno</p>
</li>
<li>
<p>Joseph Boyd</p>
</li>
<li>
<p>Dave Brosius</p>
</li>
<li>
<p>Matthieu Brouillard</p>
</li>
<li>
<p>Carlton Brown</p>
</li>
<li>
<p>Mirko Bulovic</p>
</li>
<li>
<p>Ed Burcher</p>
</li>
<li>
<p>Jamie Burns</p>
</li>
<li>
<p>Wei Chen</p>
</li>
<li>
<p>Chris Chilvers</p>
</li>
<li>
<p>Kristian Cibulskis</p>
</li>
<li>
<p>Andrea Bernardo Ciddio</p>
</li>
<li>
<p>Archie Cobbs</p>
</li>
<li>
<p>Flavio Coutinho da Costa</p>
</li>
<li>
<p>Stefan De Boey</p>
</li>
<li>
<p>Mykhailo Delegan</p>
</li>
<li>
<p>Charles Duffy</p>
</li>
<li>
<p>Martin Eigenbrodt</p>
</li>
<li>
<p>Alexandr Esaulov</p>
</li>
<li>
<p>Stephen Evanchik</p>
</li>
<li>
<p>Stephan Feder</p>
</li>
<li>
<p>Robin Fernandes</p>
</li>
<li>
<p>Gregory Fernandez</p>
</li>
<li>
<p>Danno Ferrin</p>
</li>
<li>
<p>Riccardo Foschia</p>
</li>
<li>
<p>Benjamin Francisoud</p>
</li>
<li>
<p>Wolfgang Frank</p>
</li>
<li>
<p>Jacob Grydholt Jensen</p>
</li>
<li>
<p>John Gibson</p>
</li>
<li>
<p>Mitch Gitman</p>
</li>
<li>
<p>Evgeny Goldin</p>
</li>
<li>
<p>Scott Goldstein</p>
</li>
<li>
<p>Stephen Haberman</p>
</li>
<li>
<p>Aaron Hachez</p>
</li>
<li>
<p>Ben Hale</p>
</li>
<li>
<p>Peter Hayes</p>
</li>
<li>
<p>Scott Hebert</p>
</li>
<li>
<p>Payam Hekmat</p>
</li>
<li>
<p>Tobias Himstedt</p>
</li>
<li>
<p>Achim Huegen</p>
</li>
<li>
<p>Pierre H&auml;gnestrand</p>
</li>
<li>
<p>Matt Inger</p>
</li>
<li>
<p>Anders Jacobsson</p>
</li>
<li>
<p>Anders Janmyr</p>
</li>
<li>
<p>Steve Jones</p>
</li>
<li>
<p>Christer Jonsson</p>
</li>
<li>
<p>Michael Kebe</p>
</li>
<li>
<p>Matthias Kilian</p>
</li>
<li>
<p>Alexey Kiselev</p>
</li>
<li>
<p>Gregory Kisling</p>
</li>
<li>
<p>Stepan Koltsov</p>
</li>
<li>
<p>Heschi Kreinick</p>
</li>
<li>
<p>Sebastian Krueger</p>
</li>
<li>
<p>Thomas Kurpick</p>
</li>
<li>
<p>Costin Leau</p>
</li>
<li>
<p>Ilya Leoshkevich</p>
</li>
<li>
<p>Tat Leung</p>
</li>
<li>
<p>Antoine Levy-Lambert</p>
</li>
<li>
<p>Tony Likhite</p>
</li>
<li>
<p>Andrey Lomakin</p>
</li>
<li>
<p>William Lyvers</p>
</li>
<li>
<p>Sakari Maaranen</p>
</li>
<li>
<p>Jan Materne</p>
</li>
<li>
<p>Markus M. May</p>
</li>
<li>
<p>Abel Muino</p>
</li>
<li>
<p>J. Lewis Muir</p>
</li>
<li>
<p>Stephen Nesbitt</p>
</li>
<li>
<p>Joshua Nichols</p>
</li>
<li>
<p>Bernard Niset</p>
</li>
<li>
<p>Ales Nosek</p>
</li>
<li>
<p>David Maplesden</p>
</li>
<li>
<p>Glen Marchesani</p>
</li>
<li>
<p>Phil Messenger</p>
</li>
<li>
<p>Steve Miller</p>
</li>
<li>
<p>Mathias Muller</p>
</li>
<li>
<p>Randy Nott</p>
</li>
<li>
<p>Peter Oxenham</p>
</li>
<li>
<p>Douglas Palmer</p>
</li>
<li>
<p>Thomas Pasch</p>
</li>
<li>
<p>Jesper Pedersen</p>
</li>
<li>
<p>Emmanuel Pellereau</p>
</li>
<li>
<p>Greg Perry</p>
</li>
<li>
<p>Carsten Pfeiffer</p>
</li>
<li>
<p>Yanus Poluektovich</p>
</li>
<li>
<p>Roshan Punnoose</p>
</li>
<li>
<p>Aur&eacute;lien Pupier</p>
</li>
<li>
<p>Jean-Baptiste Quenot</p>
</li>
<li>
<p>Carl Quinn</p>
</li>
<li>
<p>Damon Rand</p>
</li>
<li>
<p>Geoff Reedy</p>
</li>
<li>
<p>Torkild U. Resheim</p>
</li>
<li>
<p>Christian Riege</p>
</li>
<li>
<p>Frederic Riviere</p>
</li>
<li>
<p>Jens Rohloff</p>
</li>
<li>
<p>Andreas Sahlbach</p>
</li>
<li>
<p>Brian Sanders</p>
</li>
<li>
<p>Adrian Sandor</p>
</li>
<li>
<p>Michael Scheetz</p>
</li>
<li>
<p>Ben Schmidt</p>
</li>
<li>
<p>Ruslan Shevchenko</p>
</li>
<li>
<p>John Shields</p>
</li>
<li>
<p>Nihal Sinha</p>
</li>
<li>
<p>Gene Smith</p>
</li>
<li>
<p>Michal Srb</p>
</li>
<li>
<p>Colin Stanfill</p>
</li>
<li>
<p>Simon Steiner</p>
</li>
<li>
<p>Johan Stuyts</p>
</li>
<li>
<p>John Tinetti</p>
</li>
<li>
<p>Erwin Tratar</p>
</li>
<li>
<p>Jason Trump</p>
</li>
<li>
<p>David Turner</p>
</li>
<li>
<p>Ernestas Vaiciukevi&ccaron;ius</p>
</li>
<li>
<p>Tjeerd Verhagen</p>
</li>
<li>
<p>Willem Verstraeten</p>
</li>
<li>
<p>Richard Vowles</p>
</li>
<li>
<p>Sven Walter</p>
</li>
<li>
<p>Zhong Wang</p>
</li>
<li>
<p>James P. White</p>
</li>
<li>
<p>Tom Widmer</p>
</li>
<li>
<p>John Williams</p>
</li>
<li>
<p>Chris Wood</p>
</li>
<li>
<p>Patrick Woodworth</p>
</li>
<li>
<p>Jaroslaw Wypychowski</p>
</li>
<li>
<p>Sven Zethelius</p>
</li>
<li>
<p>Aleksey Zhukov</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_tutorial_a_tutorials"><a id="tutorial"></a>Tutorials</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_ivy_tutorials" class="sect0">Ivy Tutorials</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p>The best way to learn is to practice! That&#8217;s what the Ivy tutorials will help you to do, to discover some of the great Ivy <a href="https://ant.apache.org/ivy/features.html">features</a>.</p>
</div>
<div class="paragraph">
<p>For the first tutorial you won&#8217;t even have to install Ivy (assuming you have Ant and a JDK properly installed), and it shouldn&#8217;t take more than 30 seconds.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_first_tutorial">First Tutorial</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Make sure you have <a href="https://ant.apache.org/">Ant</a> 1.9.9 or greater and a <a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">Java JDK</a> properly installed<br/></p>
</li>
<li>
<p>Copy <a href="samples/build.xml">this build file</a> to an empty directory on your local filesystem (and make sure you name it <code>build.xml</code>)<br/></p>
</li>
<li>
<p>Open a console in that directory and run the command: <code>ant</code>. That&#8217;s it!<br/></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you have any trouble, check our <a href="https://ant.apache.org/ivy/faq.html">FAQ</a>.</p>
</div>
<div class="paragraph">
<p>OK, you&#8217;ve just seen how easy it is to take your first step with Ivy. Go ahead with the other tutorials, but before you do, make sure you have properly <a href="install.html">installed</a> Ivy and downloaded the tutorials sources (included in all Ivy distributions, in the <a href="https://gitbox.apache.org/repos/asf?p=ant-ivy.git;a=tree;f=src/example">src/example</a> directory).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_list_of_available_tutorials">List of available tutorials</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following tutorials are available:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="tutorial/start.html">Quick Start</a><br/>
Guides you through your very first steps with Ivy.</p>
</li>
<li>
<p><a href="tutorial/defaultconf.html">Adjusting default settings</a><br/>
Gives you a better understanding of the default settings and shows you how to customize them to your needs.</p>
</li>
<li>
<p><a href="tutorial/multiple.html">Multiple Resolvers</a><br/>
Teaches you how to configure Ivy to find its dependencies in multiple places.</p>
</li>
<li>
<p><a href="tutorial/dual.html">Dual Resolver</a><br/>
Helps you configure Ivy to find Ivy files in one place and artifacts in another.</p>
</li>
<li>
<p><a href="tutorial/dependence.html">Project dependencies</a><br/>
A starting point for using Ivy in a multi-project environment.</p>
</li>
<li>
<p><a href="tutorial/multiproject.html">Using Ivy in multiple projects environment</a><br/>
A more complex example demonstrating the use of Ant+Ivy in a multi-project environment.</p>
</li>
<li>
<p><a href="tutorial/conf.html">Using Ivy Module Configurations</a><br/>
Shows you how to use configurations in an Ivy file to define sets of artifacts.</p>
</li>
<li>
<p><a href="tutorial/build-repository.html">Building a repository</a><br/>
Shows you how to build your own enterprise repository.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_tutorial_start_a_quick_start"><a id="tutorial_start"></a>Quick Start</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_ivy_quickstart" class="sect0">Ivy Quickstart</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p>In this tutorial, you will see one of the simplest ways to use Ivy. With no specific settings, Ivy uses the Maven 2 repository to resolve the dependencies you declare in an Ivy file. Let&#8217;s have a look at the content of the files involved.</p>
</div>
<div class="paragraph">
<p><em>You&#8217;ll find this tutorial&#8217;s sources in the Ivy distribution in the src/example/hello-ivy directory.</em></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_ivy_xml_file">The ivy.xml file</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This file describes the dependencies of the project on other libraries. Here is the sample:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy-module version="2.0"&gt;
    &lt;info organisation="org.apache" module="hello-ivy"/&gt;
    &lt;dependencies&gt;
        &lt;dependency org="commons-lang" name="commons-lang" rev="2.0"/&gt;
        &lt;dependency org="commons-cli" name="commons-cli" rev="1.0"/&gt;
    &lt;/dependencies&gt;
&lt;/ivy-module&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The format of this file should be pretty easy to understand, but let&#8217;s discuss some details about what is declared here. First, the root element is <code>ivy-module</code>, with the <code>version</code> attribute telling Ivy which lowest version of Ivy this file is compatible with.</p>
</div>
<div class="paragraph">
<p>Then there is an <code>info</code> tag, which provides information about the module for which we are defining dependencies. Here we define only the <code>organization</code> and <code>module</code> names. You are free to choose whatever you want for them, but we recommend avoiding spaces for both.</p>
</div>
<div class="paragraph">
<p>Finally, the <code>dependencies</code> section lets you define dependencies. In this example, this module depends on two libraries: <code>commons-lang</code> and <code>commons-cli</code>. As you can see, we use the <code>org</code> and <code>name</code> attributes to define the organization and module name of the dependencies we need. The <code>rev</code> attribute is used to specify the version of the module you depend on.</p>
</div>
<div class="paragraph">
<p>To know what to put in these attributes, you need to know the exact information for the libraries you depend on. Ivy uses the Maven 2 central repository by default, so we recommend you use <a href="https://mvnrepository.com">mvnrepository.com</a> to look for the module you want. Once you find it, you will have the details of that module in the <code>pom.xml</code> file of that module. For instance:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">    &lt;project ....&gt;
        &lt;groupId&gt;commons-lang&lt;/groupId&gt;
        &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;
        &lt;version&gt;2.0&lt;/version&gt;
    ...</code></pre>
</div>
</div>
<div class="paragraph">
<p>To convert this into an Ivy dependency declaration, all you have to do is use the <code>groupId</code> as organization, the <code>artifactId</code> as module name, and the version as revision. That&#8217;s what we did for the dependencies in this tutorial, that is <code>commons-lang</code> and <code>commons-cli</code>. Note that having <code>commons-lang</code> and <code>commons-cli</code> as <code>organization</code> is not the best example of what the organization should be. It would be better to use <code>org.apache</code>, <code>org.apache.commons</code> or <code>org.apache.commons.lang</code>. However, this is how these specific modules were identified in the Maven 2 repository, so the simplest way to get them is to use the details as is (you will see in <a href="../tutorial/build-repository.html">Building a repository</a> that you can use namespaces to redefine these names if you want something cleaner).</p>
</div>
<div class="paragraph">
<p>If you want more details on what you can do in Ivy files, you can have a look at the <a href="../ivyfile.html">Ivy files reference documentation</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_build_xml_file">The build.xml file</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The corresponding build file contains a set of targets, allowing you to resolve dependencies declared in the Ivy file, to compile and run the sample code, produce a report of dependency resolution, and clean the cache or the project.
You can use the standard <code>ant -p</code> command to get the list of available targets. Feel free to have a look at the whole file, but here is the part relevant to dependency resolution:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;project xmlns:ivy="antlib:org.apache.ivy.ant" name="hello-ivy" default="run"&gt;

    ...

    &lt;!-- =================================
          target: resolve
         ================================= --&gt;
    &lt;target name="resolve" description="--&gt; retrieve dependencies with Ivy"&gt;
        &lt;ivy:retrieve/&gt;
    &lt;/target&gt;
&lt;/project&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see, it&#8217;s very easy to call Ivy to resolve and retrieve dependencies: all you need if Ivy is properly <a href="../install.html">installed</a> is to define an XML namespace in your Ant file (<code>xmlns:ivy="antlib:org.apache.ivy.ant"</code>). Then all the <a href="../ant.html">Ivy Ant tasks</a> will be available in this namespace.</p>
</div>
<div class="paragraph">
<p>Here we use only one task: the <a href="../use/retrieve.html">retrieve</a> task. With no attributes, it will use default settings and look for a file named <code>ivy.xml</code> for the dependency definitions. That&#8217;s exactly what we want, so we need nothing more than that.</p>
</div>
<div class="paragraph">
<p>Note that in this case we define a <code>resolve</code> target and call the <code><a href="../use/retrieve.html">retrieve</a></code> task. This may sound confusing, actually the retrieve task performs a <a href="../use/resolve.html">resolve</a> (which resolves dependencies and downloads them to a cache) followed by a retrieve (a copy of those file to a local project directory). Check the <a href="../principle.html">How does it work ?</a> page for details about that.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_running_the_project">Running the project</h2>
<div class="sectionbody">
<div class="paragraph">
<p>OK, now that we have seen the files involved, let&#8217;s run the sample to see what happens. Open a shell (or command line) window, and go into the <code>hello-ivy</code> example directory.
Then, at the command prompt, run <code>ant</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell" data-lang="shell">Unresolved directive in asciidoc/tutorial/start.adoc - include::asciidoc/tutorial/log/hello-ivy-1.txt[]</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_what_happened">What happened ?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Without any settings, Ivy retrieves files from the Maven 2 repository. That&#8217;s what happened here.
The resolve task has found the <code>commons-lang</code> and <code>commons-cli</code> modules in the Maven 2 central repository, identified that <code>commons-cli</code> depends on <code>commons-logging</code> and so resolved it as a transitive dependency. Then Ivy has downloaded all corresponding artifacts in its cache (by default in your user home, in a <code>.ivy2/cache</code> directory). Finally, the retrieve task copies the resolved jars from the Ivy cache to the default library directory of the project: the <code>lib</code> dir (you can change this easily by setting the pattern attribute on the <a href="../use/retrieve.html">retrieve</a> task).</p>
</div>
<div class="paragraph">
<p>You might say that the task took a long time just to write out a "Hello Ivy!" message. But remember that a lot of time was spent downloading the required files from the web. Let&#8217;s try to run it again:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell" data-lang="shell">Unresolved directive in asciidoc/tutorial/start.adoc - include::asciidoc/tutorial/log/hello-ivy-2.txt[]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Great! The cache was used, so no download was needed and the build was instantaneous.</p>
</div>
<div class="paragraph">
<p>And now, if you want to generate a report detailing all the dependencies of your module, you can call the report target, and check the generated file in the build directory. You should obtain something looking like <a href="../samples/apache-hello-ivy-default.html">this</a>.</p>
</div>
<div class="paragraph">
<p>As you can see, using Ivy to resolve dependencies stored in the Maven 2 repository is extremely easy. Now you can go on with the other tutorials to learn more about <a href="../tutorial/conf.html">how to use module configurations</a> which is a very powerful Ivy specific feature. More tutorials are also available where you will learn how to use Ivy settings to leverage a possibly complex enterprise repository. It may also be a good time to start reading the <a href="../reference.html">reference documentation</a>, and especially the introduction material which gives a good overview of Ivy. The <a href="../bestpractices.html">best practices</a> page is also a must read to start thinking about how to use Ant+Ivy to build a clean and robust build system.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_tutorial_defaultconf_a_adjusting_default_settings"><a id="tutorial_defaultconf"></a>Adjusting default settings</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_adjusting_default_ivy_configurations" class="sect0">Adjusting default Ivy configurations</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p>Ivy comes bundled with some default settings which makes it pretty simple to use in a typical environment. This tutorial, which is close to a reference document, explains what those default settings are and how they can be adjusted to your needs.</p>
</div>
<div class="paragraph">
<p>To fully understand the concept of settings and what you can do with them, we suggest reading other tutorials related to settings (like <a href="../tutorial/multiple.html">Multiple Resolvers</a> and <a href="../tutorial/dual.html">Dual Resolver</a>) or the <a href="../settings.html">Settings Files</a> reference documentation.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_concept">Concept</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The default settings include 3 types of repositories:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>local<br/>
A repository which is private to the user.</p>
</li>
<li>
<p>shared<br/>
A repository which is shared between all the members of a team</p>
</li>
<li>
<p>public<br/>
A public repository in which most modules, and especially third party modules, can be found</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note that if you work alone, the distinction between a local and shared repository is not very important, but there are some things you should know to distinguish them.</p>
</div>
<div class="paragraph">
<p>Now let&#8217;s describe each of these repository concepts in more detail. We will describe how they are set up physically later.</p>
</div>
<div class="sect2">
<h3 id="_local">Local</h3>
<div class="paragraph">
<p>The local repository is particularly useful when you want to do something without being disturbed by anything else happening in the environment. This means that whenever Ivy is able to locate a module in this repository it will be used, no matter what is available in others.</p>
</div>
<div class="paragraph">
<p>For instance, if you have a module declaring a dependency on the module <code>foo</code> with a revision of <code>latest.integration</code>, then if a revision of <code>foo</code> is found in the local repository, it will be used, <em>even if a more recent revision is available in other repositories</em>.</p>
</div>
<div class="paragraph">
<p>This may be disturbing for some of you, but imagine you have to implement a new feature on a project, and in order to achieve that you need to modify two modules: you add a new method in module <code>foo</code> and exploit this new method in module <code>bar</code>. Then if you publish the module <code>foo</code> to your local repository, you will be sure to get it in your <code>bar</code> module, even if someone else publishes a new revision of <code>foo</code> in the shared repository (this revision not having the new method you are currently adding).</p>
</div>
<div class="paragraph">
<p>But be careful, when you have finished your development and publish it on the shared repository, you will have to clean your local repository to benefit from new versions published in the shared repository.</p>
</div>
<div class="paragraph">
<p>Note also that modules found in the local repository must be complete, i.e. they must provide both a module descriptor and the published artifacts.</p>
</div>
</div>
<div class="sect2">
<h3 id="_shared">Shared</h3>
<div class="paragraph">
<p>As its name suggest, the shared repository is aimed to be shared among the whole development team. It is a place where you can publish your team&#8217;s private modules, and it&#8217;s also a place where you can put modules not available in the public repository. You can also put modules here that are simply inaccurate in a public repository (bad or incomplete module descriptors, for instance).</p>
</div>
<div class="paragraph">
<p>Note that modules can be split across the shared repository and the public one: for example, you can have the module descriptor in the shared repository and the artifacts in the public one.</p>
</div>
</div>
<div class="sect2">
<h3 id="_public">Public</h3>
<div class="paragraph">
<p>The public repository is the place where most modules can be found, but which sometimes lack the information you need. It&#8217;s usually a repository available through an Internet connection only, even if this is not mandatory.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_setting_up_the_repositories">Setting up the repositories</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Now that we have seen the objective of each of the three repositories, let&#8217;s see how they are set up and how to configure them to fit your needs.</p>
</div>
<div class="paragraph">
<p>First, several repositories use the same root in your filesystem. Referenced as <code>${ivy.default.ivy.user.dir}</code>, this is by default the directory <code>.ivy2</code> in your user home.</p>
</div>
<div class="paragraph">
<p>Note that several things can be done by setting Ivy variables. To set them without defining your own <code>ivysettings.xml</code> file, you can:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>set an Ant property before any call to Ivy in your build file if you use Ivy from Ant<br/></p>
</li>
<li>
<p>set an environment variable if you use Ivy from the command line<br/></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;target name="resolve"&gt;
  &lt;property name="ivy.default.ivy.user.dir" value="/path/to/ivy/user/dir"/&gt;
  &lt;ivy:resolve/&gt;
&lt;/target&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Next we will show you how to override default values for the different kinds of repositories. Note that you can find what the default values are below in the details of the default settings.</p>
</div>
<div class="sect2">
<h3 id="_local_2">Local</h3>
<div class="paragraph">
<p>By default, the local repository lies in <code>${ivy.default.ivy.user.dir}/local</code>. This is usually a good place, but you may want to modify it. No problem, you just have to set the <code>ivy.local.default.root</code> Ivy variable to the directory you want to use:</p>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>ivy.local.default.root=/opt/ivy/repository/local</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you already have something you would like to use as your local repository, you may also want to modify the layout of this repository. Once again, two variables are available for that:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ivy.local.default.ivy.pattern</code> which gives the pattern to find Ivy module descriptor files</p>
</li>
<li>
<p><code>ivy.local.default.artifact.pattern</code> which gives the pattern to find the artifacts</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>ivy.local.default.root=/opt/ivy/repository/local
ivy.local.default.ivy.pattern=[module]/[revision]/ivy.xml
ivy.local.default.artifact.pattern=[module]/[revision]/[artifact].[ext]</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_shared_2">Shared</h3>
<div class="paragraph">
<p>By default, the shared repository lies in <code>${ivy.default.ivy.user.dir}/shared</code>. This is fine if you work alone, but the shared repository is supposed to be, mmm, shared! So changing this directory is often required, and it is usually modified to point to a network shared directory. You can use the <code>ivy.shared.default.root</code> variable to specify a different directory. Moreover, you can also configure the layout with variables similar to the ones used for the local repository:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ivy.shared.default.ivy.pattern</code> which gives the pattern to find Ivy module descriptor files</p>
</li>
<li>
<p><code>ivy.shared.default.artifact.pattern</code> which gives the pattern to find the artifacts</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>ivy.shared.default.root=/opt/ivy/repository/shared
ivy.shared.default.ivy.pattern=[organisation]/[module]/[revision]/ivy.xml
ivy.shared.default.artifact.pattern=[organisation]/[module]/[revision]/[artifact].[ext]</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_public_2">Public</h3>
<div class="paragraph">
<p>By default, the public repository is ibiblio in m2 compatible mode (in other words, the Maven 2 public repository).</p>
</div>
<div class="paragraph">
<p>This repository has the advantage of providing a lot of modules, with metadata for most of them. The quality of metadata is not always perfect, but it&#8217;s a very good start to use a tool like Ivy and benefit from the power of transitive dependency management.</p>
</div>
<div class="paragraph">
<p>Despite its ease of use, we suggest reading the <a href="../bestpractices.html">Best practices</a> to have a good understanding of the pros and cons of using a public unmanaged repository before depending on such a repository for your enterprise build system.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
In <code>1.4</code> version, Ivy was using <code>ivyrep</code> as the default resolver, if you want to restore this, set <code>ivy.14.compatible=true</code> as an Ant property
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_going_further">Going further</h2>
<div class="sectionbody">
<div class="paragraph">
<p>OK, so we have seen how to easily change the settings of the three main repositories. But what if my shared repository is on a web server? What if you don&#8217;t want to use Maven 2 repository as the public repository? What if &#8230;&#8203;</p>
</div>
<div class="paragraph">
<p>No problem, Ivy is very flexible and can be configured with specific settings to match your needs and environment. But before considering writing your own settings from scratch, we suggest reading the following where you will learn how to leverage a part of the default settings and adjust the rest.</p>
</div>
<div class="paragraph">
<p>But before explaining how, you will need to have a quick overview of how Ivy is configured by default.</p>
</div>
<div class="paragraph">
<p>By default, Ivy is configured using an <code>ivysettings.xml</code> which is packaged in the Ivy jar. Here is this settings file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivysettings&gt;
  &lt;settings defaultResolver="default"/&gt;
  &lt;include url="${ivy.default.settings.dir}/ivysettings-public.xml"/&gt;
  &lt;include url="${ivy.default.settings.dir}/ivysettings-shared.xml"/&gt;
  &lt;include url="${ivy.default.settings.dir}/ivysettings-local.xml"/&gt;
  &lt;include url="${ivy.default.settings.dir}/ivysettings-main-chain.xml"/&gt;
  &lt;include url="${ivy.default.settings.dir}/ivysettings-default-chain.xml"/&gt;
&lt;/ivysettings&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>OK, so not much info here, except a lot of inclusions. These inclusions have been done on purpose so that you can easily change only one part of the Ivy settings and easily benefit from the rest. For example, if you want to define your own public resolver, you will just have to configure Ivy with the settings like the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivysettings&gt;
  &lt;settings defaultResolver="default"/&gt;
  &lt;include url="http://myserver/ivy/myivysettings-public.xml"/&gt;
  &lt;include url="${ivy.default.settings.dir}/ivysettings-shared.xml"/&gt;
  &lt;include url="${ivy.default.settings.dir}/ivysettings-local.xml"/&gt;
  &lt;include url="${ivy.default.settings.dir}/ivysettings-main-chain.xml"/&gt;
  &lt;include url="${ivy.default.settings.dir}/ivysettings-default-chain.xml"/&gt;
&lt;/ivysettings&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that only the <code>ivysettings-public.xml</code> inclusion has changed to include a homemade public resolver. Note also that this can be used like that thanks to the fact that <code>${ivy.default.settings.dir}</code> is a variable which is always set to the place where Ivy&#8217;s default settings files are (i.e. packaged in the jar).</p>
</div>
<div class="paragraph">
<p>To finish this example, you have to write your own Ivy settings file (that you will make available at <code><a href="http://myserver/ivy/myivysettings-public.xml" class="bare">http://myserver/ivy/myivysettings-public.xml</a></code> in this example) for defining your own public resolver. For instance, the contents of such a file could be:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivysettings&gt;
  &lt;resolvers&gt;
    &lt;filesystem name="public"&gt;
      &lt;ivy pattern="/path/to/my/public/rep/[organisation]/[module]/ivy-[revision].xml"/&gt;
      &lt;artifact pattern="/path/to/my/public/rep/[organisation]/[module]/[artifact]-[revision].[ext]"/&gt;
    &lt;/filesystem&gt;
  &lt;/resolvers&gt;
&lt;/ivysettings&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now the last thing you will need in order to properly take advantage of the default settings is the content of each included Ivy settings file:</p>
</div>
<div class="listingblock">
<div class="title"><strong>ivysettings-public.xml</strong></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivysettings&gt;
  &lt;resolvers&gt;
    &lt;ibiblio name="public" m2compatible="true"/&gt;
  &lt;/resolvers&gt;
&lt;/ivysettings&gt;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>ivysettings-shared.xml</strong></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivysettings&gt;
  &lt;property name="ivy.shared.default.root"             value="${ivy.default.ivy.user.dir}/shared" override="false"/&gt;
  &lt;property name="ivy.shared.default.ivy.pattern"      value="[organisation]/[module]/[revision]/[type]s/[artifact].[ext]" override="false"/&gt;
  &lt;property name="ivy.shared.default.artifact.pattern" value="[organisation]/[module]/[revision]/[type]s/[artifact].[ext]" override="false"/&gt;
  &lt;resolvers&gt;
    &lt;filesystem name="shared"&gt;
      &lt;ivy pattern="${ivy.shared.default.root}/${ivy.shared.default.ivy.pattern}"/&gt;
      &lt;artifact pattern="${ivy.shared.default.root}/${ivy.shared.default.artifact.pattern}"/&gt;
    &lt;/filesystem&gt;
  &lt;/resolvers&gt;
&lt;/ivysettings&gt;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>ivysettings-local.xml</strong></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivysettings&gt;
  &lt;property name="ivy.local.default.root"             value="${ivy.default.ivy.user.dir}/local" override="false"/&gt;
  &lt;property name="ivy.local.default.ivy.pattern"      value="[organisation]/[module]/[revision]/[type]s/[artifact].[ext]" override="false"/&gt;
  &lt;property name="ivy.local.default.artifact.pattern" value="[organisation]/[module]/[revision]/[type]s/[artifact].[ext]" override="false"/&gt;
  &lt;resolvers&gt;
    &lt;filesystem name="local"&gt;
      &lt;ivy pattern="${ivy.local.default.root}/${ivy.local.default.ivy.pattern}"/&gt;
      &lt;artifact pattern="${ivy.local.default.root}/${ivy.local.default.artifact.pattern}"/&gt;
    &lt;/filesystem&gt;
  &lt;/resolvers&gt;
&lt;/ivysettings&gt;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>ivysettings-main-chain.xml</strong></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivysettings&gt;
  &lt;resolvers&gt;
    &lt;chain name="main" dual="true"&gt;
      &lt;resolver ref="shared"/&gt;
      &lt;resolver ref="public"/&gt;
    &lt;/chain&gt;
  &lt;/resolvers&gt;
&lt;/ivysettings&gt;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>ivysettings-default-chain.xml</strong></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivysettings&gt;
  &lt;resolvers&gt;
    &lt;chain name="default" returnFirst="true"&gt;
      &lt;resolver ref="local"/&gt;
      &lt;resolver ref="main"/&gt;
    &lt;/chain&gt;
  &lt;/resolvers&gt;
&lt;/ivysettings&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>There you go, you should have enough clues to configure Ivy the way you want. Check the <a href="../settings.html">settings documentation</a> to see if what you want to do is possible, and go ahead!</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_tutorial_multiple_a_multiple_resolvers"><a id="tutorial_multiple"></a>Multiple Resolvers</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_multiple_resolvers" class="sect0">Multiple Resolvers</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p>This tutorial is an example of how modules can be retrieved by multiple resolvers. Using multiple resolvers can be useful in many contexts. For example:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>separating integration builds from releases<br/></p>
</li>
<li>
<p>using a public repository for third party modules and a private one for internal modules<br/></p>
</li>
<li>
<p>use a repository for storing modules which are not accurate in an unmanaged public repository<br/></p>
</li>
<li>
<p>use a local repository to expose builds made on one developer&#8217;s station<br/></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In Ivy, the use of multiple resolvers is supported by a compound resolver called the chain resolver.</p>
</div>
<div class="paragraph">
<p>In our example, we will simply show you how to use two resolvers, one for a local repository and one using the Maven 2 repository.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_project_description">Project Description</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_the_project_chained_resolvers">The project: chained-resolvers</h3>
<div class="paragraph">
<p>The project is very simple and contains only one simple class: <code>example.Hello</code>.</p>
</div>
<div class="paragraph">
<p>It depends on two libraries: Apache&#8217;s <code>commons-lang</code> and a custom library named <code>test</code> (sources are included in <code>test-1.0.jar</code> file). The test library is used by the project to uppercase a string, and <code>commons-lang</code> is used to capitalize the same string.</p>
</div>
<div class="paragraph">
<p>Here is the content of the project:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>build.xml: the Ant build file for the project<br/></p>
</li>
<li>
<p>ivy.xml: the Ivy project file<br/></p>
</li>
<li>
<p>src/example/Hello.java: the only class of the project<br/></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Let&#8217;s have a look at the <strong>ivy.xml</strong> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">Unresolved directive in asciidoc/tutorial/multiple.adoc - include::src/example/chained-resolvers/chainedresolvers-project/ivy.xml[]</code></pre>
</div>
</div>
<div class="paragraph">
<p>As we&#8217;d expect, the Ivy file declares this module to be dependent on the two libraries it uses: <code>commons-lang</code> and <code>test</code>. Note that we didn&#8217;t specify the <code>org</code> for the dependency <code>test</code>. When we exclude <code>org</code>, Ivy assumes it is in the same <code>org</code> as the declaring module. (in this example, it&#8217;s <code>org.apache</code>).</p>
</div>
</div>
<div class="sect2">
<h3 id="_the_ivy_settings">The Ivy Settings</h3>
<div class="paragraph">
<p>The settings are defined in the <code>ivysettings.xml</code> file located in the <code>settings</code> directory of the project. Below are its contents, followed by an explanation of what it&#8217;s doing.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>Unresolved directive in asciidoc/tutorial/multiple.adoc - include::src/example/chained-resolvers/settings/ivysettings.xml[]</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_the_strong_settings_strong_tag">The <strong>settings</strong> tag</h3>
<div class="paragraph">
<p>This tag initializes Ivy with some parameters. Here only one parameter is set, the name of the resolver to use by default.</p>
</div>
</div>
<div class="sect2">
<h3 id="_the_strong_resolvers_strong_tag">The <strong>resolvers</strong> tag</h3>
<div class="paragraph">
<p>The resolvers section defines the list of resolvers that Ivy will use to locate artifacts. In our example, we have only one resolver named <code>chain-example</code>, which is unique in that it defines a list (hence a chain) of resolvers.</p>
</div>
<div class="paragraph">
<p>The resolvers in this chain are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>libraries</code> : It is a filesystem resolver, so looks at a directory structure to retrieve the artifacts. This one is configured to look in the <code>repository</code> sub directory of the directory that contains the <code>ivysettings.xml</code> file.<br/></p>
</li>
<li>
<p><code>ibiblio</code> : It looks in the ibiblio Maven repository to retrieve the artifacts.<br/></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>That&#8217;s it, we have just configured a chain of resolvers!</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_walkthrough">Walkthrough</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_step_1_preparation">Step 1: Preparation</h3>
<div class="paragraph">
<p>Open a shell (or command line) window, and go to the <code>src/example/chained-resolvers</code> directory.</p>
</div>
</div>
<div class="sect2">
<h3 id="_step_2_clean_directory_tree">Step 2: clean directory tree</h3>
<div class="paragraph">
<p>On the prompt type: <code>ant</code></p>
</div>
<div class="paragraph">
<p>This will clean up the entire project directory tree and Ivy cache. You can do this each time you want to clean up this example.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>In almost all examples, we provide a <code>clean</code> target, as the default target. Since most examples use the same Ivy cache, you will clean the whole Ivy cache each time you call this target.</p>
</div>
<div class="paragraph">
<p>Cleaning the Ivy cache is something you can do without fear (except for performance): it&#8217;s only a cache, so everything can be (and should be) obtained again from repositories. This may sound strange to those coming from Maven 2 land. But remember that in Ivy, the cache is not a local repository and the two are completely isolated.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_step_3_run_the_project">Step 3: run the project</h3>
<div class="paragraph">
<p>Go to <code>chained-resolvers</code> project directory. And simply run <code>ant</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell" data-lang="shell">Unresolved directive in asciidoc/tutorial/multiple.adoc - include::asciidoc/tutorial/log/chained-resolvers.txt[]</code></pre>
</div>
</div>
<div class="paragraph">
<p>We can see in the log of the resolve task, that the two dependencies have been retrieved (2 artifacts) and copied to the Ivy cache directory (2 downloaded).</p>
</div>
<div class="paragraph">
<p>Also notice that the <code>run</code> Ant target succeeded in using both <code>commons-lang.jar</code> coming from the ibiblio repository and <code>test.jar</code> coming from the local repository.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_going_further_2">Going further</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This very simple example helps us see how to set up two resolvers in a chain. The <a href="../resolver/chain.html">chain resolver&#8217;s reference documentation</a> is available for those who would like to know all the features offered by this resolver.</p>
</div>
<div class="paragraph">
<p>Below are a few more interesting things worth knowing about chain resolvers. After reading them, go ahead and try tweaking this example using your new wealth of knowledge!</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a chain is not limited to two nested resolvers, you can use as many as you want<br/></p>
</li>
<li>
<p>by setting <code>returnFirst="true"</code>, you can have a chain which stops as soon as it has found a result for a given module<br/></p>
</li>
<li>
<p>by setting <code>dual="true"</code>, the full chain will be used both for module descriptors and artifacts, while setting <code>dual="false"</code>, the resolver in the chain which found the module descriptor (if any) is also used for artifacts<br/></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_tutorial_dual_a_dual_resolver"><a id="tutorial_dual"></a>Dual Resolver</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In some cases, your module descriptions (i.e. Ivy files, Maven POMs) are located separately from the module artifacts (i.e. jars). So what can you do about it?</p>
</div>
<div class="paragraph">
<p>Use a Dual resolver! And this tutorial will show you how.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_project_description_2">Project description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Let&#8217;s have a look at the <code>src/example/dual</code> directory in your Ivy distribution.
It contains a build file and 3 directories:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>settings: contains the Ivy settings file<br/></p>
</li>
<li>
<p>repository: a sample repository of Ivy files<br/></p>
</li>
<li>
<p>project: the project making use of Ivy with dual resolver<br/></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_the_dual_project">The dual project</h3>
<div class="paragraph">
<p>The project is very simple and contains only one simple class: <code>example.HelloIvy</code>
It depends on two libraries: Apache commons-lang and Apache commons-httpclient.</p>
</div>
<div class="paragraph">
<p>Here is the content of the project:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>build.xml: the Ant build file for the project<br/></p>
</li>
<li>
<p>ivy.xml: the Ivy project file<br/></p>
</li>
<li>
<p>src/example/HelloIvy.java: the only class of the project<br/></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Let&#8217;s have a look at the <code>ivy.xml</code> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>&lt;ivy-module version="1.0"&gt;
    &lt;info organisation="org.apache" module="hello-ivy"/&gt;
    &lt;dependencies&gt;
        &lt;dependency org="commons-httpclient" name="commons-httpclient" rev="2.0.2"/&gt;
        &lt;dependency org="commons-lang" name="commons-lang" rev="2.6"/&gt;
    &lt;/dependencies&gt;
&lt;/ivy-module&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see, nothing special here&#8230;&#8203; Indeed, Ivy&#8217;s philosophy is to keep Ivy files independent of the way dependencies are resolved.</p>
</div>
</div>
<div class="sect2">
<h3 id="_the_strong_ivy_strong_settings">The <strong>Ivy</strong> settings</h3>
<div class="paragraph">
<p>The Ivy settings are defined in the <code>ivysettings.xml</code> file located in the <code>settings</code> directory. Here is what it contains, followed by an explanation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>&lt;ivysettings&gt;
    &lt;settings defaultResolver="dual-example"/&gt;
    &lt;resolvers&gt;
        &lt;dual name="dual-example"&gt;
            &lt;filesystem name="ivys"&gt;
                &lt;ivy pattern="${ivy.settings.dir}/../repository/[module]-ivy-[revision].xml"/&gt;
            &lt;/filesystem&gt;
            &lt;ibiblio name="ibiblio" m2compatible="true" usepoms="false"/&gt;
        &lt;/dual&gt;
    &lt;/resolvers&gt;
&lt;/ivysettings&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here we configured one resolver, the default one, which is a dual resolver. This dual resolver has two sub resolvers: the first is what is called the "ivy" or "metadata" resolver of the dual resolver, and the second one is what is called the "artifact" resolver. It is important that the dual resolver has exactly two sub resolvers in this given order.</p>
</div>
<div class="paragraph">
<p>The metadata resolver, here a filesystem one, is used only to find module descriptors, in this case Ivy files. The setting shown here tells Ivy that all Ivy files are in the <code>repository</code> directory, named according to the pattern: <code>[module]-ivy-[revision].xml</code>. If we check the <code>repository</code> directory, we can confirm that it contains a file named <code>commons-httpclient-ivy-2.0.2.xml</code>. This file matches the pattern, so it will be found by the resolver.</p>
</div>
<div class="paragraph">
<p>The artifact resolver is simply an ibiblio one, configured in m2compatible mode to use the Maven 2 repository, with <code>usepoms="false"</code> to make sure it won&#8217;t use Maven 2 metadata. Note that this isn&#8217;t necessary, since the second resolver in a dual resolver (the artifact resolver) is never asked to find module metadata.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_walkthrough_2">Walkthrough</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_step_1_preparation_2">Step 1 : Preparation</h3>
<div class="paragraph">
<p>Open a shell (or command line) window, and go to the <code>dual</code> directory.</p>
</div>
</div>
<div class="sect2">
<h3 id="_step_2_clean_up">Step 2 : Clean up</h3>
<div class="paragraph">
<p>On the prompt type : <code>ant</code></p>
</div>
<div class="paragraph">
<p>This will clean up the entire project directory tree (compiled classes and retrieved libs) and the Ivy cache. You can run this each time you want to clean up this example.</p>
</div>
</div>
<div class="sect2">
<h3 id="_step_3_run_the_project_2">Step 3 : Run the project</h3>
<div class="paragraph">
<p>Go to the project directory. And simply run <code>ant</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell" data-lang="shell">Unresolved directive in asciidoc/tutorial/dual.adoc - include::asciidoc/tutorial/log/dual.txt[]</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see, Ivy not only downloaded commons-lang and commons-httpclient, but also commons-logging. Indeed, commons-logging is a dependency of httpclient, as we can see in the httpclient Ivy file found in the <code>repository</code> directory:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>&lt;ivy-module version="1.0"&gt;
    &lt;info
        organisation="commons-httpclient"
        module="commons-httpclient"
        revision="2.0.2"
        status="release"
        publication="20041010174300"/&gt;
    &lt;dependencies&gt;
        &lt;dependency org="commons-logging" name="commons-logging" rev="1.0.4" conf="default"/&gt;
    &lt;/dependencies&gt;
&lt;/ivy-module&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>So everything seemed to work. The Ivy file was found in the <code>repository</code> directory and the artifacts have been downloaded from ibiblio.</p>
</div>
<div class="paragraph">
<p>This kind of setup can be useful if you don&#8217;t want to rely on the Maven 2 repository for metadata, or if you want to take full advantage of Ivy files for some or all modules. Combining chain and dual resolvers should give you enough flexibility to meet almost any requirement.</p>
</div>
<div class="paragraph">
<p>For full details about the dual resolver, have a look at the corresponding <a href="../resolver/dual.html">reference documentation</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_tutorial_dependence_a_project_dependencies"><a id="tutorial_dependence"></a>Project dependencies</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This tutorial will show you how to use Ivy when one of your projects depends on another.</p>
</div>
<div class="paragraph">
<p>For our example, we will have two projects, depender and dependee, where the depender project uses/requires the dependee project. This example will help illustrate two things about Ivy:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>that dependencies defined by parent projects (dependee) will automatically be retrieved for use by child projects (depender)<br/></p>
</li>
<li>
<p>that child projects can retrieve the "latest" version of the dependee project<br/></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_projects_used">Projects used</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_dependee">dependee</h3>
<div class="paragraph">
<p>The dependee project is very simple. It depends on the Apache library commons-lang and contains only one class: <code>standalone.Main</code> which provides two services:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>return the version of the project<br/></p>
</li>
<li>
<p>capitalize a string using <code>org.apache.commons.lang.WordUtils.capitalizeFully</code><br/></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Here is the content of the project:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>build.xml: the Ant build file for the project<br/></p>
</li>
<li>
<p>ivy.xml: the project Ivy file<br/></p>
</li>
<li>
<p>src/standalone/Main.java: the only class of the project<br/></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Take a look at the <strong>ivy.xml</strong> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>&lt;ivy-module version="1.0"&gt;
    &lt;info organisation="org.apache" module="dependee"/&gt;
    &lt;dependencies&gt;
        &lt;dependency org="commons-lang" name="commons-lang" rev="2.0"/&gt;
    &lt;/dependencies&gt;
&lt;/ivy-module&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The Ivy file declares only one dependency, that being the Apache commons-lang library.</p>
</div>
</div>
<div class="sect2">
<h3 id="_depender">depender</h3>
<div class="paragraph">
<p>The depender project is very simple as well. It declares only one dependency on the latest version of the dependee project, and it contains only one class, <code>depending.Main</code>, which does 2 things:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>gets the version of the standalone project by calling <code>standalone.Main.getVersion()</code><br/></p>
</li>
<li>
<p>transforms a string by calling <code>standalone.Main.capitalizeWords(str)</code><br/></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Take a look at the <code>ivy.xml</code> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>&lt;ivy-module version="1.0"&gt;
    &lt;info organisation="org.apache" module="depender"/&gt;
    &lt;dependencies&gt;
        &lt;dependency name="dependee" rev="latest.integration"/&gt;
    &lt;/dependencies&gt;
&lt;/ivy-module&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_settings">Settings</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Ivy settings are defined in two files located in the settings directory:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ivysettings.properties</code>: a property file<br/></p>
</li>
<li>
<p><code>ivysettings.xml</code>: the file containing the settings<br/></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Let&#8217;s have a look at the <code>ivysettings.xml</code> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>&lt;ivysettings&gt;
    &lt;properties file="${ivy.settings.dir}/ivysettings.properties"/&gt;
    &lt;settings defaultResolver="libraries"/&gt;
    &lt;caches defaultCacheDir="${ivy.settings.dir}/ivy-cache"/&gt;
    &lt;resolvers&gt;
        &lt;filesystem name="projects"&gt;
            &lt;artifact pattern="${repository.dir}/[artifact]-[revision].[ext]"/&gt;
            &lt;ivy pattern="${repository.dir}/[module]-[revision].xml"/&gt;
        &lt;/filesystem&gt;
        &lt;ibiblio name="libraries" m2compatible="true" usepoms="false"/&gt;
    &lt;/resolvers&gt;
    &lt;modules&gt;
        &lt;module organisation="org.apache" name="dependee" resolver="projects"/&gt;
    &lt;/modules&gt;
&lt;/ivysettings&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The file contains four main tags: properties, settings, resolvers and modules.</p>
</div>
<div class="sect2">
<h3 id="_properties">properties</h3>
<div class="paragraph">
<p>This tag loads some properties for the Ivy process, just like Ant does.</p>
</div>
</div>
<div class="sect2">
<h3 id="_settings_2">settings</h3>
<div class="paragraph">
<p>This tag initializes some parameters for the Ivy process. In this case, the directory that Ivy will use to cache artifacts will be in a sub directory called ivy-cache of the directory containing the <code>ivysettings.xml</code> file itself.
The second parameter, tells Ivy to use a resolver named "libraries" as its default resolver. More information can be found in the <a href="../settings.html">settings reference documentation</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_resolvers">resolvers</h3>
<div class="paragraph">
<p>This tag defines the resolvers to use. Here we have two resolvers defined: "projects" and "libraries".
The filesystem resolver called "projects" is able to resolve the internal dependencies by locating them on the local filesystem.
The ibiblio resolver called "libraries" is able to find dependencies on the Maven 2 repository, but doesn&#8217;t use Maven POMs.</p>
</div>
</div>
<div class="sect2">
<h3 id="_modules">modules</h3>
<div class="paragraph">
<p>The modules tag allows you to configure which resolver should be used for which module. Here the setting tells Ivy to use the "projects" resolver for all modules having an organisation of <code>org.apache</code> and module name of <code>dependee</code>. This actually corresponds to only one module, but a regular expression could be used, or many other types of expressions (like glob expressions).</p>
</div>
<div class="paragraph">
<p>All other modules (i.e. all modules but org.apache#dependee), will use the default resolver ("libraries").</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_walkthrough_3">Walkthrough</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_step_1_preparation_3">Step 1: Preparation</h3>
<div class="paragraph">
<p>Open a shell (or command line) window, and go to the <code>src/example/dependence</code> directory.</p>
</div>
</div>
<div class="sect2">
<h3 id="_step_2_clean_directory_tree_2">Step 2: Clean directory tree</h3>
<div class="paragraph">
<p>At the prompt, type: <code>ant</code>
This will clean up the entire project directory tree. You can do this each time you want to clean up this example.</p>
</div>
</div>
<div class="sect2">
<h3 id="_step_3_publication_of_dependee_project">Step 3: Publication of dependee project</h3>
<div class="paragraph">
<p>Go to <code>dependee</code> directory  and publish the project</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell" data-lang="shell">Unresolved directive in asciidoc/tutorial/dependence.adoc - include::asciidoc/tutorial/log/dependence-standalone.txt[]</code></pre>
</div>
</div>
<div class="paragraph">
<p>What we see here:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the project depends on 1 library (1 artifact)<br/></p>
</li>
<li>
<p>the library was not in the Ivy cache and so was downloaded (1 downloaded)<br/></p>
</li>
<li>
<p>the project has been released under version number 1<br/></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>As you can see, the call to the publish task has resulted in two main things:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the delivery of a resolved Ivy file to <code>build/ivy.xml</code>.<br/>
This has been done because by default, the publish task not only publishes artifacts, but also its Ivy file. So it has looked to the path where the Ivy file to publish should be, using the artifactspattern: <code>${build.dir}/[artifact].[ext]</code>. For an Ivy file, this resolves to <code>build/ivy.xml</code>. Because this file does not exist, it automatically makes a call to the deliver task which delivers a resolved Ivy file to this destination.</p>
</li>
<li>
<p>the publication of artifact 'dependee' and its resolved Ivy file to the repository.<br/>
Both are just copies of the files found in the current project, or more precisely, those in the <code>build</code> directory. This is because the artifactspattern has been set to <code>${build.dir}/[artifact].[ext]</code>, so the dependee artifact is found at <code>build/dependee.jar</code> and the Ivy file in <code>build/ivy.xml</code>. And because we have asked the publish task to publish them using the "projects" resolver, these files are copied to <code>repository/dependee-1.jar</code> and to <code>repository/dependee-1.xml</code>, respecting the artifact and Ivy file patterns of our settings (see above).</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_step_4_running_the_depender_project">Step 4: Running the depender project</h3>
<div class="paragraph">
<p>Go to directory depender and run <code>ant</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell" data-lang="shell">Unresolved directive in asciidoc/tutorial/dependence.adoc - include::asciidoc/tutorial/log/dependence-depending.txt[]</code></pre>
</div>
</div>
<div class="paragraph">
<p>What we see here:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the project depends on 2 libraries (2 artifacts)<br/></p>
</li>
<li>
<p>one of the libraries was in the cache because there was only 1 download (1 downloaded)<br/></p>
</li>
<li>
<p>Ivy retrieved version 1 of the project "dependee". The call to <code>standalone.Main.getVersion()</code> has returned 1. If you look in the <code>depender/lib</code> directory, you should see <code>dependee-1.jar</code> which is the version 1 artifact of the project "dependee"<br/></p>
</li>
<li>
<p>the call to <code>standalone.Main.capitalizeWords(str)</code> succeed, which means that the required library was in the classpath. If you look at the <code>lib</code> directory, you will see that the library <code>commons-lang-2.0.jar</code> was also retrieved. This library was declared as a dependency of the "dependee" project, so Ivy retrieves it (transitively) along with the dependee artifact.<br/></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_step_5_new_version_of_dependee_project">Step 5: New version of dependee project</h3>
<div class="paragraph">
<p>Like we did before in step 3, publish the dependee project again. This will result in a new version of the project being published.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell" data-lang="shell">Unresolved directive in asciidoc/tutorial/dependence.adoc - include::asciidoc/tutorial/log/dependence-standalone-2.txt[]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now if you look in your repository folder, you will find 2 versions of the dependee project.
Let&#8217;s look at it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell" data-lang="shell">I:\dependee&gt;dir ..\settings\repository /w

[.]                [..]               dependee-1.jar   dependee-1.xml   dependee-2.jar   dependee-2.xml

I:\dependee&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>OK, now our repository contains two versions of the project <strong>dependee</strong>, so other projects can refer to either version.</p>
</div>
</div>
<div class="sect2">
<h3 id="_step_6_get_the_new_version_in_em_depender_em_project">Step 6: Get the new version in <em>depender</em> project</h3>
<div class="paragraph">
<p>What should we expect if we run the depender project again? It should:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>retrieve version 2 as the latest.integration version of the dependee project<br/></p>
</li>
<li>
<p>display version 2 of dependee project<br/></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Let&#8217;s try it!!</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell" data-lang="shell">Unresolved directive in asciidoc/tutorial/dependence.adoc - include::asciidoc/tutorial/log/dependence-depending-2.txt[]</code></pre>
</div>
</div>
<div class="paragraph">
<p>OK, we got what we expected as the <code>run</code> target shows that we are using version 2 of the main class of the dependee project. If we take a look at the resolve target results, we see that one artifact has been downloaded to the Ivy cache. In fact, this file is the same version 2 of the dependee project that is in the repository, but now all future retrievals will pull it from your ivy-cache directory.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_tutorial_multiproject_a_using_ivy_in_multiple_projects_environment"><a id="tutorial_multiproject"></a>Using Ivy in multiple projects environment</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In the previous tutorial, you saw how to deal with dependencies between two simple projects.</p>
</div>
<div class="paragraph">
<p>This tutorial will guide you through the use of Ivy in a more complex environment. All of the code for this tutorial is available in the <code>src/example/multi-project</code> directory of the Ivy distribution.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_context">Context</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Here is a 10000 ft overview of the projects involved in this tutorial:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>version<br/>
helps to identify module by a version</p>
</li>
<li>
<p>list<br/>
gives a list of files in a directory (recursively)</p>
</li>
<li>
<p>size<br/>
gives the total size of all files in a directory, or of a collection of files</p>
</li>
<li>
<p>find<br/>
find files in a given dir or among a list of files which match a given name</p>
</li>
<li>
<p>sizewhere<br/>
gives the total size of files matching a name in a directory</p>
</li>
<li>
<p>console<br/>
give access to all other modules features through a simple console app</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For sure this is not aimed to demonstrate how to develop a complex app or give indication of advanced algorithm :-)</p>
</div>
<div class="paragraph">
<p>But this gives a simple understanding of how Ant+Ivy can be used to develop an application divided in multiple modules.</p>
</div>
<div class="paragraph">
<p>Now, here is how these modules relate to each other:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="samples/projects-dependencies-graph-small.jpg" alt="projects dependencies graph small"/>
</div>
</div>
<div class="paragraph">
<p><a href="../samples/projects-dependencies-graph.jpg"><em>click to enlarge</em></a></p>
</div>
<div class="paragraph">
<p>Modules in yellow are the modules described in this tutorial, and modules in blue are external dependencies (we will see how to generate this graph later in this tutorial).</p>
</div>
<div class="paragraph">
<p>As you can see, we have here a pretty interesting set of modules with dependencies between each other, each depending on the latest version of the others.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_example_files">The example files</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The sources for this tutorial can be found in <code>src/example/multi-project</code> in the Ivy distribution. In this directory, you will find the following files:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://gitbox.apache.org/repos/asf?p=ant-ivy.git;a=blob;f=src/example/multi-project/build.xml">build.xml</a><br/>
This is a root build file which can be used to call targets on all modules, in the order of their dependencies (ensuring that a module is always built before any module depending on it, for instance)</p>
</li>
<li>
<p>common</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://gitbox.apache.org/repos/asf?p=ant-ivy.git;a=blob;f=src/example/multi-project/common/common.xml">common.xml</a> the common build file imported by all build.xml files for each project. This build defines the targets which can be used in all projects.</p>
</li>
<li>
<p><a href="https://gitbox.apache.org/repos/asf?p=ant-ivy.git;a=blob;f=src/example/multi-project/common/build.properties">build.properties</a> some properties common to all projects</p>
</li>
</ul>
</div>
</li>
<li>
<p>projects<br/>
contains a directory per module, with each containing:</p>
<div class="ulist">
<ul>
<li>
<p>ivy.xml<br/>
Ivy file of the module, describing its dependencies upon other modules and/or external modules.
Example:</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>&lt;ivy-module version="1.0"&gt;
    &lt;info
        organisation="org.apache.ivy.example"
        module="find"
        status="integration"/&gt;
    &lt;configurations&gt;
        &lt;conf name="core"/&gt;
        &lt;conf name="standalone" extends="core"/&gt;
    &lt;/configurations&gt;
    &lt;publications&gt;
        &lt;artifact name="find" type="jar" conf="core"/&gt;
    &lt;/publications&gt;
    &lt;dependencies&gt;
        &lt;dependency name="version" rev="latest.integration" conf="core-&gt;default"/&gt;
        &lt;dependency name="list" rev="latest.integration" conf="core"/&gt;
        &lt;dependency org="commons-collections" name="commons-collections" rev="3.1" conf="core-&gt;default"/&gt;
        &lt;dependency org="commons-cli" name="commons-cli" rev="1.0" conf="standalone-&gt;default"/&gt;
    &lt;/dependencies&gt;
&lt;/ivy-module&gt;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>build.xml<br/>
The build file of the project, which consists mainly of an import of the common build file and of a module specific properties file:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>&lt;project name="find" default="compile"&gt;
    &lt;property file="build.properties"/&gt;

    &lt;import file="${common.dir}/common.xml"/&gt;
&lt;/project&gt;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>build.properties<br/>
Module specific properties + properties to find the common build file</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>  projects.dir = ${basedir}/..
  wkspace.dir = ${projects.dir}/..
  common.dir = ${wkspace.dir}/common</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>src<br/>
the source directory with all Java sources</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note that this example doesn&#8217;t demonstrate many good practices for software development in general, in particular you won&#8217;t find any unit test in these samples, even if we think unit testing is very important. But this isn&#8217;t the aim of this tutorial.</p>
</div>
<div class="paragraph">
<p>Now that you are a bit more familiar with the structure, let&#8217;s have a look at the most important part of this example: the common build file. Indeed, as you have seen, all the module&#8217;s build files only import the common build file, and define their dependencies in their Ivy files (which you should begin to be familiar with).</p>
</div>
<div class="paragraph">
<p>So, here are some aspects of this common build file:</p>
</div>
<div class="sect2">
<h3 id="_ivy_settings">Ivy settings</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>&lt;!-- setup Ivy default configuration with some custom info --&gt;
&lt;property name="ivy.local.default.root" value="${repository.dir}/local"/&gt;
&lt;property name="ivy.shared.default.root" value="${repository.dir}/shared"/&gt;

&lt;!-- here is how we would have configured Ivy if we had our own Ivy settings file
&lt;ivy:settings file="${common.dir}/ivysettings.xml" id="ivy.instance"/&gt;
--&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This declaration configures Ivy by only setting two properties: the location for the local repository and the location for the shared repository. It&#8217;s the only settings done here, since Ivy is configured by default to work in a team environment (see <a href="../tutorial/defaultconf.html">default settings tutorial</a> for details about this). For sure in a real environment, the shared repository location would rather be in a team shared directory (or in a more complex repository, again see the default settings tutorial to see how to use something really different).
Commented out you can see how the settings would have been done if the default setting wasn&#8217;t OK for our purpose.</p>
</div>
</div>
<div class="sect2">
<h3 id="_resolve_dependencies">resolve dependencies</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>&lt;target name="resolve" depends="clean-lib, load-ivy" description="--&gt; resolve and retrieve dependencies with Ivy"&gt;
    &lt;mkdir dir="${lib.dir}"/&gt; &lt;!-- not usually necessary, Ivy creates the directory IF there are dependencies --&gt;

    &lt;!-- the call to resolve is not mandatory, retrieve makes an implicit call if we don't --&gt;
    &lt;ivy:resolve file="${ivy.file}"/&gt;
    &lt;ivy:retrieve pattern="${lib.dir}/[artifact].[ext]"/&gt;
&lt;/target&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>You should begin to be familiar with using Ivy this way. We call <em>resolve</em> explicitly to use the Ivy file configured (the default would have been fine), and then call <em>retrieve</em> to copy resolved dependencies artifacts from the cache to a local lib directory. The pattern is also used to name the artifacts in the lib dir with their name and extension only (without revision), this is easier to use with an IDE, as the IDE configuration won&#8217;t change when the artifact versions change.</p>
</div>
</div>
<div class="sect2">
<h3 id="_ivy_new_version">ivy-new-version</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>&lt;target name="ivy-new-version" depends="load-ivy" unless="ivy.new.revision"&gt;
    &lt;!-- default module version prefix value --&gt;
    &lt;property name="module.version.prefix" value="${module.version.target}-dev-b"/&gt;

    &lt;!-- asks Ivy for an available version number --&gt;
    &lt;ivy:info file="${ivy.file}"/&gt;
    &lt;ivy:buildnumber
        organisation="${ivy.organisation}" module="${ivy.module}"
        revision="${module.version.prefix}" defaultBuildNumber="1" revSep=""/&gt;
&lt;/target&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This target is used to ask Ivy to find a new version for a module. To get details about the module we are dealing with, we pull information out of the Ivy file by using the ivy:info task. Then the <a href="../use/buildnumber.html">buildnumber</a> task is used to get a new revision, based on a prefix we set with a property. By default, it will be 1.0-dev-b (have a look at the default value for <code>module.version.target</code> in the <code>common/build.properties</code> file). Each module built by this common build file could easily override this by either setting a different <code>module.version.target</code> in its module specific <code>build.properties</code>, or even overriding <code>module.version.prefix</code>. To get the new revision, Ivy scans the repository to find the latest available version with the given prefix, and then increments this version by 1.</p>
</div>
</div>
<div class="sect2">
<h3 id="_publish">publish</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>&lt;target name="publish" depends="clean-build, jar" description="--&gt; publish this project in the ivy repository"&gt;
    &lt;ivy:publish artifactspattern="${build.dir}/[artifact].[ext]"
                 resolver="shared"
                 pubrevision="${version}"
                 status="release"/&gt;
    &lt;echo message="project ${ant.project.name} released with version ${version}"/&gt;
&lt;/target&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This target publishes the module to the shared repository, with the revision found in the version property, which is set by other targets (based on ivy-new-version we have seen above). It can be used when a module reaches a specific milestone, or whenever you want the team to benefit from a new version of the module.</p>
</div>
</div>
<div class="sect2">
<h3 id="_publish_local">publish-local</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>&lt;target name="publish-local" depends="local-version, jar" description="--&gt; publish this project in the local ivy repository"&gt;
    &lt;ivy:publish artifactspattern="${build.dir}/[artifact].[ext]"
                 resolver="local"
                 pubrevision="${version}"
                 pubdate="${now}"
                 status="integration"
                 forcedeliver="true"/&gt;
    &lt;echo message="project ${ant.project.name} published locally with version ${version}"/&gt;
&lt;/target&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This is very similar to the publish task, except that this publishes the revision to the local repository, which is used only in your environment and doesn&#8217;t disturb the team. When you change something in a module and want to benefit from the change in another one, you can simply call <code>publish-local</code> in this module, and then your next build of the other module will automatically get this local version.</p>
</div>
</div>
<div class="sect2">
<h3 id="_clean_local">clean-local</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>&lt;target name="clean-local" description="--&gt; cleans the local repository for the current module"&gt;
    &lt;delete dir="${ivy.local.default.root}/${ant.project.name}"/&gt;
&lt;/target&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This target is used when you don&#8217;t want to use your local version of a module anymore. For example, when you release a new version to the whole team, or discard your local changes and want to take advantage of a new version from the team.</p>
</div>
</div>
<div class="sect2">
<h3 id="_report">report</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>&lt;target name="report" depends="resolve" description="--&gt; generates a report of dependencies"&gt;
    &lt;ivy:report todir="${build.dir}"/&gt;
&lt;/target&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Generates both an HTML report and a GraphML report.</p>
</div>
<div class="paragraph">
<p>For example, to generate a graph like the one shown at the beginning of this tutorial, you just have to follow the instructions given <a href="../yed.html">here</a> with the GraphML file you will find in <code>projects/console/build</code> after having called report in the console project, and that&#8217;s it, you have a clear overview of all your app dependencies!</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_playing_with_the_projects">Playing with the projects</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can play with this tutorial by using regular Ant commands. Begin in the base directory of the tutorial (<code>src/example/multi-project</code>), and run <code>ant -p</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell" data-lang="shell">Unresolved directive in asciidoc/tutorial/multiproject.adoc - include::asciidoc/tutorial/log/multi-project-general-antp.txt[]</code></pre>
</div>
</div>
<div class="paragraph">
<p>This gives you an idea of what you can do here. To make sure you have at least one version of all your modules published in your repository (required to build modules having dependencies on the others), you can run <code>ant publish-all</code> (example log <a href="log/multi-project-general-publishall.txt">here</a>).</p>
</div>
<div class="paragraph">
<p>You will see that Ivy calls the publish target on all the modules, following the order of the dependencies, so that a dependee is always built and published before its depender. Feel free to make changes in the source code of a module (changing a method name, for instance) and in the module using the method, then call publish-all to see how the change in the dependee is compiled first, published, and then available to the depender which can compile successfully.</p>
</div>
<div class="paragraph">
<p>Then you can go in one of the example project directories (like <code>projects/find</code>, for instance), and run <code>ant -p</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell" data-lang="shell">Unresolved directive in asciidoc/tutorial/multiproject.adoc - include::asciidoc/tutorial/log/multi-project-find-antp.txt[]</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can see the targets available, thanks to the import of the <code>common.xml</code> build file. Play with the project by calling resolve, and publish, and see what happens when you do the same in other projects. An interesting thing to do, for instance, is to change the dependencies of a project. If the module version now depends on a new commons library, you will see that all other projects depending on that version will get this library as part of their transitive dependencies once the new revision of the version project is published. Very easy! And if a project introduces a change with which the depender isn&#8217;t compatible yet, you can easily change the dependency in the depender to move from <code>latest.integration</code> to a fixed version with which the depender is compatible (probably the latest before the change). Keeping your modules under control is now very easy!</p>
</div>
<div class="paragraph">
<p>By now, you should be pretty familiar with multi-project development with Ivy. We hope you will appreciate its power and flexibility! And these tutorials are only the beginning of your journey with Ivy, browse the <a href="../reference.html">reference documentation</a> to learn more about the features, subscribe to the mailing lists to share your experience and ask questions with the community, browse the source code, open Jira issues, submit patches, join in and help make Ivy the best of dependency management tools!</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_tutorial_conf_a_using_ivy_module_configurations"><a id="tutorial_conf"></a>Using Ivy Module Configurations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This tutorial introduces the use of module configurations in Ivy files. Ivy module configurations are indeed a very important concept. Someone even told me one day that using Ivy without using configurations is like eating a good cheese without touching the glass of Chateau Margaux 1976 you have just poured :-)</p>
</div>
<div class="paragraph">
<p>More seriously, configurations in Ivy can be better understood as views on your module, and you will see how they can be used effectively here.</p>
</div>
<div class="paragraph">
<p>Reference documentation on configurations can be found <a href="../terminology.html">here</a> and <a href="../ivyfile/configurations.html">here</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_introduction">Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Source code is available in <code>src/example/configurations/multi-projects</code>.
We have two projects:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>filter-framework is a library that defines an API to filter String arrays and two implementations of this API.</p>
</li>
<li>
<p>myapp is a very small app that uses filter-framework.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The filter-framework library project produces 3 artifacts:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the API jar,</p>
</li>
<li>
<p>an implementation jar with no external dependencies,</p>
</li>
<li>
<p>a second implementation jar that needs commons-collections to perform.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The application only needs the API jar to compile and can use either of the two implementations at runtime.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_library_project">The library project</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The first project we&#8217;ll look at in this tutorial is filter-framework. In order to have a fine-grained artifact publication definition, we defined several configurations, each of which maps to a set of artifacts that other projects can make use of.</p>
</div>
<div class="sect2">
<h3 id="_the_ivy_xml_file_2">The ivy.xml file</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>&lt;ivy-module version="1.0"&gt;
    &lt;info organisation="org.apache" module="filter-framework"/&gt;
    &lt;configurations&gt;
        &lt;conf name="api" description="only provide filter framework API"/&gt;
        &lt;conf name="homemade-impl" extends="api" description="provide a home made implementation of our API"/&gt;
        &lt;conf name="cc-impl" extends="api" description="provide an implementation that use apache common collection framework"/&gt;
        &lt;conf name="test" extends="cc-impl" visibility="private" description="for testing our framework"/&gt;
    &lt;/configurations&gt;
    &lt;publications&gt;
        &lt;artifact name="filter-api" type="jar" conf="api" ext="jar"/&gt;
        &lt;artifact name="filter-hmimpl" type="jar" conf="homemade-impl" ext="jar"/&gt;
        &lt;artifact name="filter-ccimpl" type="jar" conf="cc-impl" ext="jar"/&gt;
    &lt;/publications&gt;
    &lt;dependencies&gt;
        &lt;dependency org="commons-collections" name="commons-collections" rev="3.1" conf="cc-impl-&gt;default"/&gt;
        &lt;dependency org="junit" name="junit" rev="3.8" conf="test-&gt;default"/&gt;
    &lt;/dependencies&gt;
&lt;/ivy-module&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_explanation">Explanation</h3>
<div class="paragraph">
<p>As you can see, we defined 4 configurations, with 3 being public and 1 private (the JUnit dependency for testing).
The 2 implementation configurations, <strong>homemade-impl</strong> and <strong>cc-impl</strong> extend the <strong>api</strong> configuration so that all artifacts defined in <strong>api</strong> will also be part of the extending configuration.</p>
</div>
<div class="paragraph">
<p>In the publications tag, we defined the artifacts we produce (jars in this case) and we assign them to a configuration. When others use our library they will have a flexible way to ask for what they need.</p>
</div>
</div>
<div class="sect2">
<h3 id="_see_it_in_action">See it in action</h3>
<div class="paragraph">
<p>The filter-framework project is built using Ant. Open a shell in the root directory of the project and type <code>ant</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell" data-lang="shell">Unresolved directive in asciidoc/tutorial/conf.adoc - include::asciidoc/tutorial/log/configurations-lib.txt[]</code></pre>
</div>
</div>
<div class="paragraph">
<p>The Ant default target is publish. This target uses Ivy to publish our library binaries to a local repository. Since we do not specify any repository path, the default one is used. (<code>${home.dir}/.ivy2/local/org.apache/filter-framework/</code>) At this point, we are ready to use our library.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_application_project">The application project</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Now that we have shipped (published) our fantastic filter library, we want to use it! The tutorial comes with a sample application called myapp.</p>
</div>
<div class="sect2">
<h3 id="_the_code_ivy_xml_code_file">The <code>ivy.xml</code> file</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>&lt;ivy-module version="1.0"&gt;
    &lt;info organisation="org.apache" module="myapp"/&gt;

    &lt;configurations&gt;
        &lt;conf name="build" visibility="private" description="compilation only need API jar"/&gt;
        &lt;conf name="noexternaljar" description="use only company jar"/&gt;
        &lt;conf name="withexternaljar" description="use company jar and third party jars"/&gt;
    &lt;/configurations&gt;

    &lt;dependencies&gt;
        &lt;dependency org="org.apache" name="filter-framework" rev="latest.integration" conf="build-&gt;api; noexternaljar-&gt;homemade-impl; withexternaljar-&gt;cc-impl"/&gt;
    &lt;/dependencies&gt;
&lt;/ivy-module&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_explanation_2">Explanation</h3>
<div class="paragraph">
<p>We create 3 configurations that define the different ways we want to use the application. The <strong>build</strong> configuration defines the compile-time dependencies, and thus only needs the api conf from the filter-framework project. The other two configurations define runtime dependencies. One will only use our "home-made" jar, and the other will use an external jar.</p>
</div>
<div class="paragraph">
<p>We also defined a dependency on our previously built library. In this dependency, we use configuration mappings to match ours with the dependency&#8217;s configurations. You can find more information about configuration mapping <a href="../ivyfile/configurations.html">here</a></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>build&#8594;api</strong> : here we tell Ivy that our <strong>build</strong> configuration depends on the <strong>api</strong> configuration of the dependency<br/></p>
</li>
<li>
<p><strong>noexternaljar&#8594;homemade-impl</strong> : here we tell Ivy that our <strong>noexternaljar</strong> configuration depends on the <strong>homemade-impl</strong> configuration of the dependency.<br/></p>
</li>
<li>
<p><strong>withexternaljar&#8594;cc-impl</strong> : here we tell Ivy that our <strong>withexternaljar</strong> configuration depends on the <strong>cc-impl</strong> configuration of the dependency<br/></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Note that we never declare any of the dependency&#8217;s artifacts we need in each configuration: it&#8217;s the dependency module&#8217;s Ivy file that declares the published artifacts which should be used in each configuration.</p>
</div>
<div class="paragraph">
<p>In the Ant <code>build.xml</code> file, we defined a 'resolve' target as follow:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>&lt;target name="resolve" description="--&gt; retrieve dependencies with ivy"&gt;
    &lt;ivy:retrieve pattern="${ivy.lib.dir}/[conf]/[artifact].[ext]"/&gt;
&lt;/target&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>When we call this target, Ivy will do a resolve using our <code>ivy.xml</code> file in the root folder and then retrieve all the artifacts. The artifacts retrieved are kept in separate folders according to the configurations they belong to. Here is how your lib directory should look after a call to this target:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell" data-lang="shell"> Repertoire de D:\ivy\src\example\configurations\multi-projects\myapp\lib

01/24/2006  11:19 AM    &lt;REP&gt;          build
01/24/2006  11:19 AM    &lt;REP&gt;          noexternaljar
01/24/2006  11:19 AM    &lt;REP&gt;          withexternaljar
               0 fichier(s)                0 octets

 Repertoire de D:\ivy\src\example\configurations\multi-projects\myapp\lib\build

01/24/2006  10:53 AM             1,174 filter-api.jar
               1 fichier(s)            1,174 octets

 Repertoire de D:\ivy\src\example\configurations\multi-projects\myapp\lib\noexternaljar

01/24/2006  10:53 AM             1,174 filter-api.jar
01/24/2006  10:53 AM             1,030 filter-hmimpl.jar
               2 fichier(s)            2,204 octets

 Repertoire de D:\ivy\src\example\configurations\multi-projects\myapp\lib\withexternaljar
01/24/2006  10:53 AM           559,366 commons-collections.jar
01/24/2006  10:53 AM             1,174 filter-api.jar
01/24/2006  10:53 AM             1,626 filter-ccimpl.jar
               3 fichier(s)          562,166 octets</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see, we have a set of jars for each configuration now.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s try to launch our app.</p>
</div>
</div>
<div class="sect2">
<h3 id="_see_it_in_action_2">See it in action</h3>
<div class="paragraph">
<p>Use Ant to run the application. The default Ant target is <em>run-cc</em> and will launch the application using the Apache commons-collections implementation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell" data-lang="shell">Unresolved directive in asciidoc/tutorial/conf.adoc - include::asciidoc/tutorial/log/configurations-runcc.txt[]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Launching the application using the homemade implementation is also straightforward.
type <code>ant run-hm</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell" data-lang="shell">Unresolved directive in asciidoc/tutorial/conf.adoc - include::asciidoc/tutorial/log/configurations-runhm.txt[]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Nice! We got the same result, but we can see that the implementation classes are different.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conclusion">Conclusion</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>You should use configurations as often as possible.</strong> Configurations are a very important concept in Ivy. They allow you to group artifacts and give the group a meaning. When you write Ivy files for projects that are intended for use by others, use configurations to allow people to get only what they need, without having to specify them one by one in their own dependency list.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_tutorial_build_repository_a_building_a_repository"><a id="tutorial_build-repository"></a>Building a repository</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <a href="../use/install.html">install</a> Ant task lets you copy a module or a set of modules from one repository to another. This is very useful to build and maintain an enterprise or team repository. If you don&#8217;t want to give access to the public Maven 2 repository to the developers on your team (to keep control over which modules are in use in your company or your team, for instance), it can sometimes become tiresome to answer the developers request to add new modules or new versions by hand.</p>
</div>
<div class="paragraph">
<p>Fortunately the <a href="../use/install.html">install</a> task is here to help: you can use specific settings for your repository maintenance build which will be used to maintain your target enterprise repository. These settings will point to another repository (for instance, the Maven 2 public repository) so that you will just have to ask Ivy to install the modules you want with a simple command line.</p>
</div>
<div class="paragraph">
<p>To demonstrate this, we will first use a basic Ivy settings file to show how it works, and then we will use the advanced <a href="../settings/namespaces.html">namespaces</a> features to demonstrate how to deal with naming mismatches between the source and target repository.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_project_used">The project used</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The project that we will use is pretty simple. It is composed of an Ant build file, and two Ivy settings files.</p>
</div>
<div class="paragraph">
<p>Here are the public targets that we will use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell" data-lang="shell">Z:\ivy-repository&gt;ant -p
Buildfile: build.xml

Main targets:

 clean-cache            --&gt; clean the cache
 clean-repo             --&gt; clean the destination repository
 maven2                 --&gt; install module from Maven 2 repository
 maven2-deps            --&gt; install module from Maven 2 repository with dependencies
 maven2-namespace       --&gt; install module from Maven 2 using namespaces
 maven2-namespace-deps  --&gt; install module with dependencies from Maven 2 repository using namespaces
Default target: basic</code></pre>
</div>
</div>
<div class="paragraph">
<p>This project is accessible in the <a href="https://gitbox.apache.org/repos/asf?p=ant-ivy.git;a=tree;f=src/example/build-a-ivy-repository">src/example/build-a-ivy-repository</a></p>
</div>
<div class="paragraph">
<p>Next steps:<br/>
<a href="../tutorial/build-repository/basic.html">Basic repository copy</a><br/>
<a href="../tutorial/build-repository/advanced.html">Using namespaces</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_tutorial_build_repository_basic_a_basic_repository_copy"><a id="tutorial_build-repository_basic"></a>Basic repository copy</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this first step, we use the <a href="../../use/install.html">install</a> Ant task to install modules from the Maven 2 repository to a file system based repository. We first install a module by itself, excluding dependencies, then again with its dependencies.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_basic_ivysettings_xml_file_used">Basic: ivysettings.xml file used</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Ivy settings file that we will use is very simple here. It defines two resolvers, <em>libraries</em> and <em>my-repository</em>. The first one is used as the source, the second one as the destination. In a typical setup, the second one would be configured using an <a href="../../settings/include.html">include</a> that included an existing settings file used by the development team.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>&lt;ivysettings&gt;
    &lt;settings defaultResolver="libraries"
              defaultConflictManager="all"/&gt; &lt;!-- in order to get all revisions without any eviction --&gt;
    &lt;caches defaultCacheDir="${ivy.cache.dir}/no-namespace"/&gt;
    &lt;resolvers&gt;
        &lt;ibiblio name="libraries" m2compatible="true"/&gt;
        &lt;filesystem name="my-repository"&gt;
            &lt;ivy pattern="${dest.repo.dir}/no-namespace/[organisation]/[module]/ivys/ivy-[revision].xml"/&gt;
            &lt;artifact pattern="${dest.repo.dir}/no-namespace/[organisation]/[module]/[type]s/[artifact]-[revision].[ext]"/&gt;
        &lt;/filesystem&gt;
    &lt;/resolvers&gt;
&lt;/ivysettings&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_install_a_simple_module_without_dependencies">Install a simple module without dependencies</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Let&#8217;s have a look at the <em>maven2</em> target.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>&lt;target name="maven2" depends="init-ivy"
    description="--&gt; install module from maven 2 repository"&gt;
    &lt;ivy:install settingsRef="basic.settings"
                 organisation="commons-lang" module="commons-lang" revision="1.0"
                 from="${from.resolver}" to="${to.resolver}"/&gt;
&lt;/target&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Pretty simple, we call the <a href="../../use/install.html">ivy:install</a> task with the settings we have loaded using <a href="../../use/settings.html">ivy:settings</a> as usual. We then set the source and destination repositories using the <em>from</em> and <em>to</em> attributes. We used Ant properties for these values here, which helps ease the maintenance of the script, but it&#8217;s basically the name of our resolvers: 'libraries' for the source and 'my-repository' for the destination.</p>
</div>
<div class="paragraph">
<p>Here is the Ant call output :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell" data-lang="shell">Unresolved directive in asciidoc/tutorial/build-repository/basic.adoc - include::asciidoc/tutorial/log/install.txt[]</code></pre>
</div>
</div>
<div class="paragraph">
<p>The trace tells us that the module definition was found using the "libraries" resolver and that the corresponding artifact was downloaded from the Maven 2 repository. Then both were published to the filesystem repository (my-repository).</p>
</div>
<div class="paragraph">
<p>Let&#8217;s have a look at our repository :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell" data-lang="shell">Unresolved directive in asciidoc/tutorial/build-repository/basic.adoc - include::asciidoc/tutorial/log/myrepository-content.txt[]</code></pre>
</div>
</div>
<div class="paragraph">
<p>We can see that we now have the commons-lang module version 1.0 in our repository, with a generated ivy.xml file, its jar, and all the md5 and sha1 checksums for future consistency checks when developers use this repository to resolve modules.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_install_a_module_with_dependencies">Install a module with dependencies</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Now let&#8217;s say that we want to be sure all the dependencies of the module we install are available in our repository after the installation. We could either install without dependencies in a staging repository and check the missing dependencies (more control), or use transitive dependency management and ask Ivy to install everything for us (much simpler).</p>
</div>
<div class="paragraph">
<p>The <code>maven2-deps</code> target is very similar to the one described above, except that we explicitly ask for transitive installation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>    &lt;target name="maven2-deps" depends="init-ivy"
            description="--&gt; install module from maven 2 repository with dependencies"&gt;
        &lt;ivy:install settingsRef="basic.settings"
                     organisation="org.hibernate" module="hibernate" revision="3.2.5.ga"
                     from="${from.resolver}" to="${to.resolver}" transitive="true"/&gt;
    &lt;/target&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you call this target, you will see that Ivy installs not only the hibernate module but also its dependencies:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell" data-lang="shell">Unresolved directive in asciidoc/tutorial/build-repository/basic.adoc - include::asciidoc/tutorial/log/install-deps.txt[]</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see the installation has failed, and if you look at the log you will see that there are missing artifacts in the source repository. This means that you will need to download those artifacts manually, and copy them to your destination repository to complete the installation. Fortunately Ivy uses a best effort algorithm during install, so that everything gets installed except the missing artifacts. (Note: these missing artifacts are not in the public Maven repository due to licensing issues.)</p>
</div>
<div class="paragraph">
<p>You may also have noticed that Ivy installed 2 different revisions of commons-logging (1.0.2, 1.0.4). This is due to the fact that we used the "no conflict" <a href="../../settings/conflict-managers.html">conflict manager</a> in the Ivy settings file.</p>
</div>
<div class="paragraph">
<p>We do not want to evict any modules because we are building our own repository. Indeed, if we get both commons-logging 1.0.2 and 1.0.4, it&#8217;s because some modules among the transitive dependencies of hibernate depend on 1.0.2 and others on 1.0.4. If we got only 1.0.4, the module depending on 1.0.2 would be inconsistent in your own repository (depending on a version you did not install). Thus developers using this module directly would run into a problem.</p>
</div>
<div class="paragraph">
<p>If you now have a closer look at your repository, you will probably notice that it isn&#8217;t an exact replica of the original one. Let&#8217;s have a look at the directory of one module:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell" data-lang="shell">Unresolved directive in asciidoc/tutorial/build-repository/basic.adoc - include::asciidoc/tutorial/log/myrepository-content-deps.txt[]</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see there is no POM here (POM is the module metadata format used by Maven 2, available in the Maven 2 repository). Instead you can see there&#8217;s an Ivy file, which is actually the original Hibernate POM converted into an Ivy file. So now you have a true Ivy repository with Ivy files, where you can use the full power of Ivy if you want to adjust the module metadata (module configurations, fine grained exclusions and transitivity control, per module conflict manager, &#8230;&#8203;).</p>
</div>
<div class="paragraph">
<p>OK, enough for this simple repository installation, the <a href="../../tutorial/build-repository/advanced.html">next tutorial</a> will show how you can deal with more complex cases where your source and destination repositories do not follow the same naming conventions.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_tutorial_build_repository_advanced_a_using_namespaces"><a id="tutorial_build-repository_advanced"></a>Using namespaces</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Now that you have seen how simple it is to create your own repository from an existing one, you may wonder how you can handle more complex cases, like when the source and destination repositories don&#8217;t follow the same naming conventions.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_on_the_road_to_a_professional_repository">On the road to a professional repository</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this section, you will learn how to build a <strong>professional</strong> repository. What is a <strong>professional</strong> repository? Our vision is to say that a good quality repository must follow clear rules about project naming and must offer correct, usable configurations and verified project descriptors. In order to achieve those goals, we believe that you have to build your own repository.
We have seen in the previous example, that we could use some public repositories to begin building our own repository. Nevertheless, the result is not always the expected one, especially concerning the naming rules used.</p>
</div>
<div class="paragraph">
<p>This problem is pretty normal when you have an existing repository, and want to benefit from large public repositories which do not follow the same naming conventions. It also shows up because many public repositories do not use a  consistent naming scheme. For example, why don&#8217;t all the Apache Commons modules use the org.apache.commons organization? Well&#8230;&#8203; for historical reasons. But if you set up your own repository, you may not want to suffer from the mistakes of history.</p>
</div>
<div class="paragraph">
<p>Fortunately, Ivy has a very powerful answer to this problem: <a href="../../settings/namespaces.html">namespaces</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_using_namespaces">Using namespaces</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you look at the repository built with the <a href="../../tutorial/build-repository/basic.html">previous tutorial</a>, you will see exactly what we were talking about: all Apache Commons modules use their own name as their organization.</p>
</div>
<div class="paragraph">
<p>So let&#8217;s see what Ivy can do using namespaces (we will dig into details later):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell" data-lang="shell">Unresolved directive in asciidoc/tutorial/build-repository/advanced.adoc - include::asciidoc/tutorial/log/install-namespace.txt[]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now if we look at our repository, it seems to look fine.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell" data-lang="shell">Unresolved directive in asciidoc/tutorial/build-repository/advanced.adoc - include::asciidoc/tutorial/log/myrepository-content-namespace.txt[]</code></pre>
</div>
</div>
<div class="paragraph">
<p>We can even have a look at the commons-lang Ivy file in our repository:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;ivy-module version="1.0"&gt;
    &lt;info organisation="apache"
          module="commons-lang"
          revision="1.0"
          status="integration"
          publication="20051124062021"
          namespace="ibiblio-maven2"/&gt;

...</code></pre>
</div>
</div>
<div class="paragraph">
<p>Alright, we see that the organisation is now 'apache'. But where did Ivy pick this up?</p>
</div>
<div class="sect2">
<h3 id="_how_does_this_work">How does this work ?</h3>
<div class="paragraph">
<p>Actually, Ivy uses the same repository as before for the source repository, with only one difference: the namespace parameter:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>&lt;ibiblio name="libraries"
         root="${ibiblio-maven2-root}"
         m2compatible="true"
         namespace="maven2"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>A namespace is defined by a set of rules. These rules are based on regular expressions and tell Ivy how to convert data from the repository namespace  to what is called the system namespace, i.e. the namespace in which Ivy runs most of the time (Note: the Ivy cache always uses the system namespace).</p>
</div>
<div class="paragraph">
<p>For the namespace we call <em>maven2</em>, we have declared several rules. Below is one of the rules:</p>
</div>
<div class="sect3">
<h4 id="_rule_handling_the_imported_apache_maven_1_projects">rule handling the imported Apache Maven 1 projects</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>&lt;rule&gt;  &lt;!-- imported apache maven 1 projects --&gt;
    &lt;fromsystem&gt;
        &lt;src org="apache" module=".+"/&gt;

        &lt;dest org="$m0" module="$m0"/&gt;
    &lt;/fromsystem&gt;
    &lt;tosystem&gt;
        &lt;src org="commons-.+" module="commons-.+"/&gt;
        &lt;src org="ant.*" module="ant.*"/&gt;
        ...
        &lt;src org="xmlrpc" module="xmlrpc"/&gt;

        &lt;dest org="apache" module="$m0"/&gt;
    &lt;/tosystem&gt;
&lt;/rule&gt;</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Note about regular expressions usage :
In order to distinguish matching regular expressions found in organization, module, and revision, the notation Ivy uses prefixes the matching regular expression with the letters 'o', 'm' and 'r'.
$o0 : the whole matching value in the organization attribute
$o1 : the first matching expression group that was marked in the organization attribute
&#8230;&#8203;
The same applies for modules : $m0, $m1, &#8230;&#8203;
and for revisions : $r0, $r1, &#8230;&#8203;</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To understand namespaces,</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>fromsystem :</strong> we define here that the projects defined in the system namespace under the organization called "apache" are transformed into the destination namespace into projects whose organization is named with the module name, whatever the revision is. For example, the project apache#commons-lang;1.0  in the system namespace will be translated into commons-lang#commons-lang;1.0 in the maven2 resolver namespace.<br/></p>
</li>
<li>
<p><strong>tosystem :</strong> we define here the reverse mapping, i.e. how to translate <em>Apache</em> projects from Maven 2 repo into Apache projects in the system namespace. The rule used here tells Ivy that all projects matching <code>commons-.+</code> (see it as Java regular expression) for their organization name and module name are transformed into projects whose organisation is <code>apache</code> with the module name as it was found. The same kind of rule is defined for other Apache projects like Ant, etc.<br/></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>OK, you should now get the idea behind namespaces, so go ahead and look at the <code>ivysettings-advanced.xml</code> file in this example. You can test the installation of a module and its dependencies using namespaces.</p>
</div>
<div class="paragraph">
<p>Run</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>ant maven2-namespace-deps</code></pre>
</div>
</div>
<div class="paragraph">
<p>and you will see the resulting repository is cleaner than the first one we built.</p>
</div>
<div class="paragraph">
<p>From our experience, investing in creating a namespace is worth the time it costs if you often need to add new modules or revisions of third party libraries in your own repository, where naming rules already exist or are rather strict.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_moreexamples_a_more_examples"><a id="moreexamples"></a>More examples</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you have successfully followed and understood all the tutorials, you still might need to get a better picture of how to use Ivy in the real world.</p>
</div>
<div class="paragraph">
<p>Here are some links which might be interesting:</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_sant">SAnt</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://web.archive.org/web/20091012101947/https://wiki.onehippo.com/display/OS/SAnt+build+system">SAnt</a> is an experimental build system based on Ant and Ivy. It can be interesting to use "as is", or to get insight on an interesting approach to manage your builds.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_spring_modules">Spring Modules</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <a href="https://web.archive.org/web/20130613141751/https://java.net/projects/springmodules">Spring Modules</a> project build system is based on Ant and Ivy, and it&#8217;s really interesting to have a look at how a modularized project can take advantage of advanced Ant and Ivy features to make the build simpler.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_webwork">Webwork</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <a href="https://web.archive.org/web/20101203144930/http://www.opensymphony.com/webwork/">Webwork project</a> (which became Struts Action framework) uses Ant+Ivy for their build, and thus makes their framework very easy to use in an Ant+Ivy build system. They have a <a href="https://web.archive.org/web/20080807181009/http://wiki.opensymphony.com/display/WW/Dependencies">page documenting how to use Ivy with their framework</a>, which can be an interesting reading, even if you don&#8217;t plan to use Webwork.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_easing_multi_module_development">Easing multi-module development</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Johan Stuyts, the author of SAnt, also contributed <a href="http://www.jaya.free.fr/ivy/doc/articles/ease-multi-module.html">a nice article</a> on his view of how to use Ivy on a multi-module environment.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_beginners_guide">Beginners Guide</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="http://olmex.blogspot.in/2012/04/ivy-beginners-guide.html">Apache Ivy - Beginners Guide</a> is a step by step guide to assist beginners in understanding basic concepts/tasks and use them straight away in their projects either through Ant build or in Eclipse IDE.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_reference_a_reference"><a id="reference"></a>Reference</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Welcome to the Ivy reference documentation!</p>
</div>
<div class="paragraph">
<p>If you don&#8217;t know Ivy at all, take a look at its features, the faq and the <a href="tutorial.html">tutorials</a> before digging into this reference documentation.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_reference_overview">Reference Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This documentation is broken into several parts:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Introduction</p>
<div class="ulist">
<ul>
<li>
<p><a href="terminology.html">Terminology</a></p>
<div class="paragraph">
<p>This part gives you the meaning of some words used all over the Ivy documentation, such as organization, module, configurations, settings, &#8230;&#8203;</p>
</div>
</li>
<li>
<p><a href="concept.html">Main Concepts</a></p>
<div class="paragraph">
<p>This part introduces the main concepts used in Ivy: dependency resolvers, variables, patterns, and explains a central Ivy concept: module configurations.</p>
</div>
</li>
<li>
<p><a href="principle.html">How does it work ?</a></p>
<div class="paragraph">
<p>As the title suggests, here you will find an explanation of how Ivy does work internally, which can help to better understand and customize its use.</p>
</div>
</li>
<li>
<p><a href="install.html">Installation</a></p>
<div class="paragraph">
<p>This part describes how to install Ivy.</p>
</div>
</li>
<li>
<p><a href="running.html">Running</a></p>
<div class="paragraph">
<p>This part describes possibility to control the behavior of Ivy at run time</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><a href="settings.html">Settings Files</a></p>
<div class="paragraph">
<p>This part is dedicated to the specification of the settings file of Ivy (usually called ivysettings.xml). It also gives the list of built-in dependency resolvers available in Ivy.</p>
</div>
</li>
<li>
<p><a href="ivyfile.html">Ivy Files</a></p>
<div class="paragraph">
<p>This part is the reference for the module descriptors, the Ivy files in which you describe your dependencies. If you have any questions about what can be done or not in an Ivy file, you will find the answer here.</p>
</div>
</li>
<li>
<p><a href="ant.html">Ant Tasks</a></p>
<div class="paragraph">
<p>This part describes how to use Ivy from Ant. It&#8217;s in this section that all Ant tasks provided by Ivy are specified.</p>
</div>
</li>
<li>
<p><a href="standalone.html">Using standalone</a></p>
<div class="paragraph">
<p>Even though Ivy is most often used from Ant, it can also be used from the command line. This page describes how you can do this.</p>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_intro_a_introduction"><a id="intro"></a>Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Unresolved directive in book.adoc - include::../asciidoc/intro.adoc[]</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_terminology_a_terminology"><a id="terminology"></a>Terminology</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Here are some terms used in Ivy, with their definitions in Ivy:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#organisation">Organisation</a></p>
</li>
<li>
<p><a href="#module">Module</a></p>
</li>
<li>
<p><a href="#descriptor">Module Descriptor</a></p>
</li>
<li>
<p><a href="#artifact">Artifact</a></p>
</li>
<li>
<p><a href="#type">Type of an artifact</a></p>
</li>
<li>
<p><a href="#extension">Artifact file name extension</a></p>
</li>
<li>
<p><a href="#revision">Module Revision</a></p>
</li>
<li>
<p><a href="#branch">Branch</a></p>
</li>
<li>
<p><a href="#status">Status of a revision</a></p>
</li>
<li>
<p><a href="#configurations">Configurations of a module</a></p>
</li>
<li>
<p><a href="#settings">Ivy Settings</a></p>
</li>
<li>
<p><a href="#repository">Repository</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_overview">Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following <a id="illustration"></a>illustration shows all the key terminology in one diagram:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/images/ivy-terminology.png" alt="ivy terminology"/>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_organisation_a_organisation"><a id="organisation"></a>Organisation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>An <code>organisation</code> is either a company, an individual, or simply any group of people that produces software. In principle, Ivy handles only a single level of organisation, meaning that they have a flat namespace in Ivy module descriptors. So, with Ivy descriptors, you can only describe a tree-like organisation structure, if you use a hierarchical naming convention. The organisation name is used for keeping together software produced by the same team, just to help locate their published works.</p>
</div>
<div class="paragraph">
<p>Often organisations will use their inverted domain name as their organisation name in Ivy, since domain names by definition are unique. A company whose domain name is www.example.com might want to use com.example, or if they had multiple teams, all their organisation names could begin with com.example (e.g. com.example.rd, com.example.infra, com.example.services). The organisation name does neither really have to be an inverted domain name, nor even globally unique, but unique naming is highly recommended. Widely recognized trademark or trade name owners may choose to use their brand name instead.</p>
</div>
<div class="paragraph">
<p><em>Examples: org.apache, ibm, jayasoft</em></p>
</div>
<div class="paragraph">
<p>Note that the Ivy <code>organisation</code> is very similar to Maven POM <code>groupId</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_module_a_module"><a id="module"></a>Module</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A <code>module</code> is a self-contained, reusable unit of software that, as a whole unit, follows a revision control scheme.</p>
</div>
<div class="paragraph">
<p>Ivy is only concerned about the module deliverables known as <em>artifacts</em>, and the <em>module descriptor</em> that declares them. These deliverables, for each <em>revision</em> of the module, are managed in <em>repositories</em>. In other words, to Ivy, a module is a chain of revisions each comprising a descriptor and one or more artifacts.</p>
</div>
<div class="paragraph">
<p><em>Examples: hibernate-entitymanager, ant</em></p>
</div>
<div class="sect2">
<h3 id="__a_id_descriptor_a_module_descriptor"><a id="descriptor"></a>Module Descriptor</h3>
<div class="paragraph">
<p>A <em>module descriptor</em> is a generic way of identifying what describes a module: the identifier (organisation, module name, branch and revision), the published artifacts, possible configurations and their dependencies.</p>
</div>
<div class="paragraph">
<p>The most common module descriptors in Ivy are <a href="ivyfile.html">Ivy Files</a>, XML files with an Ivy specific syntax, and usually called ivy.xml.</p>
</div>
<div class="paragraph">
<p>But since Ivy is also compatible with Maven 2 metadata format (called POM, for Project Object Model), POM files fall into the category of module descriptors.</p>
</div>
<div class="paragraph">
<p>And because Ivy accepts pluggable module descriptor parsers, you can use almost whatever you want as module descriptors.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_artifact_a_artifact"><a id="artifact"></a>Artifact</h2>
<div class="sectionbody">
<div class="paragraph">
<p>An <code>artifact</code> is <em>a single file</em> ready for delivery with the publication of a module revision, as a product of development.</p>
</div>
<div class="paragraph">
<p>Compressed package formats are often preferred because they are easier to manage, transfer and store. For the same reasons, only one or a few artifacts per module are commonly used. However, artifacts can be of any file type and any number of them can be declared in a single module.</p>
</div>
<div class="paragraph">
<p>In the Java world, common artifacts are Java archives or JAR files. In many cases, each revision of a module publishes only one artifact (like jakarta-log4j-1.2.6.tar.gz, for instance), but some of them publish many artifacts depending on the use of the module (like apache-ant binary and source distributions in zip, gz and bz2 package formats, for instance).</p>
</div>
<div class="paragraph">
<p><em>Examples: ant-1.7.0-bin.zip, apache-ant-1.7.0-src.tar.gz </em></p>
</div>
<div class="sect2">
<h3 id="__a_id_type_a_type_of_an_artifact"><a id="type"></a>Type of an artifact</h3>
<div class="paragraph">
<p>The artifact <code>type</code> is a category of a particular kind of artifact specimen. It is a classification based on the intended purpose of an artifact or <em>why</em> it is provided, not a category of packaging format or <em>how</em> the artifact is delivered.</p>
</div>
<div class="paragraph">
<p>Although the type of an artifact may (rather accidentally) imply its file format, they are two different concepts. The artifact file name extension is more closely associated with its format. For example, in the case of Java archives the artifact type "jar" indicates that it is indeed a Java archive as per the JAR File specification. The file name extension happens to be "jar" as well. On the other hand, with source code distributions, the artifact type may be "source" while the file name extensions vary from "tar.gz", "zip", "java", "c", or "xml" to pretty much anything. So, the type of an artifact is basically an abstract functional category to explain its purpose, while the artifact file name extension is a more concrete technical indication of its format and, of course, naming.</p>
</div>
<div class="paragraph">
<p>Defining appropriate artifact types for a module is up to its development organisation. Common choices may include: "jar", "binary", "bin", "rc", "exe", "dll", "source", "src", "config", "conf", "cfg", "doc", "api", "spec", "manual", "man", "data", "var", "resource", "res", "sql", "schema", "deploy", "install", "setup", "distrib", "distro", "distr", "dist", "bundle", etc.</p>
</div>
<div class="paragraph">
<p>Module descriptors are not really artifacts, but they are comparable to an artifact type, i.e. "descriptor" (an Ivy file or a Maven POM).</p>
</div>
<div class="paragraph">
<p>Electronic signatures or digests are not really artifacts themselves, but can be found with them in repositories. They also are comparable to an artifact type, i.e. "digest" (md5 or sha1).</p>
</div>
</div>
<div class="sect2">
<h3 id="__a_id_extension_a_artifact_file_name_extension"><a id="extension"></a>Artifact file name extension</h3>
<div class="paragraph">
<p>In some cases the artifact type already implies its file name extension, but not always. More generic types may include several different file formats, e.g. documentation can contain tarballs, zip packages or any common document formats.</p>
</div>
<div class="paragraph">
<p><em>Examples: zip, tar, tar.gz, rar, jar, war, ear, txt, doc, xml, html</em></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_module_a_id_revision_a_revision_and_status">Module <a id="revision"></a>Revision and Status</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_module_revision">Module revision</h3>
<div class="paragraph">
<p>A unique revision number or version name is assigned to each delivered unique state of a module. Ivy can help in generating revision numbers for module delivery and publishing revisions to repositories, but other aspects of revision control, especially source revisioning, must be managed with a separate version control system.</p>
</div>
<div class="paragraph">
<p>Therefore, to Ivy, a <em>revision</em> always corresponds to <em>a delivered version of a module</em>. It can be a public, shared or local delivery, a release, a milestone, or an integration build, an alpha or a beta version, a nightly build, or even a continuous build. All of them are considered revisions by Ivy.</p>
</div>
<div class="sect3">
<h4 id="__em_source_revision_em"><em>Source revision</em></h4>
<div class="paragraph">
<p>Source files kept under a version control system (like Subversion, CVS, SourceSafe, Perforce, etc.) have a separate revisioning scheme that is independent of the <em>module revisions</em> visible to Ivy. Ivy is unaware of any revisions of a module&#8217;s source files.</p>
</div>
<div class="paragraph">
<p>In some cases, the SCM&#8217;s <em>source revision</em> number could be used also as the <em>module revision</em> number, but that usage is very rare. They are still two different concepts, even if the module revision number was wholly or partially copied from the respective source revision number.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="__a_id_branch_a_branch"><a id="branch"></a>Branch</h3>
<div class="paragraph">
<p>A branch corresponds to the standard meaning of a branch (or sometimes stream) in source control management tools.
The head, or trunk, or main stream, is also considered as a branch in Ivy.</p>
</div>
</div>
<div class="sect2">
<h3 id="__a_id_status_a_status_of_a_revision"><a id="status"></a>Status of a revision</h3>
<div class="paragraph">
<p>A module&#8217;s status indicates how stable a module revision can be considered. It can be used to consolidate the status of all the dependencies of a module, to prevent the use of an integration revision of a dependency in the release of your module.</p>
</div>
<div class="paragraph">
<p>Three statuses are defined by default in Ivy:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>integration</code></dt>
<dd>
<p>revisions built by a continuous build, a nightly build, and so on, fall in this category</p>
</dd>
<dt class="hdlist1"><code>milestone</code></dt>
<dd>
<p>revisions delivered to the public but not actually finished fall in this category</p>
</dd>
<dt class="hdlist1"><code>release</code></dt>
<dd>
<p>a revision fully tested and labelled fall in this category</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>(<strong><em>since 1.4</em></strong>) This list is <a href="settings/statuses.html">configurable</a> in your settings file.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_configurations_a_configurations_of_a_module"><a id="configurations"></a>Configurations of a module</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A <em>module configuration</em> is a way to use or construct a module. If the same module has different dependencies based on how it&#8217;s used, those distinct dependency-sets are called its configurations in Ivy.</p>
</div>
<div class="paragraph">
<p>Some modules may be used in different ways (think about hibernate which can be used inside or outside an application server), and this way may alter the artifacts you need (in the case of hibernate, jta.jar is needed only if it is used outside an application server).
Moreover, a module may need some other modules and artifacts only at build time, and some others at runtime. All those different ways to use or build a module are called module configurations in Ivy.</p>
</div>
<div class="paragraph">
<p>For more details on configurations and how they are used in Ivy, please refer to the <a href="concept.html">main concepts page</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_settings_a_ivy_settings"><a id="settings"></a>Ivy Settings</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Ivy settings files are XML files used to configure Ivy to indicate where the modules can be found and how.</p>
</div>
<div class="sect2">
<h3 id="_history_of_settings">History of settings</h3>
<div class="paragraph">
<p>Prior to Ivy 2.0, the settings files were called configuration files and usually named ivyconf.xml. This resulted in confusion between module configurations and Ivy configuration files, so they were renamed to settings files. If you happen to fall on an ivyconf file or something called a configuration file, most of the time it&#8217;s only unupdated information (documentation, tutorial or article). Feel free to report any problem like this if you find such an inconsistency.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_repository_a_repository"><a id="repository"></a>Repository</h2>
<div class="sectionbody">
<div class="paragraph">
<p>What is called a <em>repository</em> in Ivy is a distribution site location where Ivy is able to find your required modules' artifacts and descriptors (i.e. Ivy files in most cases).</p>
</div>
<div class="paragraph">
<p>Ivy can be used with complex repositories configured very finely. You can use <a href="concept.html">Dependency Resolvers</a> to do so.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_concept_a_main_concepts"><a id="concept"></a>Main Concepts</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="__a_id_dependency_resolver_a_dependency_resolver"><a id="dependency-resolver"></a>Dependency Resolver</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A dependency resolver is a pluggable class in Ivy which is used to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>find dependencies' Ivy files</p>
</li>
<li>
<p>download dependencies' artifacts</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The notion of artifact "downloading" is large: an artifact can be on a web site, or on the local file system of your machine. The download is thus the act of bring a file from a repository to the Ivy cache.</p>
</div>
<div class="paragraph">
<p>Moreover, the fact that it is the responsibility of the resolver to find Ivy files and download artifacts helps to implement various resolving strategies.</p>
</div>
<div class="paragraph">
<p>As you see, a dependency resolver can be thought of as a class responsible for describing a repository.</p>
</div>
<div class="paragraph">
<p>If you want to see which resolvers are available in Ivy, you can go to the <a href="settings/resolvers.html">resolvers configuration page</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_configurations_a_module_configurations_explained"><a id="configurations"></a>Module configurations explained</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Module configurations are described in the terminology page as <em>a way to use or construct a module</em>. Configurations being a central part of Ivy, they need more explanations as a concept.</p>
</div>
<div class="paragraph">
<p>When you define a way to use or construct a module, you are able to define which artifacts are published by this module in this configuration, and you are also able to define which dependencies are needed in this configuration.</p>
</div>
<div class="paragraph">
<p>Moreover, because dependencies in Ivy are expressed on modules and not on artifacts, it is important to be able to define which configurations of the dependency are required in the configuration you define of your module. That&#8217;s what is called <strong>configuration mapping</strong>.</p>
</div>
<div class="paragraph">
<p>If you use only simple modules and do not want to worry about configurations, you don&#8217;t have to worry about them. They&#8217;re still there under the hood because Ivy can&#8217;t work without configurations. But most of the time if you declare nothing, Ivy assumes that the artifacts of your module are published in all configurations, and that all the dependencies' configurations are required in all configurations. And it works in simple cases. But whenever you want to separate things within a module, or get more control over things published and get better dependencies resolution, configurations will meet most of your needs.</p>
</div>
<div class="paragraph">
<p>For details on how to declare your module configurations, how to declare in which configuration your artifacts are published, and how to declare configuration mapping, please refer to <a href="ivyfile.html">Ivy file documentation</a>. The <a href="tutorial/conf.html">configurations tutorial</a> is also a good place to go to learn more about this concept.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_variables_a_variables"><a id="variables"></a>Variables</h2>
<div class="sectionbody">
<div class="paragraph">
<p>During configuration, Ivy allows you to define what are called Ivy variables. Ivy variables can be seen as Ant properties, and are used in a very similar way. In particular, you use a properties tag in the settings file to load a properties file containing Ivy variables and their values.</p>
</div>
<div class="paragraph">
<p>But the main differences between Ant properties and Ivy variables are that Ivy variables can be overridden, whereas Ant properties can&#8217;t, and that they are defined in separate environments.</p>
</div>
<div class="paragraph">
<p>Actually all Ant properties are imported into Ivy variables when the configuration is done (if you call Ivy from Ant).
This means that if you define an Ant property after the call to configure, it will not be available as an Ivy variable.
On the other hand, Ivy variables are NOT exported to Ant, thus if you define Ivy variables in Ivy, do not try to use them as Ant properties.</p>
</div>
<div class="paragraph">
<p>To use Ivy variables, you just have to follow the same syntax as for Ant properties: <code>${variablename}</code> where <code>variablename</code> is the name of the variable.</p>
</div>
<div class="paragraph">
<p>Finally, it&#8217;s also important to be aware of the time of substitution of variables. This substitution is done as soon as possible. This means that when Ivy encounters a reference to a variable, it tries to substitute it if such a variable is defined. Consequently, <strong>any later modification of the variable will not alter the value already substituted</strong>.</p>
</div>
<div class="paragraph">
<p>Moreover, in an Ant environment, a bunch of variables are going to be set by default via the Ant property file loading mechanism (actually they are first loaded as Ant properties and then imported as Ivy variables, see <a href="ant.html">Ant Tasks</a>), and even in the Ant properties themselves there is going to be eager substitution on loading, effectively making it impossible to override some variable purely via the ivysettings.properties file. Some variables will really only be able to be overridden via Ant properties because of this.</p>
</div>
<div class="paragraph">
<p>Moreover, it&#8217;s also important to understand the difference between Ivy variables and Ivy pattern tokens.
See the Patterns chapter below for what pattern tokens are.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_patterns_a_patterns"><a id="patterns"></a>Patterns</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Ivy patterns are used in many dependency resolvers and Ivy tasks, and are a simple way to structure the way Ivy works.</p>
</div>
<div class="paragraph">
<p>First let&#8217;s give an example. You can, for instance, configure the file system dependency resolver by giving it a pattern to find artifacts. This pattern can be like this:
<code>myrepository/[organisation]/[module]/[type]s/[artifact]-[revision].[ext]</code></p>
</div>
<div class="paragraph">
<p>This pattern indicates that the repository we use is in a directory called myrepository.</p>
</div>
<div class="paragraph">
<p>In this directory we have directories having for name the name of the organisation of the module we look for.
Then we have a directory per module, each having for name the name of the module.
Then in module directories we find a directory per artifact type (jars, wars, ivys, &#8230;&#8203;), in which we find artifacts named by the artifact id, followed by a hyphen, then the revision, a dot, and the artifact extension.
Not too difficult to understand is it? That&#8217;s it, you have understood the pattern concept!</p>
</div>
<div class="paragraph">
<p>To give a bit more explanation, a pattern is composed of tokens, which are replaced by actual values when evaluated for a particular artifact or module. Those tokens are different from variables because they are replaced differently for each artifact, whereas variables are usually given the same value.</p>
</div>
<div class="paragraph">
<p>You can mix variables and tokens in a pattern:
<code>${repository.dir}/[organisation]/[module]/[type]s/[artifact]-[revision].[ext]</code></p>
</div>
<div class="paragraph">
<p>The tokens available depends on where the pattern is used (will it be evaluated with artifacts or modules, for instance).
But here are all the tokens currently available:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>[organisation]</code></dt>
<dd>
<p>the organisation name</p>
</dd>
<dt class="hdlist1"><code>[orgPath]</code></dt>
<dd>
<p>(<strong><em>since 2.3</em></strong>)<br/>
the organisation name where '.' has been replaced by '/'. This can be used to configure Maven 2-like repositories.</p>
</dd>
<dt class="hdlist1"><code>[module]</code></dt>
<dd>
<p>the module name</p>
</dd>
<dt class="hdlist1"><code>[branch]</code></dt>
<dd>
<p>the branch name</p>
</dd>
<dt class="hdlist1"><code>[revision]</code></dt>
<dd>
<p>the revision name</p>
</dd>
<dt class="hdlist1"><code>[artifact]</code></dt>
<dd>
<p>the artifact name (or id)</p>
</dd>
<dt class="hdlist1"><code>[type]</code></dt>
<dd>
<p>the artifact type</p>
</dd>
<dt class="hdlist1"><code>[ext]</code></dt>
<dd>
<p>the artifact file extension</p>
</dd>
<dt class="hdlist1"><code>[conf]</code></dt>
<dd>
<p>the configuration name</p>
</dd>
<dt class="hdlist1"><code>[originalname]</code></dt>
<dd>
<p>(<strong><em>since 1.4</em></strong>)<br/>
the original artifact name (including the extension)</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The difference between type and extension is explained in the Ivy file documentation.</p>
</div>
<div class="paragraph">
<p>(<strong><em>since 1.2</em></strong>) <code>[organization]</code> can be used instead of <code>[organisation]</code>.</p>
</div>
<div class="paragraph">
<p>(<strong><em>since 1.3</em></strong>) Optional parts can be used in patterns.</p>
</div>
<div class="paragraph">
<p>This provides the possibility to avoid some input when a token is not defined, instead of having only the token as blank. Parenthesis are used to delimit the optional part, and only one token can be found inside the parenthesis.</p>
</div>
<div class="paragraph">
<p>So if you surround a token with <code>(</code> and <code>)</code>, any other text which is between the parenthesis will be ignored if the token has no value.</p>
</div>
<div class="paragraph">
<p>For instance, suppose the pattern: <code>abc(def[type]ghi)</code></p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>type</code> = <code>"jar"</code> &#8594; the substituted pattern: <code>abcdefjarghi</code></p>
</li>
<li>
<p><code>type</code> = <code>null</code> or <code>""</code> &#8594; the substituted pattern: <code>abc</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A more real life example:
The pattern <code>[artifact](-[revision]).[ext]</code> lets you accept both <code>myartifact-1.0.jar</code> when a revision is set, and <code>myartifact.jar</code> (instead of <code>myartifact-.jar</code>) when no revision is set. This is particularly useful when you need to keep control of artifact names.</p>
</div>
<div class="paragraph">
<p>(<strong><em>since 1.4</em></strong>) Extra attributes can be used as any other token in a pattern.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_latest_a_latest_strategy"><a id="latest"></a>Latest Strategy</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Ivy often needs to know which revision between two is considered the "latest". To know that, it uses the concept of latest strategy. Indeed, there are several ways to consider a revision to be the latest. You can choose an existing one or plug in your own.</p>
</div>
<div class="paragraph">
<p>But before knowing which revision is the latest, Ivy needs to be able to consider several revisions of a module. Thus Ivy has to get a list of files in a directory, and it uses the dependency resolver for that. So check if the dependency resolver you use is compatible with latest revisions before wondering why Ivy does not manage to get your latest revision.</p>
</div>
<div class="paragraph">
<p>Finally, in order to get several revisions of a module, most of the time you need to use the <code>[revision]</code> token in your pattern so that Ivy gets all the files which match the pattern, whatever the revision is. It&#8217;s only then that the latest strategy is used to determine which of the revisions is the latest one.</p>
</div>
<div class="paragraph">
<p>Ivy has three built-in latest strategies:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>latest-time</code></dt>
<dd>
<p>This compares the revision dates to know which is the latest. While this is often a good strategy in terms of pertinence, it has the drawback of being costly to compute for distant repositories. If you use ivyrep, for example, Ivy has to ask the HTTP server what is the date of each Ivy file before knowing which is the latest.</p>
</dd>
<dt class="hdlist1"><code>latest-revision</code></dt>
<dd>
<p>This compares the revisions as strings, using an algorithm close to the one used in the PHP <code>version_compare</code> function.</p>
<div class="paragraph">
<p>This algorithm takes into account special meanings of some text. For instance, with this strategy, 1.0-dev1 is considered before 1.0-alpha1, which in turn is before 1.0-rc1, which is before 1.0, which is before 1.0.1.</p>
</div>
</dd>
<dt class="hdlist1"><code>latest-lexico</code></dt>
<dd>
<p>This compares the revisions as strings, using lexicographic order (the one used by the Java string comparison).</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>See also how to configure new latest strategies <a href="settings/latest-strategies.html">here</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_conflict_a_conflict_manager"><a id="conflict"></a>Conflict Manager</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A conflict manager is able to select, among a list of module revisions in conflict, a list of revisions to keep.
Yes, it can select a list of revisions, even if most conflict managers select only one revision.
But in some cases you will need to keep several revisions, and load in separate class loaders, for example.</p>
</div>
<div class="paragraph">
<p>A list of revisions is said to be in conflict if they correspond to the same module, i.e. the same organisation/module name couple.</p>
</div>
<div class="paragraph">
<p>The list of available conflict managers is available on the <a href="settings/conflict-managers.html">conflict manager configuration page</a>.</p>
</div>
<div class="paragraph">
<p>For more details on how to setup your conflict managers by module, see the <a href="ivyfile/conflicts.html">conflicts</a> section in the Ivy file reference.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_matcher_a_pattern_matcher"><a id="matcher"></a>Pattern matcher</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(<strong><em>since 1.3</em></strong>) In several places Ivy uses a pattern to match a set of objects. For instance, you can exclude several modules at once when declaring a dependency by using a pattern matching all the modules to exclude.</p>
</div>
<div class="paragraph">
<p>Ivy uses a pluggable pattern matcher to match those object names. 3 are defined by default:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>exact</code></dt>
<dd>
<p>This matcher matches only using strings</p>
</dd>
<dt class="hdlist1"><code>regexp</code></dt>
<dd>
<p>This matcher lets you use a regular expression as supported by the Pattern class of Java 1.4 or greater</p>
</dd>
<dt class="hdlist1"><code>glob</code></dt>
<dd>
<p>This matcher lets you use a Unix-like glob matcher, i.e. where the only meta characters are <code>*</code> which matches any sequence of characters and <code>?</code> which matches exactly one character. Note that this matcher is available only with Jakarta ORO 2.0.8 in your classpath.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Note also that with any matcher, the character '*' has the special meaning of matching anything. This is particularly useful with default values which do not depend on the matcher.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_extra_a_extra_attributes"><a id="extra"></a>Extra attributes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(<strong><em>since 1.4</em></strong>) Several tags in Ivy XML files are extensible with what is called extra attributes.
The idea is very simple: if you need some more information to define your modules, you can add the attribute you want and you will then be able to access it as any other attribute in your patterns.</p>
</div>
<div class="paragraph">
<p>(<strong><em>since 2.0</em></strong>)
It&#8217;s possible and recommended to use XML namespaces for your extra attributes. Using an Ivy extra namespace is the easiest way to add your own extra attributes.</p>
</div>
<div class="paragraph">
<p>Example: here is an Ivy file with the attribute <code>color</code> set to blue:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy-module version="2.0" xmlns:e="http://ant.apache.org/ivy/extra"&gt;
    &lt;info organisation="apache"
          module="foo"
          e:color="blue"
          status="integration"
          revision="1.59"/&gt;
&lt;/ivy-module&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then you must use the extra attribute when you declare a dependency on <code>foo</code>. Those extra attributes will indeed be used as identifiers for the module like the <code>org</code>, the <code>name</code> and the <code>revision</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;dependency org="apache" name="foo" e:color="blue" rev="1.5+"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>And you can define your repository pattern as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>${repository.dir}/[organisation]/[module]/[color]/[revision]/[artifact].[ext]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that in patterns you must use the unqualified attribute name (no namespace prefix).</p>
</div>
<div class="paragraph">
<p>If you don&#8217;t want to use XML namespaces, it&#8217;s possible but you will need to disable Ivy file validation, since your files won&#8217;t fulfill anymore the official Ivy XSD. See the <a href="settings/settings.html">settings documentation</a> to see how to disable validation.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_checksum_a_checksums"><a id="checksum"></a>Checksums</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(<strong><em>since 1.4</em></strong>)
Ivy allows the use of checksums, also known as digests, to verify the correctness of a downloaded file.</p>
</div>
<div class="paragraph">
<p>The configuration of using the algorithm can be done globally or by dependency resolver.
Globally, use the ivy.checksums variable to list the check to be done.
On each resolver you can use the checksums attribute to override the global setting.</p>
</div>
<div class="paragraph">
<p>The setting is a comma separated list of checksum algorithms to use.
During checking (at download time), the first checksum found is checked, and that&#8217;s all. This means that if you have a <code>"SHA-256, sha1, md5"</code> setting, then if Ivy finds a SHA-256 file, it will compare the downloaded file SHA-256 against this SHA-256, and if the comparison is ok, it will assume the file is ok. If no SHA-256 file is found, it will look for an sha1 file. If that isn&#8217;t found, then it checks for md5 and so on. If none is found no checking is done.
During publish, all listed checksum algorithms are computed and uploaded.</p>
</div>
<div class="paragraph">
<p>By default checksum algorithms are <code>"sha1, md5"</code>.</p>
</div>
<div class="paragraph">
<p>If you want to change this default, you can set the variable <code>ivy.checksums</code>. Hence, to disable checksum validation you just have to set <code>ivy.checksums</code> to <code>""</code>.</p>
</div>
<div class="sect2">
<h3 id="_supported_algorithms">Supported algorithms</h3>
<div class="paragraph">
<p>(<strong><em>since 1.4</em></strong>)</p>
</div>
<div class="ulist">
<ul>
<li>
<p>md5</p>
</li>
<li>
<p>sha1</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>(<strong><em>since 2.5</em></strong>) In addition to md5 and sha1, Ivy supports SHA-256, SHA-512 and SHA-384 algorithms, if the Java runtime in which Ivy is running, supports those. For example, Java 6 runtime supports SHA-256 and SHA-512 as standard algorithms. If Ivy 2.5 and later versions run in Java 6 or higher runtimes, these algorithms are supported by Ivy too.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_event_a_events_and_triggers"><a id="event"></a>Events and Triggers</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(<strong><em>since 1.4</em></strong>) When Ivy performs the dependency resolution and some other tasks, it fires events before and after the most important steps. You can listen to these events using Ivy API, or you can even register a trigger to perform a particular action when a particular event occur.</p>
</div>
<div class="paragraph">
<p>This is a particularly powerful and flexible feature which allows, for example, you to perform a build of a dependency just before it is resolved, or follow what&#8217;s happening during the dependency resolution process accurately, and so on.</p>
</div>
<div class="paragraph">
<p>For more details about events and triggers, see the <a href="settings/triggers.html">triggers</a> documentation page in the configuration section of this documentation.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_circular_a_circular_dependencies"><a id="circular"></a>Circular Dependencies</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(<strong><em>since 1.4</em></strong>) Circular dependencies can be either direct or indirect. For instance, if A depends on A, it&#8217;s a circular dependency, and if A depends on B which itself depends on A, this is also a circular dependency.</p>
</div>
<div class="paragraph">
<p>Prior to Ivy 1.4 circular dependencies caused a failure in Ivy. As of Ivy 1.4, the behaviour of Ivy when it finds a circular dependency is configurable through a circular dependency strategy.</p>
</div>
<div class="paragraph">
<p>3 built-in strategies are available:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>ignore</code></dt>
<dd>
<p>circular dependencies are only signaled in verbose messages</p>
</dd>
<dt class="hdlist1"><code>warn</code></dt>
<dd>
<p>same as ignore, except that they are signaled as a warning (default)</p>
</dd>
<dt class="hdlist1"><code>error</code></dt>
<dd>
<p>halt the dependency resolution when a circular dependency is found</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>See the <a href="settings/settings.html">configuration page</a> to see how to configure the circular dependency strategy you want to use.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_cache_and_change_management">Cache and Change Management</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Ivy heavily relies on local caching to avoid accessing remote repositories too often, thus saving a lot of network bandwidth and time.</p>
</div>
<div class="sect2">
<h3 id="__a_id_cache_a_cache_types"><a id="cache"></a>Cache types</h3>
<div class="paragraph">
<p>An Ivy cache is composed of two different parts:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">the repository cache</dt>
<dd>
<p>The repository cache is where Ivy stores data downloaded from module repositories, along with some meta information concerning these artifacts, like their original location.
This part of the cache can be shared if you use a well suited <a href="settings/lock-strategies.html">lock strategy</a>.</p>
</dd>
<dt class="hdlist1">the resolution cache</dt>
<dd>
<p>This part of the cache is used to store resolution data, which is used by Ivy to reuse the results of a resolve process.</p>
<div class="paragraph">
<p>This part of the cache is overwritten each time a new resolve is performed, and should never be used by multiple processes at the same time.</p>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>While there is always only one resolution cache, you can <a href="settings/caches.html">define multiple repository caches</a>, each <a href="settings/resolvers.html">resolver</a> being able to use a separate cache.</p>
</div>
</div>
<div class="sect2">
<h3 id="__a_id_change_a_change_management"><a id="change"></a>Change management</h3>
<div class="paragraph">
<p>To optimize the dependency resolution and the way the cache is used, Ivy assumes by default that a revision never changes. So once Ivy has a module in its cache (metadata and artifacts), it trusts the cache and does not even query the repository. This optimization is very useful in most cases, and causes no problem as long as you respect this paradigm: a revision never changes. Besides performance, there are several <a href="bestpractices.html">good reasons</a> to follow this principle.</p>
</div>
<div class="paragraph">
<p>However, depending on your current build system and your dependency management strategy, you may prefer to update your modules sometimes. There are two kinds of changes to consider:</p>
</div>
<div class="sect3">
<h4 id="_changes_in_module_metadata">Changes in module metadata</h4>
<div class="paragraph">
<p>Since pretty often module metadata are not considered by module providers with as much attention as their API or behavior (if they even provide module metadata), it happens more than we would like that we have to update module metadata: a dependency has been forgotten, or another one is missing, &#8230;&#8203;</p>
</div>
<div class="paragraph">
<p>In this case, setting <code>checkModified="true"</code> on your dependency resolver will be the solution. This flag tells Ivy to check if module metadata has been modified compared to the cache. Ivy first checks the metadata last modified timestamp on the repository to download it only if necessary, and then updates it when needed.</p>
</div>
</div>
<div class="sect3">
<h4 id="_changes_in_artifacts">Changes in artifacts</h4>
<div class="paragraph">
<p>Some people, especially those coming from Maven 2 land, like to use one special revision to handle often updated modules. In Maven 2, this is called a SNAPSHOT version, and some argue that it helps save disk space to keep only one version for the high number of intermediary builds you can make whilst developing.</p>
</div>
<div class="paragraph">
<p>Ivy supports this kind of approach with the notion of "changing revision". A changing revision is just that: a revision for which Ivy should consider that the artifacts may change over time. To handle this, you can either specify a dependency as changing on the <a href="ivyfile/dependency.html">dependency</a> tag, or use the <code>changingPattern</code> and <code>changingMatcher</code> attributes on your <a href="settings/resolvers.html">resolvers</a> to indicate which revision or group of revisions should be considered as changing.</p>
</div>
<div class="paragraph">
<p>Once Ivy knows that a revision is changing, it will follow this principle to avoid checking your repository too often: if the module metadata has not changed, it will considered the whole module (including artifacts) as not changed. Even if the module descriptor file has changed, it will check the publication data of the module to see if this is a new publication of the same revision or not. Then if the publication date has changed, it will check the artifacts' last modified timestamps, and download them accordingly.</p>
</div>
<div class="paragraph">
<p>So if you want to use changing revisions, use the <a href="use/publish.html">publish</a> task to publish your modules, it will take care of updating the publication date, and everything will work fine. And remember to set <code>checkModified=true"</code> on your resolver too!</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_paths_a_paths_handling"><a id="paths"></a>Paths handling</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As a dependency manager, Ivy has a lot of file related operations, which most of the time use paths or path patterns to locate the file on the filesystem.</p>
</div>
<div class="paragraph">
<p>These paths can obviously be relative or absolute. We recommend to always use absolute paths, so that you don&#8217;t have to worry about what is the base of your relative paths. Ivy provides some variables which can be used as the base of your absolute paths. For instance, Ivy has a concept of base directory, which is basically the same as for Ant. You have access to this base directory with the ivy.basedir variable. So if you have a path like <code>${ivy.basedir}/ivy.xml</code>, you have an absolute path. In <a href="settings.html">settings files</a>, you also have a variable called <code>ivy.settings.dir</code> which points to the directory in which your settings file is located, which makes defining paths relative to this directory very easy.</p>
</div>
<div class="paragraph">
<p>If you really want to use relative paths, the base directory used to actually locate the file depends on where the relative path is defined:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>In an Ivy file, paths are relative to the Ivy file itself (the only possible path in an Ivy file is for configurations declaration inclusion)</p>
</li>
<li>
<p>In settings files, paths for file inclusion (namely properties file loading and settings inclusion) are relative to the directory in which the settings file is located. All other paths must be absolute unless explicitly noted.</p>
</li>
<li>
<p>In Ivy Ant tasks and Ivy parameters or options, paths are relative to Ivy base directory, which when called from Ant is the same as your Ant basedir.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_packaging_a_packaging"><a id="packaging"></a>Packaging</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Most of the artifacts found in a repository are jars. They can be downloaded and used as is. But some other kind of artifacts required some <em>unpacking</em> after being downloaded and before being used. Such artifacts can be zipped folders and packed jars. Ivy supports that kind of artifact with <strong>packaging</strong>.</p>
</div>
<div class="paragraph">
<p>A <em>packaged</em> artifact needs to be declared as such in the module descriptor via the attribute <a href="ivyfile/artifact.html">packaging</a>. The value of that attribute defined which kind of unpacking algorithm must be used. Here are the list of currently supported algorithms:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>zip</code>, <code>jar</code> or <code>war</code>: the artifact will be uncompressed as a folder</p>
</li>
<li>
<p><code>pack200</code>: the artifact will be unpacked to a file via the <a href="https://docs.oracle.com/javase/7/docs/technotes/tools/share/pack200.html">pack200</a> algorithm</p>
</li>
<li>
<p><code>bundle</code>: the OSGi artifact will be uncompressed as a folder, and every embedded jar file entry which is packed via the the <a href="https://docs.oracle.com/javase/7/docs/technotes/tools/share/pack200.html">pack200</a> algorithm will be unpacked</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>So, if in an <code>ivy.xml</code>, there would be declared a such artifact:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">    &lt;artifact name="mymodule" type="jar" ext="jar.pack.gz" packaging="pack200"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>A file <code>mymodule-1.2.3.jar.pack.gz</code> would be download into the cache, and also uncompressed in the cache to <code>mymodule-1.2.3.jar</code>. Then any post resolve task which supports it, like the <a href="use/cachepath.html">cachepath</a>, will use the uncompressed file instead of the original compressed file.</p>
</div>
<div class="paragraph">
<p>It is possible to chain packing algorithm. The attribute <a href="ivyfile/artifact.html">packaging</a> of a artifact expects a comma separated list of packing types, in packing order. For instance, an artifact <code>mymodule-1.2.3.jar.pack.gz</code> can have the packaging <code>jar,pack200</code>, so it would be uncompressed as a folder <code>mymodule-1.2.3</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_textual_a_text_conventions"><a id="textual"></a>Text Conventions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Very often some concepts discussed in Ivy here, and especially those involving modules and dependencies, require to be discussed by text (e-mail, textual doc, console, &#8230;&#8203;), and so benefit from convention in this area.</p>
</div>
<div class="paragraph">
<p>The conventions have been adopted with Ivy 2.0 are the following:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;"/>
<col style="width: 33.3333%;"/>
<col style="width: 33.3334%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">what</th>
<th class="tableblock halign-left valign-top">pattern</th>
<th class="tableblock halign-left valign-top">example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">a module without revision</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[organisation]</code>#<code>[module]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.apache.ant#ant</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">a module with revision</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[organisation]</code>#<code>[module]</code>;<code>[revision]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.apache.ant#ant;1.7.0</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">a module with (some) configurations</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[organisation]</code>#<code>[module]</code>[<code>[confs]</code>]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.apache.ant#ant[master,compile,build]</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">a module with revision and (some) configurations</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[organisation]</code>#<code>[module]</code>;<code>[revision]</code>[<code>[confs]</code>]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.apache.ant#ant;1.7.0[master,compile,build]</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">a module&#8217;s artifact</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[organisation]</code>#<code>[module]</code>!<code>[artifact]</code>.<code>[ext]</code>(<code>[type]</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.apache.ant#ant!ant.jar(source)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">a module&#8217;s artifact with revision</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[organisation]</code>#<code>[module]</code>;<code>[revision]</code>!<code>[artifact]</code>.<code>[ext]</code>(<code>[type]</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.apache.ant#ant;1.7.0!ant.jar(source)</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Another usual text representation used is to represent dependencies using a dash followed by greater than sign: <code>-&gt;</code></p>
</div>
<div class="paragraph">
<p>To group a set of set of modules, we recommend using curly braces <code>{</code> <code>}</code>.</p>
</div>
<div class="paragraph">
<p>With these conventions, it&#8217;s easy to give a concise and detailed overview of a set of modules and their dependencies.</p>
</div>
<div class="paragraph">
<p>For instance:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>#A;2-&gt; { #B;[1.0,1.5] #C;[2.0,2.5] }
#B;1.4-&gt;#D;1.5
#B;1.5-&gt;#D;2.0
#C;2.5-&gt;#D;[1.0,1.6]</code></pre>
</div>
</div>
<div class="paragraph">
<p>In full words here is how it could be written:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>module A revision 2 depends on module B with the version constraint [1.0,1.5], and on module C with the version constraint [2.0,2.5].
module B revision 1.4 depends on module D revision 1.5.
module B revision 1.5 depends on module D revision 2.0.
module C revision 2.5 depends on module D with the version constraint [1.0,1.6].</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see, using text conventions is much more concise.</p>
</div>
<div class="paragraph">
<p>Another benefit is that these conventions are usually used in Ivy console output, and can also be used in some cases to be parsed into Ivy objects (we use it for test cases, for instance). To make sure text parsing works fine, we recommend using only a limited range of characters for each attributes of your module identifiers.</p>
</div>
<div class="paragraph">
<p>Here is the recommended characters set for each attribute:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>organisation</code></dt>
<dd>
<p><code>a-z</code> <code>A-Z</code> <code>0-9</code> <code>-</code> <code>/</code> <code>.</code> <code>_</code> <code>+</code> <code>=</code></p>
</dd>
<dt class="hdlist1"><code>module</code></dt>
<dd>
<p><code>a-z</code> <code>A-Z</code> <code>0-9</code> <code>-</code> <code>/</code> <code>.</code> <code>_</code> <code>+</code> <code>=</code></p>
</dd>
<dt class="hdlist1"><code>branch</code></dt>
<dd>
<p><code>a-z</code> <code>A-Z</code> <code>0-9</code> <code>-</code> <code>/</code> <code>.</code> <code>_</code> <code>+</code> <code>=</code></p>
</dd>
<dt class="hdlist1"><code>revision</code></dt>
<dd>
<p><code>a-z</code> <code>A-Z</code> <code>0-9</code> <code>-</code> <code>/</code> <code>.</code> <code>_</code> <code>+</code> <code>=</code> <code>,</code> <code>[</code> <code>]</code> <code>{</code> <code>}</code> <code>(</code> <code>)</code> <code>:</code> <code>@</code></p>
</dd>
<dt class="hdlist1"><code>artifact</code></dt>
<dd>
<p><code>a-z</code> <code>A-Z</code> <code>0-9</code> <code>-</code> <code>/</code> <code>.</code> <code>_</code> <code>+</code> <code>=</code></p>
</dd>
<dt class="hdlist1"><code>extension</code></dt>
<dd>
<p><code>a-z</code> <code>A-Z</code> <code>0-9</code> <code>-</code> <code>/</code> <code>.</code> <code>_</code> <code>+</code> <code>=</code></p>
</dd>
<dt class="hdlist1"><code>type</code></dt>
<dd>
<p><code>a-z</code> <code>A-Z</code> <code>0-9</code> <code>-</code> <code>/</code> <code>.</code> <code>_</code> <code>+</code> <code>=</code></p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_principle_a_how_does_it_work"><a id="principle"></a>How does it work ?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Now that you have been introduced to the main Ivy terminology and concepts, it is time to give some explanation of how Ivy works.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_usual_cycle_of_modules_between_different_locations">Usual cycle of modules between different locations</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="images/images/main-tasks.png" alt="main tasks"/>
</div>
</div>
<div class="paragraph">
<p>More details on ant tasks <a href="ant.html">here</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_configure">Configure</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Ivy needs to be configured to be able to resolve your dependencies. This configuration is usually done with a settings file, which defines a set of dependency resolvers. Each resolver is able to find Ivy files and/or artifacts, given simple information such as organisation, module, revision, artifact name, artifact type and artifact extension.</p>
</div>
<div class="paragraph">
<p>The configuration is also responsible for indicating which resolver should be used to resolve which module. This configuration is dependent only on your environment, i.e. where the modules and artifacts can be found.</p>
</div>
<div class="paragraph">
<p>A default configuration is used by Ivy when none is given. This configuration uses an <a href="resolver/ibiblio.html">ibiblio resolver</a> pointing to <a href="https://repo1.maven.org/maven2/" class="bare">https://repo1.maven.org/maven2/</a> to resolve all modules.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resolve">Resolve</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The resolve time is the moment when Ivy actually resolves the dependencies of one module. It first needs to access the Ivy file of the module for which it resolves the dependencies.</p>
</div>
<div class="paragraph">
<p>Then, for each dependency declared in this file, it asks the appropriate resolver (according to settings) to find the module (i.e. either an Ivy file for it, or its artifacts if no Ivy file can be found). It also uses a filesystem based cache to avoid asking for a dependency if it is already in cache (at least if possible, which is not the case with latest revisions).</p>
</div>
<div class="paragraph">
<p>If the resolver is a composite one (i.e. a chain or a dual resolver), several resolvers may actually be called to find the module.</p>
</div>
<div class="paragraph">
<p>When the dependency module has been found, its Ivy file is downloaded to the Ivy cache. Then Ivy checks if the dependency module has dependencies, in which case it recursively traverses the graph of dependencies.</p>
</div>
<div class="paragraph">
<p>All over this traversal, conflict management is done to prevent access to a module as soon as possible.</p>
</div>
<div class="paragraph">
<p>When Ivy has traversed the whole graph, it asks the resolvers to download the artifacts corresponding to each of the dependencies which are not already in the cache and which have not been evicted by conflict managers. All downloads are made to the Ivy cache.</p>
</div>
<div class="paragraph">
<p>Finally, an XML report is generated in the cache, which allows Ivy to easily know what are all the dependencies of a module, without traversing the graph again.</p>
</div>
<div class="paragraph">
<p>After this resolve step, two main steps are possible: either build a path with artifacts in the cache, or copy them to another directory structure.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_retrieve">Retrieve</h2>
<div class="sectionbody">
<div class="paragraph">
<p>What is called retrieve in Ivy is the act of copying artifacts from the cache to another directory structure. This is done using a pattern, which indicates to Ivy where the files should be copied.</p>
</div>
<div class="paragraph">
<p>For this, Ivy uses the XML report in the cache corresponding to the module it should retrieve to know which artifacts should be copied.</p>
</div>
<div class="paragraph">
<p>It also checks if the files are not already copied to maximize performances.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_building_a_path_from_the_cache">Building a path from the cache</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In some cases, it is preferable to use artifacts directly from the cache. Ivy is able to use the XML report generated at resolve time to build a path of all artifacts required.</p>
</div>
<div class="paragraph">
<p>This can be particularly useful when building plug-ins for IDEs.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_reports">Reports</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Ivy is also able to generate readable reports describing the dependencies resolution.</p>
</div>
<div class="paragraph">
<p>This is done with a simple XSL transformation of the XML report generated at resolve time.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_publish_2">Publish</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Finally, Ivy can be used to publish a particular version of a module in your repository, so that it becomes available for future resolving. This task is usually called either manually or from a continuous integration server.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_bestpractices_a_best_practices"><a id="bestpractices"></a>Best practices</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Here are some recommendations and best practices we have gathered throughout our experience and consultancies with our customers.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_add_module_descriptors_for_all_your_modules">Add module descriptors for all your modules</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In Ivy world, module descriptors are Ivy files, which are basically simple XML files describing both what the module produces as artifacts and its dependencies.</p>
</div>
<div class="paragraph">
<p>It is a good practice to write or download module descriptors for all the modules involved in your development, even for your third party dependencies, and even if they don&#8217;t provide such module descriptors themselves.</p>
</div>
<div class="paragraph">
<p>First, it will seem like extra work and require time. But when you have several modules using the same third party library, then you will only need to add one line to your Ivy file to get this library and all its own dependencies that you really need (if you have good module descriptors in your repository, especially with the use of module <a href="concept.html#configurations">configurations</a>). It will also be very helpful when you want to upgrade a dependency. One single change in your module Ivy file and you will get the updated version with its updated (or not) dependencies.</p>
</div>
<div class="paragraph">
<p>Therefore we recommend adding Ivy files for all the modules in your repository. You can even enforce this rule by setting the descriptor attribute to required on your <a href="settings/resolvers.html">resolvers</a>. Hence you shouldn&#8217;t need to use the dependency artifact inclusion/exclusion/specification feature of Ivy, which should only be used in very specific cases.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_use_your_own_enterprise_repository">Use your own enterprise repository</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This is usually not a valid recommendation for open source projects, but for the enterprise world we strongly suggest to avoid relying on a public repository like Maven ibiblio or ivyrep. Why? Well, there are a couple of reasons:</p>
</div>
<div class="sect2">
<h3 id="_control">Control</h3>
<div class="paragraph">
<p>The main problem with these kinds of public repositories is that you don&#8217;t have control over the repository. This means that if a module descriptor is broken you cannot easily fix it. Sure you can use a chain between a shared repository and the public one and put your fixed module descriptor in the shared repository so that it hides the one on the public repository, but this makes repository browsing and maintenance cumbersome.</p>
</div>
<div class="paragraph">
<p>Even more problematic is the possible updates of the repository. We know that versions published in such repositories should be stable and not be updated, but we also frequently see that a module descriptor is buggy, or an artifact corrupted. We even see sometimes a new version published with the same name as the preceding one because the previous one was simply badly packaged. This can occur even to the best; it occurred to us with Ivy 1.2 :-) But then we decided to publish the new version with a different name, 1.2a. But if the repository manager allows such updates, this means that what worked before can break. It can thus break your build reproducibility.</p>
</div>
</div>
<div class="sect2">
<h3 id="_reliability">Reliability</h3>
<div class="paragraph">
<p>The Maven repository is not particularly well known for its reliability (we often experience major slow downs or even complete failures of the site), and ivyrep is only supported by a small company (yes we are only a small company!). So slow down and site hangs occur also. And if the repository you rely on is down, this can cause major slow downs in your development or release process.</p>
</div>
</div>
<div class="sect2">
<h3 id="_accuracy">Accuracy</h3>
<div class="paragraph">
<p>A public repository usually contains much more than what you actually need. Is this a problem? We think so. We think that in an enterprise environment the libraries you use should step through some kind of validation process before being used in every projects of your company. And what better way to do so? Setup an enterprise repository with only the libraries you actually want to use. This will not only ensure better quality for your application dependencies, but help to have the same versions everywhere, and even help when declaring your module dependencies, if you use a tool like IvyDE, the code completion will only show relevant information about your repository, with only the libraries you actually want to see.</p>
</div>
</div>
<div class="sect2">
<h3 id="_security">Security</h3>
<div class="paragraph">
<p>The artifacts you download from a module repository are often executable, and are thus a security concern. Imagine a hacker replacing commons-lang by another version containing a virus? If you rely on a public repository to build your software, you expose it to a security risk. You can read more about that in this <a href="https://www.helpnetsecurity.com/dl/articles/fortify_attacking_the_build.pdf">Forrester article</a>.</p>
</div>
<div class="paragraph">
<p>Note that using an enterprise repository doesn&#8217;t mean you have to build it entirely by hand. Ivy features an <a href="use/install.html">install</a> task which can be used to install modules from one repository to another one, so it can be used to selectively install modules from a public repository to your enterprise repository, where you will then be able to ensure control, reliability and accuracy.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_always_use_patterns_with_at_least_organisation_and_module">Always use patterns with at least organisation and module</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Ivy is very flexible and can accommodate a lot of existing repositories, using the concept of <a href="concept.html#pattern">patterns</a>. But if your repository doesn&#8217;t exist yet, we strongly recommend always using the organisation and the module name in your pattern, even for a private repository where you put only your own modules (which all have the same organisation). Why? Because the Ivy listing feature relies on the token it can find in the pattern. If you have no organisation token in your pattern, Ivy won&#8217;t be able to list the (only?) organisation in your repository. And this can be a problem for code completion in IvyDE, for example, but also for repository wide tasks like <a href="use/install.html">install</a> or <a href="use/repreport.html">repreport</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_public_ivysettings_xml_with_public_repositories">Public ivysettings.xml with public repositories</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you create a public repository, provide a URL to the <a href="settings.html">ivysettings.xml</a> file. It&#8217;s pretty easy to do, and if someone wants to leverage your repository, (s)he will just have to load it with <a href="use/settings.html">settings</a> with the URL of your ivysettings.xml file, or <a href="settings/include.html">include</a> it in its own settings file, which makes it really easy to combine several public repositories.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_dealing_with_integration_versions">Dealing with integration versions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Very often, especially when working in a team or with several modules, you will need to rely on intermediate, non-finalized versions of your modules. These versions are what we call integration versions, because their main objective is to be integrated with other modules to make and test an application or a framework.</p>
</div>
<div class="paragraph">
<p>If you follow the continuous integration paradigm across modules, these integration versions can be produced by a continuous integration server, very frequently.</p>
</div>
<div class="paragraph">
<p>So, how can you deal with these, possibly numerous, integration versions?</p>
</div>
<div class="paragraph">
<p>There are basically two ways to deal with them, both ways being supported by Ivy:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">use a naming convention like a special suffix</dt>
<dd>
<p>the idea is pretty simple, each time you publish a new integration of your module you give the same name to the version (in Maven world this is for example 1.0-SNAPSHOT). The dependency manager should then be aware that this version is special because it changes over time, so that it does not trust its local cache if it already has the version, but checks the date of the version on the repository and sees if it has changed. In Ivy this is supported using the <a href="ivyfile/dependency.html">changing attribute</a> on a dependency or by configuring the <a href="settings/resolvers.html">changing pattern</a> to use for all your modules.</p>
</dd>
<dt class="hdlist1">automatically create a new version for each</dt>
<dd>
<p>in this case you use either a build number or a timestamp to publish each new integration version with a new version name. Then you can use one of the numerous ways in Ivy to <a href="ivyfile/dependency.html">express a version constraint</a>. Usually selecting the very latest one (using 'latest.integration' as version constraint) is enough.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>So, which way is the best? As often, it depends on your context, and if one of the two was really bad it wouldn&#8217;t be supported in Ivy :-)</p>
</div>
<div class="paragraph">
<p>But usually we recommend using the second one, because using a new version each time you publish a new version better fits the version identity paradigm, and can make <strong>all</strong> your builds reproducible, even integration ones. And this is interesting because it enables, with some work in your build system, the ability to introduce a mechanism to promote an integration build to a more stable status, like a milestone or a release.</p>
</div>
<div class="paragraph">
<p>Imagine you have a customer who comes on a Monday morning and asks for the latest version of your software, for testing or demonstration purposes. Obviously he needs it for the afternoon :-) Now if you have a continuous integration process and good tracking of your changes and your artifacts, it may occur to you that you are actually able to fulfill his request without needing the use of a DeLorean to give you some more time :-) But it may also occur to you that your latest version is stable enough to be used for the purpose of the customer, but was actually built a few days ago, because the very latest just broke a feature or introduced a new one you don&#8217;t want to deliver. You can deliver this 'stable' integration build if you want, but rest assured that a few days, or weeks, or even months later, the customer will ask for a bug fix on this demo only version. Why? Because it&#8217;s a customer, and we all know how they are :-)</p>
</div>
<div class="paragraph">
<p>So, with a build promotion feature of any build in your repository, the solution would be pretty easy: when the customer asks for the version, you not only deliver the integration build, but you also promote it to a milestone status, for example. This promotion indicates that you should keep track of this version for a long period, to be able to come back to it and create a branch if needed.</p>
</div>
<div class="paragraph">
<p>Unfortunately Ivy does not by its own allow you to have such reproducible builds out of the box, simply because Ivy is a dependency manager, not a build tool. But if you publish only versions with a distinct name and use Ivy features like versions constraint replacement during the publication or recursive delivery of modules, it can really help.</p>
</div>
<div class="paragraph">
<p>On the other hand, the main drawback of this solution is that it can produce a lot of intermediate versions, and  you will have to run some cleaning scripts in your repository unless your company name starts with a G and ends with oogle :-)</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_inlining_dependencies_or_not">Inlining dependencies or not?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>With Ivy 1.4 you can resolve a dependency without even writing an Ivy file. This practice is called inlining. But what is it good for, and when should it be avoided?</p>
</div>
<div class="paragraph">
<p>Putting Ivy dependencies in a separate file has the following advantages:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">separate revision cycle</dt>
<dd>
<p>if your dependencies may change more often than your build, it&#8217;s a good idea to separate the two, to isolate the two concepts: describing how to build / describing your project dependencies</p>
</dd>
<dt class="hdlist1">possibility to publish</dt>
<dd>
<p>if you describe dependencies of a module which can itself be reused, you may want to use ant to publish it to a repository. In this case the publication is only possible if you have a separate Ivy file</p>
</dd>
<dt class="hdlist1">more flexible</dt>
<dd>
<p>inline dependencies can only be used to express one dependency and only one. An Ivy file can be used to express much more complex dependencies</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>On the other hand, using inline dependencies is very useful when:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">you want to use a custom task in your ant build</dt>
<dd>
<p>Without Ivy you usually either copy the custom task jar in ant lib, which requires maintenance of your workstation installation, or use a manual copy or download and a taskdef with the appropriate classpath, which is better. But if you have several custom tasks, or if they have themselves dependencies, it can become cumbersome. Using Ivy with an inline dependency is an elegant way to solve this problem.</p>
</dd>
<dt class="hdlist1">you want to easily deploy an application</dt>
<dd>
<p>If you already build your application and its modules using Ivy, it is really easy to leverage your Ivy repository to download your application and all its dependencies on the local filesystem, ready to be executed. If you also put your settings files as artifacts in your repository (maybe packaged as a zip), the whole installation process can rely on Ivy, easing the automatic installation of <strong>any</strong> version of your application available in your repository!</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_hire_an_expert">Hire an expert</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Build and dependency management is often given too low a priority in the software development world. We often see build management implemented by developers when they have time. Even if this may seem like a time and money savings in the short term, it often turns out to be a very bad choice in the long term. Building software is not a simple task, when you want to ensure automatic, tested, fully reproducible builds, releases and installations. On the other hand, once a good build system fitting your very specific needs is setup, it can then only rely on a few people with a good understanding of what is going on, with a constant quality ensured.</p>
</div>
<div class="paragraph">
<p>Therefore hiring a build and dependency expert to analyse and improve your build and release system is most of the time a very good choice.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_feedback">Feedback</h2>
<div class="sectionbody">
<div class="paragraph">
<p>These best practices reflect our own experience, but we do not pretend to own the unique truth about dependency management or even Ivy use.</p>
</div>
<div class="paragraph">
<p>So feel free to comment on this page to add your own experience feedback, suggestions or opinion.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_compatibility_a_compatibility"><a id="compatibility"></a>Compatibility</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_jvm_compatibility">JVM compatibility</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Up to Ivy 2.3.x, a minimum of Java 1.4 is required.</p>
</div>
<div class="paragraph">
<p>For Ivy 2.4.0, a minimum of Java 5 is required.</p>
</div>
<div class="paragraph">
<p>Since Ivy 2.5.0, a minimum of Java 7 is required.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_apache_ant">Apache Ant</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Ivy doesn&#8217;t require a specific version of Ant as long as the Ant being used complies with the JVM compatibility requirements noted above.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_other_optional_dependencies">Other optional dependencies</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The required versions of the Apache HttpClient, Jsch or any optional dependency are to be checked against Ivy&#8217;s dependency descriptor. In Ivy&#8217;s source, check for the <code>ivy.xml</code> file at the root. Or the <code>pom.xml</code> of <code>org.apache.ivy#ivy</code> in the Maven Central repository.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_environment_configuration_requirements">Environment / Configuration Requirements</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Ivy does not at this time support multithreaded use. It thus should not be used with the Ant <code>&lt;parallel&gt;</code> task.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_install_a_installation"><a id="install"></a>Installation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are basically two ways to install Ivy: either manually or automatically.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_manually">Manually</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Download the version you want here, unpack the downloaded zip file wherever you want, and copy the Ivy jar file into your Ant lib directory (<code>ANT_HOME/lib</code>).</p>
</div>
<div class="paragraph">
<p>If you use Ant 1.6.0 or superior, you can then simply go to the <code>src/example/hello-ivy</code> dir and run Ant: if the build is successful, you have successfully installed Ivy!</p>
</div>
<div class="paragraph">
<p>If you use Ant 1.5.1 or superior, you have to modify the build files in the examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>remove the namespace section at their head: <code>xmlns:ivy="antlib:org.apache.ivy.ant"</code></p>
</li>
<li>
<p>add taskdefs for Ivy tasks:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">  &lt;taskdef name="ivy-configure" classname="org.apache.ivy.ant.IvyConfigure"/&gt;
  &lt;taskdef name="ivy-resolve" classname="org.apache.ivy.ant.IvyResolve"/&gt;
  &lt;taskdef name="ivy-retrieve" classname="org.apache.ivy.ant.IvyRetrieve"/&gt;
  &lt;taskdef name="ivy-publish" classname="org.apache.ivy.ant.IvyPublish"/&gt;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>replace ivy:xxx tasks by ivy-xxx
You can now run the build, if it is successful, you have successfully installed Ivy!</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the build is not successful, check the FAQ to see what might be the problem with the ivyrep resolver.</p>
</div>
<div class="sect2">
<h3 id="_ivy_dependencies">Ivy dependencies</h3>
<div class="paragraph">
<p>One of the two binary versions of Ivy doesn&#8217;t include the optional dependencies. To download them using Ivy, all you need is to run the Ant build file provided in the distribution. This will use Ivy itself to download the dependencies. Then you should see the Ivy optional dependencies in the lib directory, organized per configuration (see the ivy.xml for details about the configurations and their use).</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_automatically">Automatically</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you want to use Ivy only in your Ant build scripts, and have an internet connection when you build, you can download Ivy from this site and use the downloaded version automatically, using this simple build snippet:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;project xmlns:ivy="antlib:org.apache.ivy.ant"&gt;
    &lt;property name="ivy.install.version" value="2.1.0-rc2"/&gt;
    &lt;condition property="ivy.home" value="${env.IVY_HOME}"&gt;
      &lt;isset property="env.IVY_HOME"/&gt;
    &lt;/condition&gt;
    &lt;property name="ivy.home" value="${user.home}/.ant"/&gt;
    &lt;property name="ivy.jar.dir" value="${ivy.home}/lib"/&gt;
    &lt;property name="ivy.jar.file" value="${ivy.jar.dir}/ivy.jar"/&gt;

    &lt;target name="download-ivy" unless="offline"&gt;

        &lt;mkdir dir="${ivy.jar.dir}"/&gt;
        &lt;!-- download Ivy from web site so that it can be used even without any special installation --&gt;
        &lt;get src="https://repo1.maven.org/maven2/org/apache/ivy/ivy/${ivy.install.version}/ivy-${ivy.install.version}.jar"
             dest="${ivy.jar.file}" usetimestamp="true"/&gt;
    &lt;/target&gt;

    &lt;target name="init-ivy" depends="download-ivy"&gt;
      &lt;!-- try to load Ivy here from Ivy home, in case the user has not already dropped
              it into Ant's lib dir (note that the latter copy will always take precedence).
              We will not fail as long as local lib dir exists (it may be empty) and
              Ivy is in at least one of Ant's lib dir or the local lib dir. --&gt;
        &lt;path id="ivy.lib.path"&gt;
            &lt;fileset dir="${ivy.jar.dir}" includes="*.jar"/&gt;

        &lt;/path&gt;
        &lt;taskdef resource="org/apache/ivy/ant/antlib.xml"
                 uri="antlib:org.apache.ivy.ant" classpathref="ivy.lib.path"/&gt;
    &lt;/target&gt;
&lt;/project&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then the only thing to do is to add the init-ivy target in the depends attribute of your targets using Ivy, and add the ivy namespace to your build script. See the self contained <a href="https://gitbox.apache.org/repos/asf?p=ant-ivy.git;a=blob;f=src/example/go-ivy/build.xml">go-ivy</a> example for details about this.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_settings_a_settings_files"><a id="settings"></a>Settings Files</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_ivy_settings_2" class="sect0">Ivy Settings</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p>In order to work as you want, Ivy sometimes needs some settings. Actually, Ivy can work with no specific settings at all, see the <a href="tutorial/defaultconf.html">default settings documentation</a> for details about that. But Ivy is able to work in very different contexts. You just have to configure it properly.</p>
</div>
<div class="paragraph">
<p>Settings are specified through an XML file, usually called <code>ivysettings.xml</code>. To configure Ivy from Ant, you just have to use the <a href="use/settings.html">settings</a> datatype with the path of your settings file.</p>
</div>
<div class="paragraph">
<p>Here is an example of the settings file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivysettings&gt;
        &lt;properties file="${ivy.settings.dir}/ivysettings-file.properties"/&gt;
        &lt;settings defaultResolver="ibiblio"/&gt;
        &lt;caches  defaultCacheDir="${cache.dir}" checkUpToDate="false"/&gt;
        &lt;resolvers&gt;
                &lt;ibiblio name="ibiblio"/&gt;
                &lt;filesystem name="internal"&gt;
                        &lt;ivy pattern="${repository.dir}/[module]/ivy-[revision].xml"/&gt;
                        &lt;artifact pattern="${repository.dir}/[module]/[artifact]-[revision].[ext]"/&gt;
                &lt;/filesystem&gt;
        &lt;/resolvers&gt;
        &lt;modules&gt;
                &lt;module organisation="jayasoft" name=".*" resolver="internal"/&gt;
        &lt;/modules&gt;
&lt;/ivysettings&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><em>Note: To work, this settings file needs a property file named ivysettings-file.properties in the same directory as the settings file, with Ivy variables you want in it.</em></p>
</div>
<div class="paragraph">
<p>Mainly, the settings enable you to configure the default cache directory used by Ivy and the dependency resolvers that it will use to resolve dependencies.</p>
</div>
<div class="paragraph">
<p>Some useful variables are available for use in settings files:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>ivy.settings.dir<br/>
this variable references the directory in which the settings file itself is. This is available if the settings has been loaded as a file. In case of a URL, it takes the part before the last slash of the URL, if any. If the URL has no slash, then this variable is not set.</p>
</li>
<li>
<p>ivy.settings.file<br/>
the path of the settings file itself if it has been loaded as a file only. If it has been loaded as a URL, this variable is not set.</p>
</li>
<li>
<p>ivy.settings.url<br/>
the URL pointing to the settings file. This is set both when it has been loaded as a file or a URL.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>(<strong><em>since 1.4</em></strong>) Note that all <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/System.html#getProperties()">Java system properties</a> are available as Ivy variables in your settings file.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_settings_file_structure">Settings file structure</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The settings file is structured in some parts and left open in others. In fact, each resolver has its own structure, thus it&#8217;s not the settings file itself which defines the structure for the resolvers.</p>
</div>
<div class="paragraph">
<p><strong>ivysettings</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="settings/property.html">property</a></p>
</li>
<li>
<p><a href="settings/properties.html">properties</a></p>
</li>
<li>
<p><a href="settings/settings.html">settings</a></p>
</li>
<li>
<p><a href="settings/include.html">include</a></p>
</li>
<li>
<p><a href="settings/classpath.html">classpath</a></p>
</li>
<li>
<p><a href="settings/typedef.html">typedef</a></p>
</li>
<li>
<p><a href="settings/credentials.html">credentials</a></p>
</li>
<li>
<p><a href="settings/signers.html">signers</a></p>
</li>
<li>
<p><a href="settings/lock-strategies.html">lock-strategies</a></p>
</li>
<li>
<p><a href="settings/caches.html">caches</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="settings/caches/cache.html">cache</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="settings/latest-strategies.html">latest-strategies</a></p>
</li>
<li>
<p><a href="settings/parsers.html">parsers</a></p>
</li>
<li>
<p><a href="settings/namespaces.html">namespaces</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="settings/namespace.html">namespace</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="settings/namespace/rule.html">rule</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="settings/namespace/fromtosystem.html">fromsystem</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="settings/namespace/src.html">src</a></p>
</li>
<li>
<p><a href="settings/namespace/dest.html">dest</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="settings/namespace/fromtosystem.html">tosystem</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="settings/namespace/src.html">src</a></p>
</li>
<li>
<p><a href="settings/namespace/dest.html">dest</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><a href="settings/macrodef.html">macrodef</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="settings/macrodef/attribute.html">attribute</a></p>
</li>
<li>
<p>any resolver</p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="settings/resolvers.html">resolvers</a></p>
<div class="ulist">
<ul>
<li>
<p>any resolver</p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="settings/conflict-managers.html">conflict-managers</a></p>
</li>
<li>
<p><a href="settings/modules.html">modules</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="settings/module.html">module</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="settings/outputters.html">outputters</a></p>
</li>
<li>
<p><a href="settings/statuses.html">statuses</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="settings/status.html">status</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="settings/triggers.html">triggers</a></p>
</li>
<li>
<p><a href="settings/version-matchers.html">version-matchers</a></p>
</li>
<li>
<p><a href="settings/timeout-constraints.html">timeout-constraints</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="settings/timeout-constraint.html">timeout-constraint</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ivysettings">ivysettings</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Tag:</strong> ivysettings</p>
</div>
<div class="paragraph">
<p>Root tag of any Ivy settings file.</p>
</div>
<div class="sect2">
<h3 id="_child_elements">Child elements</h3>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;"/>
<col style="width: 33.3333%;"/>
<col style="width: 33.3334%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Cardinality</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="settings/property.html">property</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">set an Ivy variable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="settings/properties.html">properties</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">loads a properties file as Ivy variables</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="settings/settings.html">settings</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">configures Ivy with some defaults</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="settings/include.html">include</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">includes another settings file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="settings/classpath.html">classpath</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">add a location in the classpath used to load plugins</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="settings/typedef.html">typedef</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">defines new types in Ivy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="settings/lock-strategies.html">lock-strategies</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">defines lock strategies</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="settings/caches.html">caches</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">defines repository cache managers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="settings/latest-strategies.html">latest-strategies</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">defines latest strategies</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="settings/parsers.html">parsers</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">defines module descriptor parsers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="settings/namespaces.html">namespaces</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">defines new namespaces</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="settings/macrodef.html">macrodef</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">defines a new macro resolver</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="settings/resolvers.html">resolvers</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">defines dependency resolvers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="settings/conflict-managers.html">conflict-managers</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">defines conflict managers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="settings/modules.html">modules</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">defines rules between modules and dependency resolvers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="settings/outputters.html">outputters</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">defines the list of available report outputters</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="settings/statuses.html">statuses</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">defines the list of available statuses</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="settings/triggers.html">triggers</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">register triggers on Ivy events</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="settings/version-matchers.html">version-matchers</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">defines new version matchers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="settings/timeout-constraints.html">timeout-constraints</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">defines the list of available timeout-constraints</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_settings_property_a_property"><a id="settings_property"></a>property</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_property" class="sect0">property</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p><strong>Tag:</strong> property</p>
</div>
<div class="paragraph">
<p><span class="ivysettings.property">Defines an Ivy variable.</span></p>
</div>
<div class="paragraph">
<p>(<strong><em>since 1.3</em></strong>) The optional override attribute enables you to avoid overriding the previous value of the variable, which makes the definition to behave like an Ant property, which is particularly useful to define default values (values which are used only if they haven&#8217;t been defined yet).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the variable to define</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the new value the variable must take</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true if the previous value (if any) of the variable should overridden, false otherwise</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ifset</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the variable will be set only if the provided 'ifset' variable is already set (<strong><em>since 2.4</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">unlessset</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the variable will not be set unless the provided 'unlessset' variable is set (<strong><em>since 2.4</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_examples">Examples</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;property name="myvar" value="myvalue"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Sets the variable myvar to the value myvalue.</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;property name="myvar" value="myvalue" override="false"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Sets the variable myvar to the value myvalue only if myvar has not been set yet.</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml"> &lt;properties environment="env"/&gt;
 &lt;property name="ivy.repos.server" value="${env.IVY_SERVER}" override="false" ifset="env.IVY_SERVER"/&gt;
 &lt;property name="ivy.repos.server" value="http://ivy:8081" override="false"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>If the environment variable is set, it takes precedence over of default value.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_settings_properties_a_properties"><a id="settings_properties"></a>properties</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_properties_2" class="sect0">properties</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p><strong>Tag:</strong> properties</p>
</div>
<div class="paragraph">
<p><span class="ivysettings.properties">Loads a properties file into Ivy variables.</span> See the variables chapter above for details about Ivy variables.</p>
</div>
<div class="paragraph">
<p>(<strong><em>since 2.0</em></strong>) It is possible to access environment variables. This can be done by specifying the environment attribute. This attribute specifies the prefix which can be used to access these environment variables. For instance, if you specify <code>environment="env"</code>, you can access the <code>PATH</code> environment variable with the <code>env.PATH</code> property name.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_2">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a path to a properties file to load</p></td>
<td class="tableblock halign-left valign-top" rowspan="2"><p class="tableblock">One of these</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">environment</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the prefix to use when retrieving environment variables (<strong><em>since 2.0</em></strong>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">indicates if the variable found in the properties file should override its previous value, if any (<strong><em>since 1.3</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to true</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_settings_settings_a_settings"><a id="settings_settings"></a>settings</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_settings_3" class="sect0">settings</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p><strong>Tag:</strong> settings</p>
</div>
<div class="paragraph">
<p><span class="ivysettings.settings">Configures some important Ivy behaviour: default resolver, latest strategy, conflict manager and some others.</span></p>
</div>
<div class="paragraph">
<p>The default resolver is used whenever nothing else is configured in the modules section of the settings file. It should give the name of a dependency resolver defined in the <a href="../settings/resolvers.html">resolvers</a> section of the settings file.</p>
</div>
<div class="paragraph">
<p>The default latest strategy and conflict manager can also be configured here.</p>
</div>
<div class="paragraph">
<p><em>validate</em> indicates if Ivy files should generally be validated against the Ivy XSD or not. This setting is only a default value, and can be overridden:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>in Ant tasks</p>
</li>
<li>
<p>in resolvers</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>So if there is a setting in the resolver, it always wins against all other settings.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_3">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">defaultResolver</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the default resolver to use</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, but all modules should be configured in the modules section if not provided</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">defaultLatestStrategy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the default latest strategy to use</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to latest-revision</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">defaultConflictManager</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the default conflict manager to use</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to latest-revision</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">defaultBranch</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the default branch to use for all modules, except if they have a <a href="../settings/module.html">module specific branch setting</a>. (<strong><em>since 1.4</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to no default branch</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">defaultResolveMode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the default <a href="../use/resolve.html">resolve mode</a> to use for all modules, except if they have a <a href="../settings/module.html">module specific resolve mode setting</a>. (<strong><em>since 2.0</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to 'default'</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="circularDependencyStrategy"></a>circularDependencyStrategy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the <a href="../concept.html#circular">circular dependency strategy</a> to use (<strong><em>since 1.4</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to warn</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">validate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indicates if Ivy files should be validated against ivy.xsd or not.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">useRemoteConfig</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true to configure ivyrep and ibiblio resolver from a remote settings file (updated with changes in those repository structure if any) (<strong><em>since 1.2</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">httpRequestMethod</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">specifies the HTTP method to use to retrieve information about an URL. Possible values are 'GET' and 'HEAD'. This setting can be used to solve problems with firewalls and proxies. (<strong><em>since 2.0</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to 'HEAD'</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="line-through">defaultCache</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a path to a directory to use as default basedir for both resolution and repository cache(s).<br/>
<em>Deprecated, we recommend using defaultCacheDir on the <a href="../settings/caches.html">caches</a> tag instead</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to .ivy2/cache in user home</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="line-through">checkUpToDate</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indicates if date should be checked before retrieving artifacts from cache.<br/>
<em>Deprecated, we recommend using overwriteMode on the <a href="../use/retrieve.html">retrieve</a> task instead</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="line-through">cacheIvyPattern</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a pattern to indicate where Ivy files should be put in cache.<br/>
<em>Deprecated, we recommend using ivyPattern on the <a href="../settings/caches.html">caches</a> tag instead</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to [organisation]/[module]/ivy-[revision].xml</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="line-through">cacheArtifactPattern</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a pattern to indicate where artifact files should be put in cache.<br/>
<em>Deprecated, we recommend using artifactPattern on the <a href="../settings/caches.html">caches</a> tag instead</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to [organisation]/[module]/[type]s/[artifact]-[revision].[ext]</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_settings_include_a_include"><a id="settings_include"></a>include</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_include" class="sect0">include</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p><strong>Tag:</strong> include</p>
</div>
<div class="paragraph">
<p>[<strong><em>since 1.3</em></strong>]</p>
</div>
<div class="paragraph">
<p><span class="ivysettings.include">Includes another Ivy settings file as if it were part of this one.</span></p>
</div>
<div class="paragraph">
<p>The included Ivy settings file has to be a complete well formed Ivy settings file, i.e. it does have to include the <code>&lt;ivysettings&gt;</code> tag.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_4">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">url</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a URL to the Ivy settings file to include</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes, unless file is specified</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a path to the Ivy settings file to include</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes, unless url is specified</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">optional</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">indicates whether Ivy should throw an error if the specified file doesn&#8217;t exist (<strong><em>since 2.4</em></strong>).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, default to false</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_examples_2">Examples</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivysettings&gt;
  &lt;property name="myrepository" value="path/to/my/real/rep"/&gt;
  &lt;settings defaultResolver="default"/&gt;
  &lt;include file="path/to/ivysettings-default.xml"/&gt;
&lt;/ivysettings&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>with ivysettings-default.xml:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivysettings&gt;
  &lt;property name="myrepository" value="path/to/rep" overwrite="false"/&gt;
  &lt;resolvers&gt;
    &lt;ivyrep name="default" ivyroot="${myrepository}"/&gt;
  &lt;/resolvers&gt;
&lt;/ivysettings&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The included Ivy settings defines a resolver named default, which is an ivyrep resolver, with its root configured as being the value of myrepository variable. This variable is given the value <code>path/to/rep</code> in the included file, but because the attribute overwrite is set to false, it will not override the value given in the main Ivy settings including this one, so the value used for myrepository will be <code>path/to/my/real/rep</code>.</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivysettings&gt;
  &lt;include file="ivysettings-macro.xml"/&gt;
  &lt;resolvers&gt;
    &lt;mymacro name="includeworks" mymainrep="included/myrep" mysecondrep="included/secondrep"/&gt;
  &lt;/resolvers&gt;
&lt;/ivysettings&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>with ivysettings-macro.xml being the Ivy settings example given on the <a href="../settings/macrodef.html">macrodef documentation page</a>.
This lets us easily reuse the custom macro resolver.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_settings_classpath_a_classpath"><a id="settings_classpath"></a>classpath</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_classpath" class="sect0">classpath</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p><strong>Tag:</strong> classpath</p>
</div>
<div class="paragraph">
<p>[<strong><em>since 1.4</em></strong>]</p>
</div>
<div class="paragraph">
<p><span class="ivysettings.classpath">Includes a jar in the classpath used to load plugins.</span></p>
</div>
<div class="paragraph">
<p>This lets you add Ivy plugins without relying on an external classpath (the Ant classpath, for instance), therefore easing the use of Ivy in multiple execution environments (Ant, standalone, IDE plugins, &#8230;&#8203;).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_5">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">url</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the URL of a jar to add to the classpath</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes, unless file is specified</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a jar to add to the classpath</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes, unless url is specified</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_examples_3">Examples</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivysettings&gt;
  &lt;classpath file="${ivy.settings.dir}/custom-resolver.jar"/&gt;
  &lt;typedef name="custom" classname="org.apache.ivy.resolver.CustomResolver"/&gt;
  &lt;resolvers&gt;
    &lt;custom name="custom"/&gt;
  &lt;/resolvers&gt;
&lt;/ivysettings&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Adds the custom-resolver.jar (found in the same directory as the ivysettings.xml file) to the classpath, then defines a custom resolver and uses it.</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivysettings&gt;
  &lt;classpath url="http://www.myserver.com/ivy/custom-resolver.jar"/&gt;
  &lt;typedef name="custom" classname="org.apache.ivy.resolver.CustomResolver"/&gt;
  &lt;resolvers&gt;
    &lt;custom name="custom"/&gt;
  &lt;/resolvers&gt;
&lt;/ivysettings&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Same as above, but finds the jar on a web server.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_settings_typedef_a_typedef"><a id="settings_typedef"></a>typedef</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_typedef" class="sect0">typedef</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p><strong>Tag:</strong> typedef</p>
</div>
<div class="paragraph">
<p><span class="ivysettings.typedef">Defines a new type in Ivy. Useful to define new dependency resolvers, in particular, but also latest strategies.</span>
See <a href="../extend.html">how to write and plug your own dependency resolver</a> for details.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_6">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the type to define. This name is then used as an xml tag.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">classname</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the fully qualified class name of the type to define.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_settings_credentials_a_credentials"><a id="settings_credentials"></a>credentials</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_credentials" class="sect0">credentials</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p><strong>Tag:</strong> credentials</p>
</div>
<div class="paragraph">
<p>[<strong><em>since 2.0</em></strong>]</p>
</div>
<div class="paragraph">
<p><span class="ivysettings.credentials">Configures HTTP authentication credentials.</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_7">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">host</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the host</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">realm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the realm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">username</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the username</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">passwd</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the password</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_settings_signers_a_signers"><a id="settings_signers"></a>signers</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_signers" class="sect0">signers</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p><strong>Tag:</strong> signers</p>
</div>
<div class="paragraph">
<p>[<strong><em>since 2.2</em></strong>]</p>
</div>
<div class="paragraph">
<p><span class="ivysettings.signers">Defines a list of detached signature generators usable in Ivy. Each generator is identified by its name, given as an attribute.</span>
The child tags used to configure the signature generator must be equal to the name of a signature generator type (either built-in or added with the typedef tag).</p>
</div>
<div class="paragraph">
<p>Ivy supports the following signature generator out of the box:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>pgp<br/>
generates an OpenPGP compatible ASCII armored detached signature.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_child_elements_2">Child elements</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;"/>
<col style="width: 33.3333%;"/>
<col style="width: 33.3334%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Cardinality</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">any signature generator</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">adds a signature generator to the list of registered generators</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1..n</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_built_in_generators">Built-in Generators</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_pgp">PGP</h3>
<div class="paragraph">
<p>This generator is capable of generating an OpenPGP compatible ASCII armored detached signature.</p>
</div>
<div class="paragraph">
<p><strong>Remark:</strong> This generator uses the <a href="http://www.bouncycastle.org/java.html">BouncyCastle OpenPGP</a> library. Before this generator can be used, the library and its JCE provider library must be available on Ivy&#8217;s classpath.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the signature generator.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">secring</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The location of the secret keyring.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>${user.home}/.gnupg/secring.gpg</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">keyId</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The identifier of the key to use. The keyword <code>auto</code> can be used to indicate a key will be selected automatically.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>auto</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">password</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The password of the private key.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_examples_4">Examples</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;signers&gt;
    &lt;pgp name="mypgp" password="my-password"/&gt;
&lt;/signers&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Defines a detached signature generator with name 'mypgp' which uses the secret key ring on the default location and automatically selects a private key.</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;signers&gt;
    &lt;pgp name="mypgp" password="my-password" keyId="123ABC45"/&gt;
&lt;/signers&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Same as before, but this time the key <code>123ABC45</code> is used to generate the detached signature.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_settings_lock_strategies_a_lock_strategies"><a id="settings_lock-strategies"></a>lock-strategies</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_lock_strategies" class="sect0">Lock Strategies</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p><strong>Tag:</strong> lock-strategies</p>
</div>
<div class="paragraph">
<p>[<strong><em>since 2.0</em></strong>]</p>
</div>
<div class="paragraph">
<p><span class="ivysettings.lock-strategies">Defines a list of lock strategies usable in Ivy.</span></p>
</div>
<div class="paragraph">
<p>A lock strategy is used by a cache manager to decide when and how locking should be performed (see <a href="../settings/cache">caches</a> to see how to configure the lock strategy to use).</p>
</div>
<div class="paragraph">
<p>The following strategies are registered by default:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>no-lock</strong><br/>
This lock strategy actually performs no locking at all, and thus should not be used in an environment where the cache is shared by multiple processes.</p>
</li>
<li>
<p><strong>artifact-lock</strong><br/>
 This strategy acquires a lock whenever a module descriptor or an artifact is downloaded to the cache, which makes a good solution when you want to share your repository cache.
Note that this strategy is based on file locking, performed by default using the <code>java.io.File.createNewFile()</code> atomicity (which is documented as atomic in the javadoc, but not recommended to perform locks).</p>
</li>
<li>
<p><strong>artifact-lock-nio</strong> (<strong><em>since 2.4</em></strong>)<br/>
Like the <code>artifact-lock</code> strategy, this one also acquires a lock whenever a module descriptor or artifact is downloaded to the cache. But here the implementation is done with a <code>java.nio.FileLock</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The child tag used for the lock strategy must be equal to a name of a lock strategy type (added with the <code>typedef</code> tag).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_child_elements_3">Child elements</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;"/>
<col style="width: 33.3333%;"/>
<col style="width: 33.3334%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Cardinality</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">any lock strategy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">adds a lock strategy to the list of available ones</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_settings_caches_a_caches"><a id="settings_caches"></a>caches</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_caches" class="sect0">caches</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p><strong>Tag:</strong> caches</p>
</div>
<div class="paragraph">
<p>[<strong><em>since 2.0</em></strong>]</p>
</div>
<div class="paragraph">
<p><span class="ivysettings.caches">Configures the Ivy cache system.</span></p>
</div>
<div class="paragraph">
<p>See <a href="../concept.html#cache">cache concept</a> for details on the Ivy cache concept.</p>
</div>
<div class="paragraph">
<p>By default, Ivy defines one repository cache instance, called <code>default-cache</code>, which uses the default cache settings defined using attributes on this tag. This default instance is defined as long as you don&#8217;t define your own default cache using the <code>default</code> attribute, and have at least one dependency resolver which doesn&#8217;t specify which cache instance to use.</p>
</div>
<div class="paragraph">
<p><code>defaultCacheDir</code> is the default directory used for both the resolution and repository cache(s). It usually points to a directory in your filesystem. If you want to isolate resolution cache from repository cache, we recommend setting both the <code>resolutionCacheDir</code> and <code>repositoryCacheDir</code> attributes on this tag instead of using <code>defaultCacheDir</code>.</p>
</div>
<div class="paragraph">
<p>Since repository cache implementations are pluggable, you can either define new cache instances based on the default implementation provided in Ivy using the <a href="../settings/caches/cache.html">cache</a> child element, or use custom cache implementations using child elements as you have defined using <a href="../settings/typedef.html">typedef</a>.</p>
</div>
<div class="paragraph">
<p><code>ivyPattern</code> and <code>artifactPattern</code> are used to configure the default way Ivy stores Ivy files and artifacts in repository cache(s). Usually you do not have to change this, unless you want to use the cache directly from another tool, which is not recommended. These patterns are relative to the repository cache base directory.</p>
</div>
<div class="paragraph">
<p><code>checkUpToDate</code> indicates to Ivy if it must check date of artifacts before retrieving them (i.e. copying them from cache to another place in your filesystem). Usually it is a good thing to check date to avoid unnecessary copy, even if it&#8217;s most of the time a local copy.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_8">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">default</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the default cache to use on all resolvers not defining the cache instance to use</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to a default cache manager instance named 'default-cache'</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">defaultCacheDir</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a path to a directory to use as default basedir for both resolution and repository cache(s)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to .ivy2/cache in the user&#8217;s home directory</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">resolutionCacheDir</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the path of the directory to use for all resolution cache data</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to defaultCacheDir</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">repositoryCacheDir</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the path of the default directory to use for repository cache data. <strong>This should not point to a directory used as a repository!</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to defaultCacheDir</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ivyPattern</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">default pattern used to indicate where Ivy files should be put in the repository cache(s)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to [organisation]/[module]/ivy-[revision].xml</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">artifactPattern</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">default pattern used to indicate where artifact files should be put in the repository cache(s)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to [organisation]/[module]/[type]s/[artifact]-[revision].[ext]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="line-through">checkUpToDate</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Deprecated, we recommend using overwriteMode on the <a href="../use/retrieve.html">retrieve</a> task instead.</em> Indicates if date should be checked before retrieving artifacts from cache.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">useOrigin</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the default value to use for useOrigin for caches in which it isn&#8217;t specifically defined. Use true to avoid the copy of local artifacts to the cache and use directly their original location.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">lockStrategy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the default <a href="../settings/lock-strategies.html">lock strategy</a> to use when accessing repository cache(s)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <em>no-lock</em></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_child_elements_4">Child elements</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;"/>
<col style="width: 33.3333%;"/>
<col style="width: 33.3334%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Cardinality</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="caches/cache.html">cache</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">defines a new repository cache instance, based on the default repository cache implementation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_examples_5">Examples</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;caches&gt;
  &lt;cache name="mycache" basedir="path/to/my/cache/1"/&gt;
  &lt;cache name="mycache2" basedir="path/to/my/cache/2"/&gt;
&lt;/caches&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Define 2 cache instances, named mycache and mycache2, using two different directories as base directory, and using the default patterns and lock strategies. The default cache instance will still be defined as long as at least one dependency resolver does not declare which cache manager to use.</p>
</div>
<hr/>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_settings_caches_cache_a_cache"><a id="settings_caches_cache"></a>cache</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_cache" class="sect0">cache</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p><strong>Tag:</strong> cache</p>
</div>
<div class="paragraph">
<p>[<strong><em>since 2.0</em></strong>]</p>
</div>
<div class="paragraph">
<p><span class="ivysettings.caches.cache">Defines a repository cache instance based on the default repository cache implementation.</span></p>
</div>
<div class="paragraph">
<p>The default repository cache implementation caches files on the local filesystem in subdirectories of a configured base directory.</p>
</div>
<div class="paragraph">
<p>By default also, the parsed module descriptors read from the cache are kept in a memory cache in case they are reused. This may enhance the performance of multi-module build, provided that all modules are built using the same Ivy instance. The size of this memory cache is configurable in terms of number of module descriptors. A size of 0 means no memory caching.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_9">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">name of the cache instance</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">basedir</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the path of the base directory to use to put repository cache data. <strong>This should not point to a directory used as a repository!</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to repositoryCacheDir defined in <a href="../../settings/caches.html">caches</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ivyPattern</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the pattern to use to store cached Ivy files</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to default cache Ivy pattern as configured in <a href="../../settings/caches.html">caches</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">artifactPattern</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the pattern to use to store cached artifacts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to default cache artifact pattern as configured in <a href="../../settings/caches.html">caches</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">useOrigin</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true to avoid the copy of local artifacts to the cache and use directly their original location, false otherwise.
To know if an artifact is local, Ivy asks the resolver. Only filesystem resolver is considered local by default, but this can be disabled if you want to force the copy on one filesystem resolver and use the original location on another. Note that it is safe to use useOrigin even if you use the cache for some non local resolvers. In this case the cache will behave as usual, copying files to the cache. Note also that this only applies to artifacts, not to Ivy files, which are still copied in the cache.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. defaults to the default value configured in <a href="../../settings/caches.html">caches</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">lockStrategy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the <a href="../../settings/lock-strategies.html">lock strategy</a> to use for this cache</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to default lock strategy as configured in <a href="../../settings/caches.html">caches</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">defaultTTL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the default <a href="../../settings/caches/ttl.html">TTL</a> to use when no specific one is defined</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to ${ivy.cache.ttl.default}</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">memorySize</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the number of parsed module descriptors to keep in a memory cache.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, default to 150</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_child_elements_5">Child elements</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;"/>
<col style="width: 33.3333%;"/>
<col style="width: 33.3334%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Cardinality</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../../settings/caches/ttl.html">ttl</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">defines a TTL rule</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_examples_6">Examples</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;cache name="mycache"
       basedir="/path/to/mycache"
       ivyPattern="[module]/ivy-[revision].xml"
       artifactPattern="[module]/[artifact]-[revision].[ext]"
       lockStrategy="no-lock"
       defaultTTL="1s"&gt;
    &lt;ttl revision="latest.integration" duration="200ms"/&gt;
    &lt;ttl organisation="org1" duration="10m 20s"/&gt;
    &lt;ttl organisation="org2" duration="5h"/&gt;
    &lt;ttl organisation="org3" duration="2d 12h"/&gt;
&lt;/cache&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Defines a cache called <code>mycache</code>, storing files in the <code>/path/to/mycache</code> directory using <code>[module]/ivy-[revision].xml</code> as a pattern to store Ivy files and <code>[module]/[artifact]-[revision].[ext]</code> as a pattern to store other artifacts. The lock strategy used by this cache is the <code>no-lock</code> strategy, which does not perform any locking. The defaultTTL used is 1 s, meaning that by default dynamic revision result will be stored and used for one second. TTL rules then define that all <code>latest.integration</code> revisions will be stored and used for 200 ms, while other dynamic revisions from <code>org1</code> <code>org2</code> and <code>org3</code> modules will be stored respectively for 10 minutes 20 seconds; 5 hours; and 2 days and 12 hours.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_settings_caches_ttl_a_ttl"><a id="settings_caches_ttl"></a>ttl</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_ttl" class="sect0">ttl</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p><strong>Tag:</strong> ttl</p>
</div>
<div class="paragraph">
<p>[<strong><em>since 2.0</em></strong>]</p>
</div>
<div class="paragraph">
<p><span class="ivysettings.caches.cache.TTL">Defines a TTL (Time To Live) rule for resolved revision caching.</span></p>
</div>
<div class="paragraph">
<p>When Ivy resolves a dynamic version constraint (like <code>latest.integration</code> or a version range), it can store the result of the resolution (like <code>latest.integration=1.5.1</code>) for a given time, called TTL. It means that Ivy will reuse this dynamic revision resolution result without accessing the repositories for the duration of the TTL, unless running <a href="../../use/resolve.html">resolve</a> in refresh mode.</p>
</div>
<div class="paragraph">
<p>This tag lets you define a rule to define a TTL specific to a set of dynamic revision, based on the whole module revision information (organization, module name, revision, &#8230;&#8203;). The revision considered in the rule is the revision before the resolution (for instance, <code>latest.integration</code>) and not the resolved revision (for instance, <code>1.5.1</code>).</p>
</div>
<div class="paragraph">
<p>The rules are evaluated in order, the first matching rule being used to define the TTL. If no rule matches, the cache defaultTTL will be used.</p>
</div>
<div class="paragraph">
<p>The format used to specify the TTL is of the form:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>XXd XXh XXm XXs XXXms</code></pre>
</div>
</div>
<div class="paragraph">
<p>Where 'd' stands for days, 'h' for hours, 'm' for minutes, 's' for seconds and 'ms' for milliseconds. Any part of the specification can be omitted, so '12d', '2h 5m' and '1d 5ms' are all valid.</p>
</div>
<div class="paragraph">
<p>The TTL duration can also be set to <code>eternal</code>, in which case once resolved the revision is always use, except when resolving in refresh mode.</p>
</div>
<div class="paragraph">
<p>Using a 0ms TTL disable resolved revision caching for the given rule.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_10">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">organisation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the organisation to match to apply the rule.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to *</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the module&#8217;s name to match to apply the rule.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to *</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">revision</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the module&#8217;s revision to match to apply the rule. Note that the version is not resolved when evaluating the rule ('latest.integration', for instance).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to *</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>any extra attribute</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">an extra attribute to match to apply the rule.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to *</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">matcher</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the <a href="../../concept.html#matcher">matcher</a> to use to match the modules to which the resolver should be applied</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to exact</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">duration</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the TTL to apply (see above for format)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_settings_latest_strategies_a_latest_strategies"><a id="settings_latest-strategies"></a>latest-strategies</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_latest_strategies" class="sect0">Latest strategies</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p><strong>Tag:</strong> latest-strategies</p>
</div>
<div class="paragraph">
<p><span class="ivysettings.latest-strategies">Defines a list of <a href="../concept.html#latest">latest strategies</a> usable in Ivy.</span> Each latest strategy is identified by its name, given as an attribute.</p>
</div>
<div class="paragraph">
<p>The child tag used for the latest strategy must be equal to a name of a latest strategy type (usually added with the <code>typedef</code> tag).</p>
</div>
<div class="paragraph">
<p>The latest strategies which are included in Ivy by default are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>latest-time<br/>
compares the revision dates to know which is the latest. While this is often a good strategy in terms of pertinence, its drawback is that it can be slow when dealing with remote repositories. If you use ivyrep, for example, Ivy has to ask the HTTP server for the date of each Ivy file before knowing which is the latest.</p>
</li>
<li>
<p>latest-revision<br/>
 compares the revisions as strings, using an algorithm close to the one used in PHP <code>version_compare</code> function.
This algorithm takes into account the special meaning of some text. For instance, with this strategy, <code>1.0-dev1</code> is considered before <code>1.0-alpha1</code>, which in turn is before <code>1.0-rc1</code>, which is before <code>1.0</code>, which is before <code>1.0.1</code>.</p>
</li>
<li>
<p>latest-lexico<br/>
compares the revisions as strings using lexicographic order (the one used by Java string comparison).</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_child_elements_6">Child elements</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;"/>
<col style="width: 33.3333%;"/>
<col style="width: 33.3334%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Cardinality</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">any latest strategy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">adds a latest strategy to the list of available strategies</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_latest_revision">latest-revision</h2>
<div class="sectionbody">
<div class="paragraph">
<p>[<strong><em>since 1.4</em></strong>]</p>
</div>
<div class="paragraph">
<p>The latest-revision can now be configured to handle more words with special meanings than the one defined in PHP <code>version_compare</code> function.</p>
</div>
<div class="paragraph">
<p>Here is an example of how you can do so:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;latest-strategies&gt;
  &lt;latest-revision name="mylatest-revision"&gt;
    &lt;specialMeaning name="PRE" value="-2"/&gt;
    &lt;specialMeaning name="QA" value="4"/&gt;
    &lt;specialMeaning name="PROD" value="5"/&gt;
  &lt;/latest-revision&gt;
&lt;/latest-strategies&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Knowing that the default "special meaning" words are the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">    &lt;specialMeaning name="dev" value="-1"/&gt;
    &lt;specialMeaning name="rc" value="1"/&gt;
    &lt;specialMeaning name="final" value="2"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can even remove or redefine the default special meanings by setting <code>usedefaultspecialmeanings="false"</code> on the <code>latest-revision</code> tag.
Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;latest-strategies&gt;
  &lt;latest-revision name="mylatest-revision" usedefaultspecialmeanings="false"&gt;
    &lt;specialMeaning name="pre" value="-2"/&gt;
    &lt;specialMeaning name="m" value="1"/&gt;
    &lt;specialMeaning name="rc" value="2"/&gt;
    &lt;specialMeaning name="prod" value="3"/&gt;
  &lt;/latest-revision&gt;
&lt;/latest-strategies&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_settings_parsers_a_parsers"><a id="settings_parsers"></a>parsers</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_parsers" class="sect0">parsers</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p><strong>Tag:</strong> parsers</p>
</div>
<div class="paragraph">
<p><span class="ivysettings.parsers">Defines a list of module descriptor parsers usable in Ivy. Each parser defines which resources (which descriptor file) it accepts.</span>
The child tag used for the parser must be equal to a name of a parser type (added with the <code>typedef</code> tag).</p>
</div>
<div class="paragraph">
<p>Note that when looking for a parser, Ivy queries the parsers list in the reverse order. So the last parser in the list will be queried first. Consequently, if the last parser accepts all resources, the other parsers will <em>never</em> have a chance to parse the resource.</p>
</div>
<div class="paragraph">
<p>Two parsers are available by default and thus do not need to be declared in this section:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Ivy file parser<br/>
this is the parser used for Ivy XML files. This parser is used for resources that aren&#8217;t accepted by any other parser.</p>
</li>
<li>
<p>POM parser<br/>
this parser is able to parse Maven 2 POM XML files</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_child_elements_7">Child elements</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;"/>
<col style="width: 33.3333%;"/>
<col style="width: 33.3334%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Cardinality</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">any module descriptor parser</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">adds a module descriptor parser to the list of available parsers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_settings_namespaces_a_namespaces"><a id="settings_namespaces"></a>namespaces</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_namespaces" class="sect0">namespaces</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p><strong>Tag:</strong> namespaces</p>
</div>
<div class="paragraph">
<p><span class="ivysettings.namespaces">Namespaces are an advanced feature of Ivy which let you use resolvers in which module names and organisations are not consistent between each other.</span></p>
</div>
<div class="paragraph">
<p>For instance, if you want to use both a Maven 2 repository and an ivyrep, you will face some naming issues. For example, all Apache Commons projects are declared to be part of the organisation <em>apache</em> in ivyrep whereas in Maven 2 ibiblio repository, their organisation is same as the module.</p>
</div>
<div class="paragraph">
<p>So if you try to use both Maven 2 and ivyrep repositories, you will face some issues like:</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>How do I declare a dependency on commons-lang?
I have an error while trying to resolve module xxx. It says that it depends on [commons-httpclient commons-httpclient] and that it isn&#8217;t available.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Ivy&#8217;s answer to this issue is called namespaces. In short, you can attach a namespace to each dependency resolver in Ivy, and each namespace defines rules to convert names from the system namespace to the defined namespace itself, and vice versa.</p>
</div>
<div class="paragraph">
<p>This very powerful feature is thoroughly used in the <a href="../tutorial/build-repository/advanced.html">build your own repository tutorial</a>, so is the best place to see an example of what can be done with namespaces.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_child_elements_8">Child elements</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;"/>
<col style="width: 33.3333%;"/>
<col style="width: 33.3334%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Cardinality</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../settings/namespace.html">namespace</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">defines a new namespace</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_settings_namespace_a_namespace"><a id="settings_namespace"></a>namespace</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Tag:</strong> namespace</p>
</div>
<div class="paragraph">
<p><span class="ivysettings.namespaces.namespace">Defines a new namespace. A namespace is identified by a name, which can be referenced by one of the <a href="../settings/resolvers.html">resolvers</a>.</span></p>
</div>
<div class="paragraph">
<p>An overview of namespaces is given in the <a href="../settings/namespaces.html">namespaces</a> documentation.</p>
</div>
<div class="paragraph">
<p>A namespace mainly consists of a list of rules, each rule defining a translation between a system namespace and the defined namespace, and vice versa.</p>
</div>
<div class="paragraph">
<p>There are two main possibilities for using these rules. By default, a namespace iterates through the rules, and when it finds one that translates the given name, it returns the translated name. But the namespace can be configured to use the list as a translator chain: in this case, all rules are applied in order, the result of the first rule translation being passed to the second, and so on.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_11">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the namespace name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">chainrules</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true to indicate that namespaces rules should be chained, false otherwise</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to false</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_child_elements_9">Child elements</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;"/>
<col style="width: 33.3333%;"/>
<col style="width: 33.3334%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Cardinality</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../settings/namespace/rule.html">rule</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">defines a new namespace rule</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_example">Example</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;namespace name="test"&gt;
  &lt;rule&gt;
    &lt;fromsystem&gt;
      &lt;src org="systemorg"/&gt;
      &lt;dest org="A"/&gt;
    &lt;/fromsystem&gt;
    &lt;tosystem&gt;
      &lt;src org="A"/&gt;
      &lt;dest org="systemorg"/&gt;
    &lt;/tosystem&gt;
  &lt;/rule&gt;
&lt;/namespace&gt;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;namespace name="test"&gt;
  &lt;rule&gt;
    &lt;fromsystem&gt;
      &lt;src org="systemorg2" module="system\-(.+)"/&gt;
      &lt;dest org="B" module="$m1"/&gt;
    &lt;/fromsystem&gt;
    &lt;tosystem&gt;
      &lt;src org="B" module=".+"/&gt;
      &lt;dest org="systemorg2" module="system-$m0"/&gt;
    &lt;/tosystem&gt;
  &lt;/rule&gt;
&lt;/namespace&gt;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;namespace name="test" chainrules="true"&gt;
  &lt;rule&gt;
    &lt;fromsystem&gt;
      &lt;src org="systemorg"/&gt;
      &lt;dest org="A"/&gt;
    &lt;/fromsystem&gt;
    &lt;tosystem&gt;
      &lt;src org="A"/&gt;
      &lt;dest org="systemorg"/&gt;
    &lt;/tosystem&gt;
  &lt;/rule&gt;
  &lt;rule&gt;
    &lt;fromsystem&gt;
      &lt;src module="systemmod"/&gt;
      &lt;dest module="A"/&gt;
    &lt;/fromsystem&gt;
    &lt;tosystem&gt;
      &lt;src module="A"/&gt;
      &lt;dest module="systemmod"/&gt;
    &lt;/tosystem&gt;
  &lt;/rule&gt;
  &lt;rule&gt;
    &lt;fromsystem&gt;
      &lt;src module="systemmod2"/&gt;
      &lt;dest module="B"/&gt;
    &lt;/fromsystem&gt;
    &lt;tosystem&gt;
      &lt;src module="B"/&gt;
      &lt;dest module="systemmod2"/&gt;
    &lt;/tosystem&gt;
  &lt;/rule&gt;
&lt;/namespace&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_settings_namespace_rule_a_rule"><a id="settings_namespace_rule"></a>rule</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_rule" class="sect0">rule</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p><strong>Tag:</strong> rule</p>
</div>
<div class="paragraph">
<p><span class="ivysettings.namespaces.namespace.rule">Defines a new namespace rule.</span> A rule defines a translation between system namespace and the defined namespace, and vice versa.</p>
</div>
<div class="paragraph">
<p>See the <a href="../../settings/namespace.html">namespace</a> doc for details.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_child_elements_10">Child elements</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;"/>
<col style="width: 33.3333%;"/>
<col style="width: 33.3334%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Cardinality</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../../settings/namespace/fromtosystem.html">fromsystem</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">defines the translation to apply from the system namespace to the defined namespace</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../../settings/namespace/fromtosystem.html">tosystem</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">defines the translation to apply from the defined namespace to the system namespace</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_settings_namespace_fromtosystem_a_fromsystem_tosystem"><a id="settings_namespace_fromtosystem"></a>fromsystem / tosystem</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_fromsystem_tosystem" class="sect0">fromsystem / tosystem</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p><strong>Tag:</strong> fromsystem / tosystem</p>
</div>
<div class="paragraph">
<p><span class="ivysettings.namespaces.namespace.fromsystem">Defines a one way translation rule, i.e. a translation from system namespace to the defined namespace or vice versa.</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_child_elements_11">Child elements</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;"/>
<col style="width: 33.3333%;"/>
<col style="width: 33.3334%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Cardinality</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../../settings/namespace/src.html">src</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">defines a source name which can be accepted</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1..n</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../../settings/namespace/dest.html">dest</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">defines the translation to apply when a name is accepted by an src pattern</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_settings_namespace_src_a_src"><a id="settings_namespace_src"></a>src</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_src" class="sect0">src</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p><strong>Tag:</strong> src</p>
</div>
<div class="paragraph">
<p><span class="ivysettings.namespaces.namespace.rule.fromsystem.src">Defines the matching part of a translation rule.</span> If a name matches this src, it will be translated using the dest part.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_12">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">org</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the organisation to match as a regexp</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to .*</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the module name to match as a regexp</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to .*</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">rev</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the revision to match as a regexp</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to .*</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_settings_namespace_dest_a_dest"><a id="settings_namespace_dest"></a>dest</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_dest" class="sect0">dest</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p><strong>Tag:</strong> dest</p>
</div>
<div class="paragraph">
<p><span class="ivysettings.namespaces.namespace.rule.fromsystem.dest">Defines the translation part of a translation rule. If a name has matched a corresponding src, it will be translated using this dest part.</span></p>
</div>
<div class="paragraph">
<p>The new names can contain references to groups of the matched name, using a slightly modified regexp syntax. In fact, referenced groups can be part of either the organisation, module or revision part of the original name. So, to reference the groups, you just have to add a letter identifying the part in which the group should be selected: o for organisation, m for module, and r for revision.</p>
</div>
<div class="paragraph">
<p>For instance, <code>$o0</code> matches the whole matched organisation, and <code>$m0</code> the whole matched module name. <code>$o1</code> matches the first group of the matched organisation.</p>
</div>
<div class="paragraph">
<p>For details about regexp and groups, see the <a href="https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html">Pattern class documentation</a> in the JDK.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_13">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">org</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the new organisation name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to $o0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the new module name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to $m0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">rev</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the new revision</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to $r0</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_examples_7">Examples</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">    &lt;fromsystem&gt;
      &lt;src org="systemorg2" module="system\-(.+)"/&gt;
      &lt;dest org="B" module="$m1"/&gt;
    &lt;/fromsystem&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Matches modules from <code>systemorg2</code> which have a name beginning with <code>system</code> followed by a <code>minus</code> and anything else, and translate it to organisation <code>B</code> and module the part following <code>system-</code> of the original name.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_settings_macrodef_a_macrodef"><a id="settings_macrodef"></a>macrodef</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_macrodef" class="sect0">macrodef</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p><strong>Tag:</strong> macrodef</p>
</div>
<div class="paragraph">
<p>[<strong><em>since 1.3</em></strong>]</p>
</div>
<div class="paragraph">
<p><span class="ivysettings.macrodef">Defines a new dependency resolver type based upon another.</span> This definition is very similar to the macrodef feature of Ant for defining macro tasks.</p>
</div>
<div class="paragraph">
<p>This task eases the process of creating a new dependency resolver, because it avoids writing Java code.</p>
</div>
<div class="paragraph">
<p>It is generally used in combination with the <a href="../settings/include.html">include</a> feature to help reuse a macro in multiple settings files.</p>
</div>
<div class="paragraph">
<p>A macro is defined by declaring an existing resolver within it. Then you can use attributes to pass parameters to the newly defined resolver type. Attributes are defined with a name, and optionally a default value, and are used using the following syntax:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>@{attributename}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resolver_names">Resolver names</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Since you can use the same macro several times it can define several resolvers (in a chain, for instance), the resolver names need to be chosen carefully to avoid name conflicts (each resolver must have a unique name).</p>
</div>
<div class="paragraph">
<p>Here is how Ivy deals with the names of the resolvers defined in a macro:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>if there is no name attribute on a resolver in the macrodef, then Ivy will use the name given when using the macro. This is what usually should be done for the main resolver defined in the macro</p>
</li>
<li>
<p>if there is a name attribute on a resolver in the macrodef, but this name doesn&#8217;t contain a <code>@{name}</code> inside, then Ivy will use the provided name prefixed with the name of the macro separated by a dash</p>
</li>
<li>
<p>if there is a name attribute on a resolver in the macrodef, and this name contains <code>@{name}</code> somewhere, then Ivy will use this name, and replace <code>@{name}</code> with the name provided when using the macro.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivysettings&gt;
  &lt;macrodef name="mymacro"&gt;
    &lt;chain&gt;
      &lt;ibiblio name="ex1"/&gt;
      &lt;ibiblio name="ex2.@{name}" m2compatible="true"/&gt;
    &lt;/chain&gt;
  &lt;/macrodef&gt;

  &lt;resolvers&gt;
    &lt;mymacro name="default"/&gt;
    &lt;mymacro name="other"/&gt;
   &lt;/resolvers&gt;
&lt;/ivysettings&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This is equivalent to:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivysettings&gt;
  &lt;resolvers&gt;
    &lt;chain name="default"&gt;
      &lt;ibiblio name="default-ex1"/&gt;
      &lt;ibiblio name="ex2.default" m2compatible="true"/&gt;
    &lt;/chain&gt;
    &lt;chain name="other"&gt;
      &lt;ibiblio name="other-ex1"/&gt;
      &lt;ibiblio name="ex2.other" m2compatible="true"/&gt;
    &lt;/chain&gt;
   &lt;/resolvers&gt;
&lt;/ivysettings&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_14">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">name of the resolver type created</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_child_elements_12">Child elements</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;"/>
<col style="width: 33.3333%;"/>
<col style="width: 33.3334%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Cardinality</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../settings/macrodef/attribute.html">attribute</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">defines an attribute for the macro resolver</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">any resolver</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">defines the base resolver upon which this macro is defined</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_examples_8">Examples</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Defining a simple macro:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">  &lt;macrodef name="mymacro"&gt;
    &lt;attribute name="mymainrep"/&gt;
      &lt;filesystem name="fs1"&gt;
        &lt;ivy pattern="@{mymainrep}/[organisation]/[module]/[type]s/[artifact]-[revision].[ext]"/&gt;
        &lt;artifact pattern="@{mymainrep}/[organisation]/[module]/[type]s/[artifact]-[revision].[ext]"/&gt;
      &lt;/filesystem&gt;
  &lt;/macrodef&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Using it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">  &lt;resolvers&gt;
    &lt;mymacro name="default" mymainrep="path/to/myrep"/&gt;
  &lt;/resolvers&gt;</code></pre>
</div>
</div>
<hr/>
<div class="paragraph">
<p>A complete example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivysettings&gt;
  &lt;macrodef name="mymacro"&gt;
    &lt;attribute name="mymainrep"/&gt;
    &lt;attribute name="mysecondrep"/&gt;
    &lt;attribute name="myseconddirlayout" default="[organisation]/[module]/[type]s"/&gt;
    &lt;chain&gt;
      &lt;filesystem name="fs1"&gt;
        &lt;ivy pattern="@{mymainrep}/[organisation]/[module]/[type]s/[artifact]-[revision].[ext]"/&gt;
        &lt;artifact pattern="@{mymainrep}/[organisation]/[module]/[type]s/[artifact]-[revision].[ext]"/&gt;
      &lt;/filesystem&gt;
      &lt;filesystem name="fs2" latest="latest-time"&gt;
        &lt;ivy pattern="@{mysecondrep}/@{myseconddirlayout}/ivy-[revision].xml"/&gt;
        &lt;artifact pattern="@{mysecondrep}/@{myseconddirlayout}/[artifact]-[revision].[ext]"/&gt;
      &lt;/filesystem&gt;
    &lt;/chain&gt;
  &lt;/macrodef&gt;

  &lt;resolvers&gt;
    &lt;mymacro name="default" mymainrep="path/to/myrep" mysecondrep="path/to/secondrep"/&gt;
    &lt;mymacro name="other"
       mymainrep="path/to/myrep"
       mysecondrep="path/to/secondrep"
       myseconddirlayout="[module]/[type]s"/&gt;
   &lt;/resolvers&gt;
&lt;/ivysettings&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_settings_macrodef_attribute_a_attribute"><a id="settings_macrodef_attribute"></a>attribute</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_attribute" class="sect0">attribute</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p><strong>Tag:</strong> attribute</p>
</div>
<div class="paragraph">
<p><span class="ivysettings.macrodef.attribute">Defines a macrodef attribute.</span> See <a href="../macrodef.html">macrodef</a> for details.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_15">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">default</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the default value of the attribute if none is specified</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, by default attribute are required</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_settings_resolvers_a_resolvers"><a id="settings_resolvers"></a>resolvers</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_resolvers_2" class="sect0">resolvers</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p><strong>Tag:</strong> resolvers</p>
</div>
<div class="paragraph">
<p><span class="ivysettings.resolvers">Defines a list of dependency resolvers usable in Ivy.</span> Each dependency resolver is identified by its name, given as an attribute.</p>
</div>
<div class="paragraph">
<p>The child tag used for the dependency resolver must be equal to a name of a dependency resolver type (either built-in or added with the typedef tag).</p>
</div>
<div class="paragraph">
<p>(<strong><em>since 1.3</em></strong>) Once defined, resolvers can be referenced by their name, using the following syntax:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;resolver ref="alreadydefinedresolver"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that this works only if the resolver has already been defined and <strong>NOT</strong> if it is defined later in the Ivy settings file.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_child_elements_13">Child elements</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;"/>
<col style="width: 33.3333%;"/>
<col style="width: 33.3334%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Cardinality</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">any resolver</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">adds a resolver to the list of available resolvers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1..n</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_built_in_resolvers">Built-in Resolvers</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Ivy comes with a set of built-in dependency resolvers that handle most common needs.</p>
</div>
<div class="paragraph">
<p>If you don&#8217;t find the one you want here, you can also check if someone has contributed it on the links page, or even <a href="../extend.html">write your own</a>.</p>
</div>
<div class="paragraph">
<p>There are basically two types of resolvers in Ivy - composite and standard. A composite resolver is a resolver which delegates the work to other resolvers. The other resolvers are standard resolvers.</p>
</div>
<div class="paragraph">
<p>Here is the list of built-in resolvers:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../resolver/ivyrep.html">IvyRep</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Standard</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Finds Ivy files on ivyrep and artifacts on ibiblio.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../resolver/ibiblio.html">IBiblio</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Standard</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Finds artifacts on ibiblio.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../resolver/bintray.html">BinTray</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Standard</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Finds artifacts on bintray.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../resolver/packager.html">Packager</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Standard</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Finds Ivy files and packaging instructions via URLs, then creates artifacts by following the instructions.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../resolver/filesystem.html">FileSystem</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Standard</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This very performant resolver finds Ivy files and artifacts in your file system.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../resolver/url.html">URL</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Standard</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Finds Ivy files and artifacts in any repository accessible with URLs.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../resolver/url.html">MirroredURL</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Standard</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Finds Ivy files and artifacts in any repository accessible with URLs from a mirror list.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../resolver/vfs.html">VFS</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Standard</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Finds Ivy files and artifacts in any repository accessible with <a href="https://commons.apache.org/proper/commons-vfs/">Apache Commons VFS</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../resolver/ssh.html">SSH</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Standard</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Finds Ivy files and artifacts in any repository accessible with SSH.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../resolver/sftp.html">SFTP</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Standard</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Finds Ivy files and artifacts in any repository accessible with SFTP.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../resolver/jar.html">Jar</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Standard</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Finds Ivy files and artifacts within a specified jar.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../resolver/chain.html">Chain</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Composite</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Delegates the finding to a chain of sub resolvers.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../resolver/dual.html">Dual</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Composite</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Delegates the finding of Ivy files to one resolver and of artifacts to another.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../resolver/obr.html">OBR</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Standard</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resolve modules as OSGi bundles listed by an OSGi obr.xml.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../resolver/updatesite.html">Eclipse updatesite</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Standard</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resolve modules as OSGi bundles which are hosted on an Eclipse update site.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../resolver/osgiagg.html">OSGi-agg</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Composite</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Delegates the finding to a chain of sub resolvers supporting OSGi bundles.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_common_a_common_features_and_attributes"><a id="common"></a>Common features and attributes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>All resolvers of the same type share some common features and attributes detailed here.</p>
</div>
<div class="sect2">
<h3 id="_features">Features</h3>
<div class="sect3">
<h4 id="_validation">validation</h4>
<div class="paragraph">
<p>All standard resolvers support several options for validation.</p>
</div>
<div class="paragraph">
<p>The <code>validate</code> attribute is used to configure if Ivy files should be checked against the Ivy file XML schema.</p>
</div>
<div class="paragraph">
<p>The <code>checkconsistency</code> attribute allows you to enable or disable consistency checking between what is expected by Ivy when it finds a module descriptor, and what the module descriptor actually contains.</p>
</div>
<div class="paragraph">
<p>The <code>descriptor</code> attribute lets you define if module descriptors are mandatory or optional.</p>
</div>
<div class="paragraph">
<p>The <code>checksums</code> attribute is used to define the list of checksums files to use to check if the content of downloaded files has not been corrupted (eg during transfer).</p>
</div>
</div>
<div class="sect3">
<h4 id="_force">force</h4>
<div class="paragraph">
<p>Any standard resolver can be used in <code>force</code> mode, which is used mainly to handle local development builds. In force mode, the resolver attempts to find a dependency whatever the requested revision is (internally it replace the requested revision by <code>latest.integration</code>), and if it finds one, it forces this revision to be returned, even when used in a chain with <code>returnFirst=false</code>.</p>
</div>
<div class="paragraph">
<p>By using such a resolver at the beginning of a chain, you can be sure that Ivy will pick up whatever module is available in this resolver (usually a private local build) instead of the real requested revision. This allows to handle use case like a developer working on modules <code>A</code> and <code>C</code>, where <code>A &#8594; B &#8594; C</code>, and pick up the local build for <code>C</code> without having to publish a local version of <code>B</code>. (<strong><em>since 2.0</em></strong>)</p>
</div>
</div>
<div class="sect3">
<h4 id="_timeoutconstraint">timeoutConstraint</h4>
<div class="paragraph">
<p>[<strong><em>since 2.5</em></strong>]</p>
</div>
<div class="paragraph">
<p>All standard resolvers support the <code>timeoutConstraint</code> attribute. The value for this attribute is the name of the <a href="timeout-constraint.html">timeout-constraint</a> that&#8217;s been defined in the Ivy settings.</p>
</div>
<div class="paragraph">
<p>Resolvers can be optionally configured to use a <code>timeoutConstraint</code> so that the timeouts defined on that constraint dictate how the resolvers behave when it comes to dealing with timeouts while establishing connections and reading content, during module descriptor and artifact resolutions.</p>
</div>
</div>
<div class="sect3">
<h4 id="_maven">Maven</h4>
<div class="paragraph">
<p>Any resolver which is able to parse a Maven pom.xml file has to detect the related sources or javadocs artifacts. This often involves several network connections even if neither the sources nor the javadoc are requested to be downloaded.</p>
</div>
<div class="paragraph">
<p>(<strong><em>since 2.5</em></strong>) Setting the property <code>ivy.maven.lookup.sources</code> to <code>false</code> disables the lookup of the sources artifact.
And setting the property <code>ivy.maven.lookup.javadoc</code> to <code>false</code> disables the lookup of the javadoc artifact.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_attributes_16">Attributes</h3>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 14.8514%;"/>
<col style="width: 49.5049%;"/>
<col style="width: 11.8811%;"/>
<col style="width: 11.8811%;"/>
<col style="width: 11.8815%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Composite</th>
<th class="tableblock halign-left valign-top">Standard</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name which identifies the resolver</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">validate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">indicates if resolved Ivy files should be validated against Ivy XSD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to call setting</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">force</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indicates if this resolver should be used in force mode (see above). (<strong><em>since 2.0</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">checkmodified</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indicates if this resolver should check lastmodified date to know if an Ivy file is up to date.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to ${ivy.resolver.default.check.modified}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">changingPattern</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indicates for which revision pattern this resolver should check lastmodified date to know if an artifact file is up to date (<strong><em>since 1.4</em></strong>). See <a href="../concept.html#change">cache and change management</a> for details.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">changingMatcher</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the <a href="../concept.html#matcher">pattern matcher</a> to use to match a revision against the configured changingPattern (<strong><em>since 1.4</em></strong>). See <a href="../concept.html#change">cache and change management</a> for details.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to exactOrRegexp</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">alwaysCheckExactRevision</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indicates if this resolver should check the given revision even if it&#8217;s a special one (like latest.integration) (<strong><em>since 1.3</em></strong>).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to ${ivy.default.always.check.exact.revision}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">namespace</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the namespace to which this resolver belongs (<strong><em>since 1.3</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to 'system'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">checkconsistency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true to check consistency of module descriptors found by this resolver, false to avoid consistency check (<strong><em>since 1.3</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">descriptor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">'optional' if a module descriptor (usually an Ivy file) is optional for this resolver, 'required' to refuse modules without module descriptor (<strong><em>since 2.0</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to 'optional'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No (except dual)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="line-through">allownomd</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Deprecated, we recommend using descriptor="required | optional" instead.</em> true if the absence of module descriptor (usually an Ivy file) is authorised for this resolver, false to refuse modules without module descriptor (<strong><em>since 1.4</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No (except dual)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">checksums</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a comma separated list of <a href="../concept.html#checksum">checksum algorithms</a> to use both for publication and checking (<strong><em>since 1.4</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to ${ivy.checksums}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">latest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the latest strategy to use.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to 'default'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cache</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the cache manager to use.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to the value of the default attribute of caches</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">signer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the <a href="../settings/signers.html">detached signature generator</a> to use when publishing artifacts. (<strong><em>since 2.2</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, by default published artifacts will not get signed by Ivy.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">timeoutConstraint</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the <a href="timeout-constraint.html">timeout-constraint</a> to use for the resolver. (<strong><em>since 2.5</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. In the absence of a <code>timeoutConstraint</code>, the resolver&#8217;s behaviour with timeouts is implementation specific.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_examples_9">Examples</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;resolvers&gt;
  &lt;filesystem name="1" cache="cache-1"&gt;
    &lt;ivy pattern="${ivy.settings.dir}/1/[organisation]/[module]/ivys/ivy-[revision].xml"/&gt;
    &lt;artifact pattern="${ivy.settings.dir}/1/[organisation]/[module]/[type]s/[artifact]-[revision].[ext]"/&gt;
  &lt;/filesystem&gt;
  &lt;chain name="chain1"&gt;
    &lt;resolver ref="1"/&gt;
    &lt;ivyrep name="ivyrep"/&gt;
  &lt;/chain&gt;
  &lt;chain name="chain2" returnFirst="true" dual="true"&gt;
    &lt;resolver ref="1"/&gt;
    &lt;ibiblio name="ibiblio"/&gt;
  &lt;/chain&gt;
&lt;/resolvers&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Defines a filesystem resolver, named <code>1</code>, which is then used in two chains, the first combining the filesystem resolver with an ivyrep resolver, and second combining the filesystem resolver with an ibiblio resolver, which returns the first module found, and uses the whole chain to download artifacts (see corresponding resolvers documentation for details about them). Resolver <code>1</code> will use a cache named <code>cache-1</code> which should have been defined in the caches element.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_resolver_ivyrep_a_ivyrep_resolver"><a id="resolver_ivyrep"></a>IvyRep Resolver</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_ivyrep_resolver" class="sect0">IvyRep resolver</h1>
<div class="openblock partintro">
<div class="content">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;"/>
<col style="width: 50%;"/>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tag</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ivyrep</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handle latest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes, at least if the repository server is apache based</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handle publish</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><span class="ivysettings.resolvers.ivyrep">This resolver usually uses an URL based repository usually similar in structure to the, now defunct, <code><a href="http://ivyrep.jayasoft.org/" class="bare">http://ivyrep.jayasoft.org/</a></code> repo, to find Ivy files, and ibiblio to find artifacts.</span> It can also be configured to use other similar repositories.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Since ivyrep is not maintained anymore, the ivyroot attribute is mandatory, and the use of this resolver is not recommended (we recommend using <a href="../resolver/url.html">url resolver</a> as replacement in most cases).</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_17">Attributes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This resolver shares the <a href="../settings/resolvers.html#common">common attributes</a> of standard resolvers.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ivyroot</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the root of the Ivy repository.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes, but may be provided through ${ivy.ivyrep.default.ivy.root} (<strong><em>since 2.0</em></strong>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ivypattern</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a pattern describing the layout of the Ivy repository.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to ${ivy.ivyrep.default.ivy.pattern}</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">artroot</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the root of the artifacts repository.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to ${ivy.ivyrep.default.artifact.root}</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">artpattern</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a pattern describing the layout of the artifacts repository.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to ${ivy.ivyrep.default.artifact pattern}</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_examples_10">Examples</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivyrep name="ivyrep" ivyroot="http://ivyrep.mycompany.com"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Looks for Ivy files in an ivyrep like web site located at <code><a href="http://ivyrep.mycompany.com" class="bare">http://ivyrep.mycompany.com</a></code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_resolver_ibiblio_a_ibiblio_resolver"><a id="resolver_ibiblio"></a>IBiblio Resolver</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_ibiblio_resolver" class="sect0">Ibiblio resolver</h1>
<div class="openblock partintro">
<div class="content">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;"/>
<col style="width: 50%;"/>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tag</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ibiblio</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handle latest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes, at least if the repository server is apache based</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handle publish</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><span class="ivysettings.resolvers.ibiblio">This resolver usually uses ibiblio to find artifacts.</span></p>
</div>
<div class="paragraph">
<p>(<strong><em>since 1.3</em></strong>) Using the <code>m2compatible</code> attribute, you can benefit from Maven 2 repository compatibility (convert dots in organisation into slashes, search for POMs, use transitive dependencies of POMs). This setting also affects the default place where the resolver looks for its artifacts to point to the Maven 2 repository. So setting this attribute to <code>true</code> is sufficient to use Maven 2 ibiblio repository.</p>
</div>
<div class="paragraph">
<p>(<strong><em>since 1.4</em></strong>) When using the <code>m2compatible</code> flag, you can disable the use of POMs by setting the usepoms flag to <code>false</code>. It is then roughly equivalent to a URL resolver configured like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;url name="test" m2compatible="true"&gt;
  &lt;artifact pattern="https://repo1.maven.org/maven2/[organisation]/[module]/[revision]/[artifact]-[revision].[ext]"/&gt;
&lt;/url&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>(<strong><em>since 2.0</em></strong>) When used in <code>m2compatible</code> mode with the default pattern, this resolver uses <code>maven-metadata.xml</code> files (if present) to list the revisions available on the repository. This is especially useful when using a Maven specific proxy, which does not serve directory listing. This can be disabled by using the <code>useMavenMetadata</code> flag.</p>
</div>
<div class="paragraph">
<p><strong>Limitation</strong>: in <code>m2compatible</code> mode, this resolver is not able list available organizations. It means some features like <a href="../use/repreport.html">repreport</a> are not available.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_18">Attributes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This resolver shares the <a href="../settings/resolvers.html#common">common attributes</a> of standard resolvers.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">root</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the root of the artifact repository.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to ${ivy.ibiblio.default.artifact.root}</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pattern</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a pattern describing the layout of the artifact repository.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to ${ivy.ibiblio.default.artifact.pattern}</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">m2compatible</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">True if this resolver should be Maven 2 compatible, false otherwise (<strong><em>since 1.3</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">usepoms</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">True if this resolver should use Maven POMs when it is already in m2compatible mode, false otherwise (<strong><em>since 1.4</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">useMavenMetadata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">True if this resolver should use maven-metadata.xml files to list available revisions, false to use directory listing (<strong><em>since 2.0</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to true</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_examples_11">Examples</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ibiblio name="maven2" m2compatible="true"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Defines a resolver called <code>maven2</code> using the Maven 2 public repository to find module metadata (using Maven 2 POMs) and artifacts.</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ibiblio name="maven" m2compatible="true" usepoms="false"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Same as above, but doesn&#8217;t use POMs, only artifacts.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_resolver_packager_a_packager_resolver"><a id="resolver_packager"></a>Packager Resolver</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_packager_resolver" class="sect0">Packager resolver</h1>
<div class="openblock partintro">
<div class="content">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;"/>
<col style="width: 50%;"/>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tag</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">packager</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handle latest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes with HTTP URLs (and Apache server) and with file URLs, no with other URLs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handle publish</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>(<strong><em>since 2.0</em></strong>)</p>
</div>
<div class="paragraph">
<p><span class="ivysettings.resolvers.packager">This resolver accesses Ivy files and "packaging instructions" from an online "packager" repository.</span> "Packager" repositories contain no actual artifacts. To get the artifacts, the packaging instructions are downloaded from the repository and executed locally. These instructions specify additional resource(s) to download and how to create the artifacts from them, for example, by downloading a project&#8217;s original distribution archive directly from their web site and extracting the desired artifacts.</p>
</div>
<div class="paragraph">
<p>Packager repositories allow the creation of Ivy repositories that require neither the participation of any of the modules' creators nor setting up a huge mirror site.</p>
</div>
<div class="paragraph">
<p>The Packager resolver supports a "resource cache", where downloaded archives can be stored to avoid duplicate downloads. This cache is entirely separate from the <a href="../concept.html#cache">normal Ivy cache</a>: it is "private" to the Packager resolver, and it stores unmodified original software archives, not Ivy artifacts. See the <code>resourceCache</code> attribute below for details.</p>
</div>
<div class="paragraph">
<p>The packaging instructions are contained in "packager.xml" in a simple XML format. At resolve time this file gets converted into a "build.xml" file via XSLT and then executed using <a href="https://ant.apache.org/">Ant</a>. Therefore, Ant must be available as an executable on the platform. The Ant task executes in a separate Ant project and so is not affected by properties, etc. that may be set in any existing Ant environment in which Ivy is running. However, Ivy will define a few properties for convenience; see the "Properties" listed below.</p>
</div>
<div class="paragraph">
<p>For security reasons, the XSLT transform ensures that</p>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>all downloaded archives have verified SHA1 checksums (including cached resources); and</p>
</li>
<li>
<p>only a very limited set of Ant tasks can be performed during the artifact "build" phase; currently these include move, copy, mkdir, zip, unzip, tar, and untar (this restriction may be overridden however; see below).</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The Packager resolver is based on the <a href="url.html">URL resolver</a> and is configured similarly, except the artifact child tags specify where to find the packager.xml files, rather than the artifacts themselves.</p>
</div>
<div class="paragraph">
<p>Because the packaging process is relatively slow, it is important to use <a href="../concept.html#cache">Ivy&#8217;s caching support</a> to avoid repeated execution of the packaging instructions.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_19">Attributes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This resolver shares the <a href="../settings/resolvers.html#common">common attributes</a> of standard resolvers, plus the following:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">buildRoot</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defines the root of the temporary build directory hierarchy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">resourceCache</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Directory where downloaded resources should be cached</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No; defaults to none</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">resourceURL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ivy pattern that specifies a base URL to use for downloading <em>all</em> resources; overrides the URLs in the packaging instructions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No; defaults to none</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">restricted</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">True if this resolver should only allow "safe" Ant tasks in the packaging instructions. <strong>Warning:</strong> setting <code>restricted</code> to false creates a security problem due to Ant tasks like delete, exec, etc. Do not use this setting when your configuration points to an untrusted repository.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No; defaults to true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">verbose</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">True to run Ant with the -verbose flag</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No; defaults to false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">quiet</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">True to run Ant with the -quiet flag</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No; defaults to false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">validate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">True if this resolver should validate (via XSD) the downloaded XML packaging instructions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No; defaults to true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">preserveBuildDirectories</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">True if this resolver should not delete the temporary build directories in which the Ant tasks are executed (for debugging purposes)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No; defaults to false</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Setting a <code>resourceURL</code> will cause the resolver to override the URLs for resources specified by the packaging instructions. Instead, all resources will be downloaded from an URL constructed by first resolving the resourceURL pattern into a base URL, and then resolving the resource filename relative to that base URL. In other words, the <code>resourceURL</code> pattern specifies the URL "directory", so it should always end in a forward slash.</p>
</div>
<div class="paragraph">
<p>If a resourceURL download fails, the resolver will fall back to the original URL from the packaging instructions.</p>
</div>
<div class="paragraph">
<p>Configure a resourceURL in situations where you don&#8217;t want to rely on (or wait for) the web sites configured in the packaging instructions, and have access to a better (perhaps private) mirror site.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_child_elements_14">Child elements</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;"/>
<col style="width: 33.3333%;"/>
<col style="width: 33.3334%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Cardinality</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ivy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defines a pattern for ivy.xml files, using the pattern attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1..n</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">artifact</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defines a pattern for packager.xml files, using the pattern attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1..n</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_examples_12">Examples</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;packager name="ivyroundup"
         buildRoot="${user.home}/.ivy2/packager/build"
         resourceCache="${user.home}/.ivy2/packager/cache"
         resourceURL="ftp://mirror.example.com/pub/resources/[organisation]/[module]/"&gt;
    &lt;ivy pattern="http://ivyroundup.googlecode.com/svn/trunk/repo/modules/[organisation]/[module]/[revision]/ivy.xml"/&gt;
    &lt;artifact pattern="http://ivyroundup.googlecode.com/svn/trunk/repo/modules/[organisation]/[module]/[revision]/packager.xml"/&gt;
&lt;/packager&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Defines a packager resolver which points to the <code><a href="http://ivyroundup.googlecode.com/" class="bare">http://ivyroundup.googlecode.com/</a></code> online repository. Builds will occur in a subdirectory of
<code>${user.home}/.ivy2/packager/build</code>, downloaded resources will be cached in <code>${user.home}/.ivy2/packager/cache</code> and the mirror site <code><a href="ftp://mirror.example.com/pub/resources/">organisation</a>/[module]/</code> will be tried first for all resources.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_packaging_instructions">Packaging Instructions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The goal of the packaging instructions is to download the required archives, extract the artifacts, and put the artifacts into a subdirectory. Each artifact should be written to <code>artifacts/[type]s/[artifact].[ext]</code> when the Ant build completes.</p>
</div>
<div class="paragraph">
<p>Below is an example of packaging instructions for <a href="http://testng.org/">TestNG</a>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;packager-module version="1.0"&gt;

    &lt;property name="name" value="${ivy.packager.module}"/&gt;
    &lt;property name="version" value="${ivy.packager.revision}"/&gt;
    &lt;property name="zipname" value="${name}-${version}"/&gt;

    &lt;resource dest="archive" url="http://testng.org/${zipname}.zip" sha1="2ea19275dc17453306f8bb780fe6ef6e9af7756b"&gt;
        &lt;url href="http://mirror.example.com/archives/${zipname}.zip"/&gt;
        &lt;include name="${zipname}/src/main/**/*"/&gt;
        &lt;include name="${zipname}/src/jdk15/**/*"/&gt;
        &lt;include name="${zipname}/javadocs/**/*"/&gt;
        &lt;include name="${zipname}/*.jar"/&gt;
    &lt;/resource&gt;

    &lt;build&gt;

        &lt;!-- jar  --&gt;
        &lt;move file="archive/${zipname}/${zipname}-jdk14.jar" tofile="artifacts/jars/${name}-jdk14.jar"/&gt;
        &lt;move file="archive/${zipname}/${zipname}-jdk15.jar" tofile="artifacts/jars/${name}-jdk15.jar"/&gt;

        &lt;!-- source --&gt;
        &lt;zip destfile="artifacts/sources/${name}.zip"&gt;
            &lt;fileset dir="archive/${zipname}/src/main"&gt;
                &lt;include name="**/*.java"/&gt;
            &lt;/fileset&gt;
            &lt;fileset dir="archive/${zipname}/src/jdk15"&gt;
                &lt;include name="**/*.java"/&gt;
            &lt;/fileset&gt;
        &lt;/zip&gt;

        &lt;!-- javadoc --&gt;
        &lt;zip destfile="artifacts/javadocs/javadoc.zip"&gt;
            &lt;fileset dir="archive/${zipname}/javadocs"/&gt;
        &lt;/zip&gt;
    &lt;/build&gt;
&lt;/packager-module&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Of course, packaging instructions must produce artifacts consistent with those listed in the associated ivy.xml file.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_build_time_properties">Build-time properties</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This resolver ensures that the following Ant properties are defined when it executes the Ant build task.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 23.0769%;"/>
<col style="width: 76.9231%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ivy.packager.organisation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Organization of the Ivy module whose artifacts are being built</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ivy.packager.module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Module of the Ivy module whose artifacts are being built</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ivy.packager.revision</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Revision of the Ivy module whose artifacts are being built</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ivy.packager.branch</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Branch of the Ivy module whose artifacts are being built</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ivy.packager.resourceCache</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The configured <code>resourceCache</code> if any; otherwise not defined</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ivy.packager.resourceURL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The resolved <code>resourceURL</code> pattern if any; otherwise not defined</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_packager_xml_elements">Packager XML Elements</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The packager.xml document element can contain the following child tags.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;"/>
<col style="width: 33.3333%;"/>
<col style="width: 33.3334%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Cardinality</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set an Ant property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">resource</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Define a resource to download and (optionally) unpack</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">m2resource</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Define a Maven 2 resource to download and (optionally) unpack</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">build</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specify Ant tasks that ultimately result in each artifact being placed into artifacts/[type]s/[artifact].[ext]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..1</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Which Ant tasks are allowed within the build tag is controlled by the <code>restricted</code> configuration attribute. When true (the default), only the following Ant tasks are allowed: copy, jar, mkdir, move, tar, unjar, untar, unwar, unzip, war, and zip. When false, all Ant tasks are allowed.</p>
</div>
<div class="paragraph">
<p><strong>Warning:</strong> setting <code>restricted</code> to false creates a security problem due to Ant tasks like delete, exec, etc. Do not use this setting when your configuration points to an untrusted repository.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resource_xml_elements">Resource XML Elements</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The resource XML tag supports the following attributes:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">url</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary URL for the resource</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sha1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SHA1 checksum of the resource</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defines the name of the subdirectory into which the artifact should be unpacked</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No; defaults to "archive"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tofile</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Where to put the file directly; if present no extraction will be performed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No; if present, "dest" is ignored</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">filename</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the file to download</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No; if not present, same as the last component of the URL</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type of archive: "zip", "jar", "war", "tar", "tgz", "tar.gz", "tar.bz2"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No; if not present, will be automatically determined from the filename suffix</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The resource XML tag may contain child elements. An url tag with an href attribute specifies an alternate URL for the resource (see TestNG example above). Any other tags will be included as children of an automatically generated fileset tag.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_maven_2_resources">Maven 2 Resources</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Special support is included for Maven 2 resources. For these resources, use the m2resource tag instead of the resource tag. Each m2resource tag specifies one or more artifacts that are downloaded from the Maven 2 repository.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_m2resource_xml_elements">M2Resource XML Elements</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The m2resource XML tag supports the following attributes:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">groupId</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maven group ID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No; defaults to ${ivy.packager.organisation}</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">artifactId</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maven artifact ID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No; defaults to ${ivy.packager.module}</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">version</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maven version</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No; defaults to ${ivy.packager.revision}</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">repo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maven repository URL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No; defaults to <a href="https://repo1.maven.org/maven2/" class="bare">https://repo1.maven.org/maven2/</a></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Each m2resource XML tag must have one or more artifact tags that define the artifacts to directly download. The URL for each artifact is constructed automatically based on the attributes in the m2resource and artifact tags.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_m2resource_artifact_attributes">M2Resource Artifact Attributes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The artifact children of m2resource tags support the following attributes:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ext</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maven filename extension</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No; defaults to "jar"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">classifier</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maven classifier (e.g., "sources", "javadoc")</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No; defaults to none</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sha1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SHA1 checksum of the resource</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defines the name of the subdirectory into which the artifact should be unpacked</p></td>
<td class="tableblock halign-left valign-top" rowspan="2"><p class="tableblock">Exactly one of "dest" or "tofile" must be supplied</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tofile</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Where to put the file; no extraction will be performed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type of archive: "zip", "jar", "war", "tar", "tgz", "tar.gz", "tar.bz2"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No; if not present, will be automatically determined from the filename suffix</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Below is an example of packaging instructions for the <a href="https://commons.apache.org/proper/commons-email/">Apache Commons Email</a> module. Note that no build tag is required because all of the Maven 2 artifacts are usable directly (i.e., without unpacking anything).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>&lt;packager-module version="1.0"&gt;
    &lt;m2resource&gt;
        &lt;artifact tofile="artifacts/jars/${ivy.packager.module}.jar" sha1="a05c4de7bf2e0579ac0f21e16f3737ec6fa0ff98"/&gt;
        &lt;artifact classifier="javadoc" tofile="artifacts/javadocs/javadoc.zip" sha1="8f09630f1600bcd0472a36fb2fa2d2a6f2836535"/&gt;
        &lt;artifact classifier="sources" tofile="artifacts/sources/source.zip" sha1="15d67ca689a792ed8f29d0d21e2d0116fa117b7e"/&gt;
    &lt;/m2resource&gt;
&lt;/packager-module&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_resolver_filesystem_a_file_system_resolver"><a id="resolver_filesystem"></a>File System Resolver</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_filesystem_resolver" class="sect0">Filesystem resolver</h1>
<div class="openblock partintro">
<div class="content">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;"/>
<col style="width: 50%;"/>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tag</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">filesystem</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handle latest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handle publish</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><span class="ivysettings.resolvers.filesystem">This resolver uses the file system to resolve Ivy files and artifacts.</span> An advantage of this resolver is that it usually provides very good performance. Moreover, it is easy to setup using basic OS file sharing mechanisms.</p>
</div>
<div class="paragraph">
<p>The configuration of such a resolver is mainly done through Ivy and artifact patterns, indicating where Ivy files and artifacts can be found in the file system. These patterns must be absolute paths (<strong><em>since 2.0</em></strong>). You can indicate a list of patterns which will be checked one after the other.</p>
</div>
<div class="paragraph">
<p>(<strong><em>since 1.3</em></strong>) Using the <code>m2compatible</code> attribute, this resolver will convert dots found in organisation into slashes like Maven 2 does for groupId. For instance, it will transform the organisation from <code>com.company</code> into <code>com/company</code> when replacing the token <code>[organisation]</code> in your pattern.</p>
</div>
<div class="paragraph">
<p><strong>Limitation</strong>: in <code>m2compatible</code> mode, this resolver is not able list available organizations. It means some features like <a href="../use/repreport.html">repreport</a> are not available.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_atomic_publish_support">Atomic publish support</h2>
<div class="sectionbody">
<div class="paragraph">
<p>[<strong><em>since 2.0</em></strong>]</p>
</div>
<div class="paragraph">
<p>This resolver supports atomic publish, which is useful for environments with a lot of concurrent publish and resolve actions. The atomic publish relies on the atomicity of the rename operation in the underlying filesystem (which includes NTFS and POSIX based filesystems).
In this case the resolver starts by publishing the module according to the pattern, but where a <code>.part</code> suffix is appended to the revision. Then the publish is committed with a rename to the final location.</p>
</div>
<div class="paragraph">
<p><strong>Limitations</strong>
Atomic publish is currently limited in several ways:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>you need to use a pattern for both the artifact and the Ivy files which uses the revision as a directory. For instance, <code>${repository.dir}/[module]/[revision]/[artifact].[ext]</code> works, <code>${repository.dir}/[module]/[artifact]-[revision].[ext]</code> doesn&#8217;t<br/></p>
</li>
<li>
<p>both the artifact and Ivy pattern should have the same prefix until the <code>[revision]</code> token.<br/></p>
</li>
<li>
<p>overwrite during publish is not supported<br/></p>
</li>
<li>
<p>you should not use revision names ending with <code>.part</code><br/></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code><strong>transactional</strong></code> attribute can be used to configure the atomicity behavior:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>auto<br/>
use transaction if possible (according to limitation), otherwise don&#8217;t</p>
</li>
<li>
<p>true<br/>
always use transaction, fail the build if a limitation is not fulfilled</p>
</li>
<li>
<p>false<br/>
don&#8217;t use transaction at all</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_20">Attributes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This resolver shares the <a href="../settings/resolvers.html#common">common attributes</a> of standard resolvers.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">m2compatible</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">True if this resolver should be Maven 2 compatible, false otherwise (<strong><em>since 1.3</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">local</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">True if this resolver should be considered local, false otherwise (<strong><em>since 1.4</em></strong>). See useOrigin attribute on the <a href="../settings/caches.html">caches</a> element for details.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">transactional</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true to force the use of transaction, false to prevent the use of transaction, auto to get transaction when possible (<strong><em>since 2.0</em></strong>). See above for details.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to auto</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_child_elements_15">Child elements</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;"/>
<col style="width: 33.3333%;"/>
<col style="width: 33.3334%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Cardinality</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ivy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">defines a pattern for Ivy files, using the pattern attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">artifact</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">defines a pattern for artifacts, using the pattern attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1..n</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_resolver_url_a_url_resolver"><a id="resolver_url"></a>URL Resolver</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_url_resolver" class="sect0">URL resolver</h1>
<div class="openblock partintro">
<div class="content">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;"/>
<col style="width: 50%;"/>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tag</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">url</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handle latest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes with HTTP URLs (and Apache server) and with file URLs, no with other URLs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handle publish</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes with HTTP URLs whose destination supports publishing (as of Ivy 2.0)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><span class="ivysettings.resolvers.url">This resolver is one of the most generic. In fact, most of the previous resolvers can be obtained by a particular configuration of this one.</span> Indeed it uses URLs to find Ivy files and artifacts. The URLs it uses are defined through Ivy and artifact children, each giving a pattern to find Ivy files or artifacts.</p>
</div>
<div class="paragraph">
<p><strong>Limitation</strong>: in <code>m2compatible</code> mode, this resolver is not able list available organizations. It means some features like <a href="../use/repreport.html">repreport</a> are not available.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_21">Attributes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This resolver shares the <a href="../settings/resolvers.html#common">common attributes</a> of standard resolvers.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">m2compatible</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">True if this resolver should be Maven 2 compatible, false otherwise (<strong><em>since 1.3</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to false</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_child_elements_16">Child elements</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;"/>
<col style="width: 33.3333%;"/>
<col style="width: 33.3334%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Cardinality</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ivy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">defines a pattern for Ivy files, using the pattern attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">artifact</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">defines a pattern for artifacts, using the pattern attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1..n</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_example_2">Example</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;url name="two-patterns-example"&gt;
  &lt;ivy pattern="http://ivyrep.mycompany.com/[module]/[revision]/ivy-[revision].xml"/&gt;
  &lt;artifact pattern="http://ivyrep.mycompany.com/[module]/[revision]/[artifact]-[revision].[ext]"/&gt;
  &lt;artifact pattern="http://ivyrep.mycompany.com/[module]/[revision]/[artifact].[ext]"/&gt;
&lt;/url&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Looks for Ivy files in one place and for artifacts in two places: with or without revision in name (revision being already in the directory structure).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_resolver_chain_a_chain_resolver"><a id="resolver_chain"></a>Chain Resolver</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_chain_resolver" class="sect0">Chain resolver</h1>
<div class="openblock partintro">
<div class="content">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;"/>
<col style="width: 50%;"/>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tag</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">chain</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handle latest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">depends on sub resolvers</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handle publish</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">delegates to first sub resolver in chain</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><span class="ivysettings.resolvers.chain">This resolver is only a container of a chain of other resolvers.</span> The sub resolvers can be any resolver, including a chain. An attribute <code>enable</code> to indicate if the chain must be iterated after the first found or not (at least when asking for a latest revision). If the chain is iterated, then it&#8217;s the latest among the ones found that is returned. If the chain is not iterated, then it&#8217;s the first found which is returned.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_22">Attributes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This resolver shares the <a href="../settings/resolvers.html#common">common attributes</a> of composite resolvers.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">returnFirst</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true if the first found should be returned.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dual</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true if the chain should behave like a dual chain. (<strong><em>since 1.3</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to false</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_child_elements_17">Child elements</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;"/>
<col style="width: 33.3333%;"/>
<col style="width: 33.3334%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Cardinality</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">any resolver</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a sub resolver to use</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1..n</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_examples_13">Examples</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;chain name="test"&gt;
  &lt;filesystem name="1"&gt;
    &lt;ivy pattern="${ivy.settings.dir}/1/[organisation]/[module]/ivys/ivy-[revision].xml"/&gt;
    &lt;artifact pattern="${ivy.settings.dir}/1/[organisation]/[module]/[type]s/[artifact]-[revision].[ext]"/&gt;
  &lt;/filesystem&gt;
  &lt;ivyrep name="2"/&gt;
&lt;/chain&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Both a filesystem and ivyrep will be used to look for Ivy files. If a dynamic revision is required, then both the filesystem and ivyrep will be queried to find the most recent revision among the two resolvers. Once the most recent revision is found in one resolver, it&#8217;s the same resolver which will be used to download artifacts.</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;chain name="test" returnFirst="true"&gt;
  &lt;filesystem name="1"&gt;
    &lt;ivy pattern="${ivy.settings.dir}/1/[organisation]/[module]/ivys/ivy-[revision].xml"/&gt;
    &lt;artifact pattern="${ivy.settings.dir}/1/[organisation]/[module]/[type]s/[artifact]-[revision].[ext]"/&gt;
  &lt;/filesystem&gt;
  &lt;ivyrep name="2"/&gt;
&lt;/chain&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Same as before, except that if a revision is found in the filesystem then ivyrep will not be queried: its the filesystem which will be used for both the Ivy file and the artifacts.</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;chain name="test" dual="true"&gt;
  &lt;filesystem name="1"&gt;
    &lt;ivy pattern="${ivy.settings.dir}/1/[organisation]/[module]/ivys/ivy-[revision].xml"/&gt;
    &lt;artifact pattern="${ivy.settings.dir}/1/[organisation]/[module]/[type]s/[artifact]-[revision].[ext]"/&gt;
  &lt;/filesystem&gt;
  &lt;ivyrep name="2"/&gt;
&lt;/chain&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Same as first example, except that once a module is found by either filesystem or ivyrep, then it&#8217;s the whole chain which will be queried to download the artifacts. So in this case Ivy file and artifacts may be split across the two resolvers for the same module.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_resolver_dual_a_dual_resolver"><a id="resolver_dual"></a>Dual Resolver</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_dual_resolver" class="sect0">Dual resolver</h1>
<div class="openblock partintro">
<div class="content">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;"/>
<col style="width: 50%;"/>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tag</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">dual</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handle latest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">depends on sub resolvers</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handle publish</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">delegates to Ivy sub resolver if artifact to publish is of "ivy" type, to artifact sub resolver otherwise</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><span class="ivysettings.resolvers.dual">This resolver delegates its job to one resolver for Ivy files and another for artifacts.</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_23">Attributes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This resolver shares the <a href="../settings/resolvers.html#common">common attributes</a> of composite resolvers.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_child_elements_18">Child elements</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;"/>
<col style="width: 33.3333%;"/>
<col style="width: 33.3334%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Cardinality</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">any resolver</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">two resolvers, the first being the Ivy resolver, the second the artifact resolver</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_resolver_sftp_a_sftp_resolver"><a id="resolver_sftp"></a>SFTP Resolver</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_sftp_resolver" class="sect0">SFTP resolver</h1>
<div class="openblock partintro">
<div class="content">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;"/>
<col style="width: 50%;"/>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tag</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sftp</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handle latest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handle publish</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>[<strong><em>since 1.4</em></strong>]</p>
</div>
<div class="paragraph">
<p><span class="ivysettings.resolvers.sftp">This resolver can be used when your Ivy repository is located on a server accessible via SFTP.</span> The secured nature of SFTP and its widespread implementation on most *nix servers makes this resolver a very good candidate in an enterprise environment.</p>
</div>
<div class="paragraph">
<p>If your server supports SSH but not SFTP, there is also an <a href="../resolver/ssh.html">SSH resolver</a>.</p>
</div>
<div class="paragraph">
<p>Note that SFTP is also supported by VFS, so you can use a VFS resolver instead. The advantage of this resolver is that you have a better control over authentication, it can prompt for username/password credentials, or you can use private/public key authentication, which is not possible with the VFS resolver. When it prompts for username/password, it uses a Swing dialog, which is not possible in a headless environment. If you want to prompt for the credentials on the command line, use Ant input task, for example, before calling Ivy.</p>
</div>
<div class="paragraph">
<p>All necessary connection parameters can be set here via attributes, or via an OpenSSH-style config file specified by <code>sshConfig</code>.
However all attributes defined in the pattern URL of the resolver will have higher priority and will overwrite the values given here. To specify connection parameters in the pattern, you have to specify a full URL and not just a path as pattern.
e.g. <code>pattern="/path/to/my/repos/[artifact].[ext]"</code> will use all connection parameters from this class
e.g. <code>pattern="sftp://myserver.com/path/to/my/repos/[artifact].[ext]"</code> will use all parameters from the attributes with the exception of the host, which will be "myserver.com"
e.g. <code>pattern="sftp://user:geheim@myserver.com:8022/path/to/my/repos/[artifact].[ext]"</code> will use only the keyFile and keyFilePassword from the attributes (if needed). Rest will come from the URL.</p>
</div>
<div class="paragraph">
<p>Note that the authentication features of this resolver are exactly the same as the SSH resolver. Choosing between the two is often a matter of server implementation. If your server supports SFTP, usually it&#8217;s preferable.</p>
</div>
<div class="paragraph">
<p>Internally this resolver relies on <a href="http://www.jcraft.com/jsch/">jsch</a> as SSH client, which is a popular Java SSH client, used for example in Eclipse.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_24">Attributes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This resolver shares the <a href="../settings/resolvers.html#common">common attributes</a> of standard resolvers.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The username to provide as credential</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to username given on the patterns, or prompt if none is set</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">userPassword</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The password to provide as credential</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to password given on the patterns, or prompt if none is set</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">keyFile</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Path to the keyfile to use for authentication</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to username/password authentication</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">keyFilePassword</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the password used to protect the key file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, will prompt for password if keyFile authentication is used and if it is password encrypted</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">host</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The host to connect to</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to host given on the patterns, fail if none is set</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">port</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The port to connect to</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to 22</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sshConfig</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Path to an OpenSSH-style config file containing additional configuration</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_child_elements_19">Child elements</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;"/>
<col style="width: 33.3333%;"/>
<col style="width: 33.3334%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Cardinality</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ivy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">defines a pattern for Ivy files, using the pattern attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">artifact</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">defines a pattern for artifacts, using the pattern attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1..n</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_example_3">Example</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;sftp user="myuser" host="myhost.com"&gt;
  &lt;ivy pattern="/path/to/ivy/[module]/ivy.xml"/&gt;
  &lt;artifact pattern="/path/to/[organisation]/[module]/[artifact].[ext]"/&gt;
&lt;/sftp&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Will connect to myhost.com using myuser and prompt for the password.</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;sftp user="${myuser}" userPassword="${my.password}" host="myhost.com"&gt;
  &lt;ivy pattern="path/to/ivy/[module]/ivy.xml"/&gt;
  &lt;artifact pattern="path/to/[organisation]/[module]/[artifact].[ext]"/&gt;
&lt;/sftp&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Will connect to myhost.com using user and password provided with Ivy variables.</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;sftp&gt;
  &lt;ivy pattern="sftp://user:geheim@yourserver.com:8022/path/to/repos/[module]/[revision]/ivy.xml"/&gt;
  &lt;artifact pattern="sftp://user:secret@myserver.com:8022/path/to/my/repos/[artifact].[ext]"/&gt;
&lt;/sftp&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Will connect to yourserver.com on port 8022 with user 'user' and password 'geheim' for authentication for Ivy files, and to myserver.com on port 8022 using user 'user' and password 'secret' for the artifacts.</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;sftp keyFile="path/to/key/file" keyFilePassword="${password}"&gt;
  &lt;ivy pattern="sftp://user@yourserver.com:8022/path/to/repos/[module]/[revision]/ivy.xml"/&gt;
  &lt;artifact pattern="sftp://user@myserver.com:8022/path/to/my/repos/[artifact].[ext]"/&gt;
&lt;/sftp&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Will connect to yourserver.com on port 8022 with user 'user' and use keyFile <code>path/to/key/file</code> for <code>keyFile</code> and the value of password variable for <code>keyFilePassword</code> authentication for Ivy files, and to myserver.com on port 8022 using user 'user' with the same keyFile/keyFilePassword pair for the artifacts.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;sftp host="myhost" sshConfig="/path/to/.ssh/config"&gt;
  &lt;ivy pattern="/path/to/ivy/[module]/ivy.xml"/&gt;
  &lt;artifact pattern="/path/to/[organisation]/[module]/[artifact].[ext]"/&gt;
&lt;/ssh&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Will connect to the host named by myhost according to the config file in <code>/path/to/.ssh/config</code>, using the hostname, username, and optionally IdentityFile specified in the config section "Host myhost". For example, if the corresponding Host section contains "Hostname yourserver.com" and "User myremoteusername", it will connect to yourserver.com using username myremoteusername.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_resolver_ssh_a_ssh_resolver"><a id="resolver_ssh"></a>SSH Resolver</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_ssh_resolver" class="sect0">SSH resolver</h1>
<div class="openblock partintro">
<div class="content">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;"/>
<col style="width: 50%;"/>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tag</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ssh</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handle latest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handle publish</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>[<strong><em>since 1.4</em></strong>]</p>
</div>
<div class="paragraph">
<p><span class="ivysettings.resolvers.ssh">This resolver can be used when your Ivy repository is located on a server accessible via SSH.</span> The secured nature of SSH and its widespread implementation on most *nix servers makes this resolver a very good candidate in an enterprise environment.</p>
</div>
<div class="paragraph">
<p>If your server supports SFTP, you can consider using the <a href="../resolver/sftp.html">SFTP resolver</a>.</p>
</div>
<div class="paragraph">
<p>Internally this resolver shares most of its behaviour with the <a href="../resolver/sftp.html">SFTP resolver</a>, so refer to its documentation for details.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_25">Attributes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This resolver shares the <a href="../settings/resolvers.html#common">common attributes</a> of standard resolvers.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The username to provide as credential</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to username given on the patterns, or prompt if none is set</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">userPassword</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The password to provide as credential</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to password given on the patterns, or prompt if none is set</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">keyFile</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Path to the keyfile to use for authentication</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to username/password authentication</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">keyFilePassword</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the password used to protect the key file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, will prompt for password if keyFile authentication is used and if it is password encrypted</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">host</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The host to connect to</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to host given on the patterns, fail if none is set</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">port</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The port to connect to</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to 22</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sshConfig</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Path to an OpenSSH-style config file containing additional configuration</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">publishPermissions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A four digit string (e.g., 0644, see "man chmod", "man open") specifying the permissions of the published files. (<strong><em>since 2.0</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to scp standard behaviour</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_child_elements_20">Child elements</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;"/>
<col style="width: 33.3333%;"/>
<col style="width: 33.3334%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Cardinality</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ivy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">defines a pattern for Ivy files, using the pattern attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">artifact</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">defines a pattern for artifacts, using the pattern attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1..n</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_example_4">Example</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ssh user="myuser" host="myhost.com"&gt;
  &lt;ivy pattern="/path/to/ivy/[module]/ivy.xml"/&gt;
  &lt;artifact pattern="/path/to/[organisation]/[module]/[artifact].[ext]"/&gt;
&lt;/ssh&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Will connect to myhost.com using myuser and prompt for the password.</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ssh keyFile="path/to/key/file" keyFilePassword="${password}"&gt;
  &lt;ivy pattern="ssh://user:geheim@yourserver.com:8022/path/to/repos/[module]/[revision]/ivy.xml"/&gt;
  &lt;artifact pattern="ssh://user:geheim@myserver.com:8022/path/to/my/repos/[artifact].[ext]"/&gt;
&lt;/ssh&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Will connect to yourserver.com on port 8022 with user geheim and use <code>path/to/key/file</code> for <code>keyFile</code> and the value of password variable for <code>keyFilePassword</code> authentication for Ivy files, and to myserver.com on port 8022 using user geheim with the same keyFile/keyFilePassword pair for the artifacts.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ssh host="myhost" sshConfig="/path/to/.ssh/config"&gt;
  &lt;ivy pattern="/path/to/ivy/[module]/ivy.xml"/&gt;
  &lt;artifact pattern="/path/to/[organisation]/[module]/[artifact].[ext]"/&gt;
&lt;/ssh&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Will connect to the host named by myhost according to the config file in <code>/path/to/.ssh/config</code>, using the hostname, username, and optionally IdentityFile specified in the config section "Host myhost". For example, if the corresponding Host section contains "Hostname yourserver.com" and "User myremoteusername", it will connect to yourserver.com using username myremoteusername.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_resolver_vfs_a_vfs_resolver"><a id="resolver_vfs"></a>VFS Resolver</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_vfs_resolver" class="sect0">VFS resolver</h1>
<div class="openblock partintro">
<div class="content">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;"/>
<col style="width: 50%;"/>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tag</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">vfs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handle latest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">depend on VFS capacity, usually yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handle publish</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">depend on VFS capacity, usually yes</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>[<strong><em>since 1.4</em></strong>]</p>
</div>
<div class="paragraph">
<p><span class="ivysettings.resolvers.vfs">This resolver is certainly the most capable, since it relies on <a href="https://commons.apache.org/proper/commons-vfs/">Apache Commons VFS</a>, which gives an uniform access to <a href="https://commons.apache.org/proper/commons-vfs/filesystems.html">a good number of file systems</a>, including FTP, WebDAV, zip, &#8230;&#8203;</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_26">Attributes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This resolver shares the <a href="../settings/resolvers.html#common">common attributes</a> of standard resolvers.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_child_elements_21">Child elements</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;"/>
<col style="width: 33.3333%;"/>
<col style="width: 33.3334%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Cardinality</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ivy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">defines a pattern for Ivy files, using the pattern attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">artifact</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">defines a pattern for artifacts, using the pattern attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1..n</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_example_5">Example</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;vfs name="vfs-resolver"&gt;
  &lt;ivy pattern="sftp://username:password@host/[organisation]/[module]/[revision]/ivy.xml"/&gt;
  &lt;artifact pattern="sftp://username:password@host/[organisation]/[module]/[revision]/[artifact].[ext]"/&gt;
&lt;/vfs&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Access Ivy and artifact files using SFTP.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_resolver_jar_a_jar_resolver"><a id="resolver_jar"></a>Jar Resolver</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_jar_resolver" class="sect0">Jar resolver</h1>
<div class="openblock partintro">
<div class="content">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;"/>
<col style="width: 50%;"/>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tag</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jar</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handle latest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handle publish</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>[<strong><em>since 2.3</em></strong>]</p>
</div>
<div class="paragraph">
<p><span class="ivysettings.resolvers.jar">This resolver uses a specified jar resolve Ivy files and artifacts.</span></p>
</div>
<div class="paragraph">
<p>This kind of resolver helps the packaging of an entire repository. Since the entire "repository" jar is expected to be local at some point, the size of a such repository should be considered to be not too large if it is expected to be remote; hence the artifacts in a such repo should be little in size.</p>
</div>
<div class="paragraph">
<p>The configuration of such a resolver is done via specifying the location of the jar, and through Ivy and artifact patterns, indicating where Ivy files and artifacts can be found in the jar. You can indicate a list of patterns which will be checked one after the other. Note that the patterns <strong>MUST NOT</strong> start with a slash.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_27">Attributes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This resolver shares the <a href="../settings/resolvers.html#common">common attributes</a> of standard resolvers.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the absolute path of the jar</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">One of 'file' or 'url' is required</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">url</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the URL of the jar</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">One of 'file' or 'url' is required</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_child_elements_22">Child elements</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;"/>
<col style="width: 33.3333%;"/>
<col style="width: 33.3334%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Cardinality</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ivy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">defines a pattern for Ivy files, using the pattern attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">artifact</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">defines a pattern for artifacts, using the pattern attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1..n</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_examples_14">Examples</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;jar name="my-local-jar-resolver" file="/home/me/myrepo.jar"&gt;
    &lt;ivy pattern="[organisation]/[module]/ivys/ivy-[revision].xml"/&gt;
    &lt;artifact pattern="[organisation]/[module]/[type]s/[artifact]-[revision].[type]"/&gt;
&lt;/jar&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>A simple local jar repository.</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;jar name="my-remote-jar-resolver" url="http://www.mywebsite.com/dist/myrepo.jar"&gt;
    &lt;ivy pattern="dir_in_jar/subdir_in_jar/[organisation]/[module]/ivys/ivy-[revision].xml"/&gt;
    &lt;ivy pattern="dir_in_jar/another_subdir_in_jar/[organisation]/[module]/ivys/ivy-[revision].xml"/&gt;
    &lt;artifact pattern="dir_in_jar/subdir_in_jar/[organisation]/[module]/[type]s/[artifact]-[revision].[type]"/&gt;
    &lt;artifact pattern="dir_in_jar/another_subdir_in_jar/[organisation]/[module]/[type]s/[artifact]-[revision].[type]"/&gt;
    &lt;artifact pattern="dir_in_jar/yet_another_subdir_in_jar/[organisation]/[module]/[type]s/[artifact]-[revision].[type]"/&gt;
&lt;/jar&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>A remote jar repository with multiple Ivy and artifact patterns, patterns pointing in some sub directories in the jar.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_resolver_obr_a_osgi_bundle_repository"><a id="resolver_obr"></a>OSGi Bundle Repository</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_osgi_bundle_repository" class="sect0">OSGi Bundle Repository</h1>
<div class="openblock partintro">
<div class="content">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;"/>
<col style="width: 50%;"/>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tag</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">obr</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handle latest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handle publish</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>[<strong><em>since 2.3</em></strong>]</p>
</div>
<div class="paragraph">
<p><span class="ivysettings.resolvers.obr">This resolver is one of the resolver which supports <a href="../osgi.html">OSGi&#8482;</a> dependencies.</span> A part of the OSGi specification defines OBR (OSGi Bundle Repository). OBR aggregates the OSGi metadata of every bundle included in a repository. So contrary to the other resolvers, this resolver needs to get the descriptor of the repository (an obr.xml) before starting to resolve modules.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_28">Attributes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This resolver shares the <a href="../settings/resolvers.html#common">common attributes</a> of composite resolvers.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">repoXmlURL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the URL of the obr.xml to load.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">repoXmlFile</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the local path of the obr.xml to load.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">requirementStrategy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">defines how strict should be the OSGi resolution. Can be one of <code>first</code> or <code>noambiguity</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, default to <code>noambiguity</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">metadataTtl</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the time in milliseconds the obr.xml is considered up to date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, default to 3600000 (1 hour)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">forceMetadataUpdate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">force the update of the obr.xml without checking its freshness</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, default to false</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The requirement strategy is defining how the resolver should behave when facing several choices. In the OSGi dependency model, an <code>Import-Package</code> requirement can be satisfied by several different bundles. So when resolving such requirement, Ivy will first look into the already resolved bundles if one provides that package. If it fails to find one, then two behaviours can occur:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>if the requirement strategy is <code>first</code>, among the bundles satisfying the requirement, it will choose the first one. A warning will be logged about the choice Ivy has to arbitrarily do.<br/></p>
</li>
<li>
<p>if the requirement strategy is <code>noambiguity</code>, Ivy will make the resolution fail.<br/></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_examples_15">Examples</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;obr name="felix-repo" repoXmlURL="http://felix.apache.org/obr/releases.xml"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>A simple repository configured to use the Felix OBR.</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;obr name="my-osgi-repo" repoXmlFile="${ivy.settings.dir}/obr/obr.xml" requirementStrategy="first"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>A local repository which is trusted to always provide correct dependency for the <code>Import-Package</code> requirements.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_resolver_osgiagg_a_aggregated_osgi_repository"><a id="resolver_osgiagg"></a>Aggregated OSGi Repository</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_aggregate_osgi_repository" class="sect0">Aggregate OSGi Repository</h1>
<div class="openblock partintro">
<div class="content">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;"/>
<col style="width: 50%;"/>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tag</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">osgi-agg</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handle latest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handle publish</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>[<strong><em>since 2.4</em></strong>]</p>
</div>
<div class="paragraph">
<p>This resolver is one of the resolvers which support <a href="../osgi.html">OSGi&#8482;</a> dependencies.</p>
</div>
<div class="paragraph">
<p><span class="ivysettings.resolvers.osgi-agg">This resolver is like a classic <a href="../resolver/chain.html">chain</a> resolver, but with better support for OSGi metadata.</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_29">Attributes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This resolver shares the <a href="../settings/resolvers.html#common">common attributes</a> of composite resolvers.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_elements">Elements</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As sub element, this resolver accept any kind of OSGi resolver: <a href="../resolver/obr.html">obr</a>, <a href="../resolver/updatesite.html">updatesite</a>, or any other <code>osgi-agg</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_examples_16">Examples</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;updatesite name="ivyde-updatesite" url="http://www.apache.org/dist/ant/ivyde/updatesite"/&gt;
&lt;obr name="felix-repo" repoXmlURL="http://felix.apache.org/obr/releases.xml"/&gt;
&lt;osgi-agg name="all-osgi"&gt;
    &lt;resolver ref="ivyde-updatesite"/&gt;
    &lt;resolver ref="felix-repo"/&gt;
&lt;/osgi-agg&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>An aggregated OSGi repository composed of the Apache IvyDE Eclipse update site and the Felix OBR.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_resolver_updatesite_a_eclipse_updatesite"><a id="resolver_updatesite"></a>Eclipse updatesite</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_eclipse_updatesite_resolver" class="sect0">Eclipse Updatesite resolver</h1>
<div class="openblock partintro">
<div class="content">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;"/>
<col style="width: 50%;"/>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tag</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">updatesite</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handle latest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handle publish</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>[<strong><em>since 2.3</em></strong>]</p>
</div>
<div class="paragraph">
<p><span class="ivysettings.resolvers.updatesite">This resolver is one of the resolvers which support <a href="../osgi.html">OSGi&#8482;</a> dependencies. It resolves modules (OSGi bundles) which are hosted in an Eclipse&#8482; update site.</span></p>
</div>
<div class="paragraph">
<p>This resolver supports old style Eclipse updatesite, based on a single file, site.xml. It also supports Eclipse P2 repositories.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_30">Attributes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This resolver shares the <a href="../settings/resolvers.html#common">common attributes</a> of composite resolvers.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">url</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the URL of the Eclipse updatesite</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">requirementStrategy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">defines how strict should be the OSGi resolution. Can be one of <code>first</code> or <code>noambiguity</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, default to <code>noambiguity</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">metadataTtl</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the time in milliseconds the updatesite metadata are considered up to date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, default to 3600000 (1 hour)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">forceMetadataUpdate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">force the update of the updatesite metadata without checking their freshness</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, default to false</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The requirement strategy is defining how the resolver should behave when facing several choices. In the OSGi dependency model, an <code>Import-Package</code> requirement can be satisfied by several different bundles. So when resolving such requirement, Ivy will first look into the already resolved bundles if one provides that package. If it fails to find one, then two behaviours can occur:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>if the requirement strategy is <code>first</code>, among the bundles satisfying the requirement, it will choose the first one. A warning will be logged about the choice Ivy has to arbitrarily do.<br/></p>
</li>
<li>
<p>if the requirement strategy is <code>noambiguity</code>, Ivy will make the resolution fail.<br/></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_examples_17">Examples</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;updatesite name="ivyde-updatesite" url="http://www.apache.org/dist/ant/ivyde/updatesite"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>A simple repository configured to load the Apache IvyDE Eclipse update site.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_resolver_mirrored_a_mirrored_resolver"><a id="resolver_mirrored"></a>Mirrored Resolver</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_mirrored_resolver" class="sect0">Mirrored resolver</h1>
<div class="openblock partintro">
<div class="content">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;"/>
<col style="width: 50%;"/>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tag</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">mirroredurl</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handle latest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes with HTTP URLs (and Apache server) and with file URLs, no with other URLs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handle publish</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>[<strong><em>since 2.3</em></strong>]</p>
</div>
<div class="paragraph">
<p><span class="ivysettings.resolvers.mirroredurl">This resolver can resolve dependencies against several mirrors of the same repository.</span> From a list of mirror URLs, it will iteratively try to resolve the dependencies against each one.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_31">Attributes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This resolver shares the <a href="../settings/resolvers.html#common">common attributes</a> of standard resolvers.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">m2compatible</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">True if this resolver should be Maven 2 compatible, false otherwise</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">mirrorListUrl</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The URL where to retrieve the list of mirror URLs.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_child_elements_23">Child elements</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;"/>
<col style="width: 33.3333%;"/>
<col style="width: 33.3334%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Cardinality</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ivy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">defines a pattern for Ivy files, using the pattern attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">artifact</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">defines a pattern for artifacts, using the pattern attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1..n</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_example_6">Example</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Having the file mavenrepolist.txt content:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>https://repo1.maven.org/maven2/
http://repo2.maven.org/maven2/</code></pre>
</div>
</div>
<div class="paragraph">
<p>And the piece of settings:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;mirroredurl name="mirrored-maven" m2compatible="true" mirrorListUrl="file:///Users/me/dev/repo/mavenrepolist.txt"&gt;
      &lt;artifact pattern="[organisation]/[module]/[revision]/[artifact]-[revision].[ext]"/&gt;
&lt;/mirroredurl&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>It will resolve first on the <code>repo1</code> and if failing it will fall back on <code>repo2</code>.</p>
</div>
<hr/>
<div class="paragraph">
<p>The mirror list can be retrieved from a geo-location aware URL:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;mirroredurl name="mirrored-asf" mirrorListUrl="http://www.apache.org/dyn/closer.cgi"&gt;
  &lt;ivy pattern="repo/[organisation]/[module]/[revision]/ivy.xml"/&gt;
  &lt;artifact pattern="repo/[organisation]/[module]/[revision]/[artifact]-[revision].[ext]"/&gt;
&lt;/mirroredurl&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_resolver_bintray_a_bintray_resolver"><a id="resolver_bintray"></a>Bintray Resolver</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_bintray_resolver" class="sect0">Bintray resolver</h1>
<div class="openblock partintro">
<div class="content">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;"/>
<col style="width: 50%;"/>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tag</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bintray</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handle latest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes, at least if the repository server is apache based</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handle publish</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>[<strong><em>since 2.4</em></strong>]</p>
</div>
<div class="paragraph">
<p><span class="ivysettings.resolvers.bintray">This resolver uses Bintray DaaS (Distribution as a Service) platform to retrieve artifacts.</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_32">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">subject</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bintray username of a repository owner.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to Bintray</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">repo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User&#8217;s repository name.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to JCenter</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_examples_18">Examples</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>&lt;bintray/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>A default, defines a <a href="https://bintray.com/bintray/jcenter">JCenter</a> bintray resolver.
In most circumstances you won&#8217;t need any other resolvers as JCenter is already a super-set of many other repositories, including Maven Central.</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;bintray subject="dsowerby" repo="maven"/&gt;
&lt;bintray subject="igelgrun" repo="batrak"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Defines two resolvers to use a <a href="https://bintray.com/dsowerby/maven">repository</a> "maven" of user "dsowerby" (<a href="https://dl.bintray.com/dsowerby/maven/" class="bare">https://dl.bintray.com/dsowerby/maven/</a>)
and <a href="https://bintray.com/igelgrun/batrak">repository</a> "batrak" of user "igelgrun" (<a href="https://dl.bintray.com/igelgrun/batrak/" class="bare">https://dl.bintray.com/igelgrun/batrak/</a>).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_settings_conflict_managers_a_conflict_managers"><a id="settings_conflict-managers"></a>conflict-managers</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_conflict_managers" class="sect0">conflict-managers</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p><strong>Tag:</strong> conflict-managers</p>
</div>
<div class="paragraph">
<p><span class="ivysettings.conflict-managers">Defines a list of <a href="../concept.html#conflict">conflict managers</a> usable in Ivy.</span> Each conflict manager is identified by its name, given as an attribute.
The child tag used for the conflict manager must be equal to a name of a conflict manager type (either built-in or added with the <code>typedef</code> tag).</p>
</div>
<div class="paragraph">
<p>Here is a list of built-in conflict managers (which do not require anything in the settings file):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>all<br/>
this conflict manager resolve conflicts by selecting all revisions. Also called the <code>NoConflictManager</code>, it doesn&#8217;t evict any modules.</p>
</li>
<li>
<p>latest-time<br/>
this conflict manager selects only the <code>latest</code> revision, latest being defined as the latest in time. Note that latest in time is costly to compute, so prefer latest-revision if you can.</p>
</li>
<li>
<p>latest-revision<br/>
this conflict manager selects only the <code>latest</code> revision, latest being defined by a string comparison of revisions.</p>
</li>
<li>
<p>latest-compatible<br/>
this conflict manager selects the latest version in the conflicts which can result in a compatible set of dependencies. This means that in the end, this conflict manager does not allow any conflicts (similar to the strict conflict manager), except that it follows a best effort strategy to try to find a set of compatible modules (according to the version constraints)</p>
</li>
<li>
<p>strict<br/>
this conflict manager throws an exception (i.e. causes a build failure) whenever a conflict is found.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The two "latest" conflict managers also take into account the force attribute of the dependencies.
In fact, direct dependencies can declare a force attribute (see <a href="../ivyfile/dependency.html">dependency</a>), which indicates that the revision given in the direct dependency should be preferred over indirect dependencies.</p>
</div>
<div class="paragraph">
<p>Here is a list of conflict manager types available, which can be used to define your own custom conflict managers:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>latest-cm<br/>
The latest conflict manager uses a latest strategy to select the latest revision among several ones. Both <code>latest-time</code> and <code>latest-revision</code> conflict managers are based on this conflict manager type. It takes <code>latest</code> as attribute to define which latest strategy should be used. Example:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;latest-cm name="mylatest-conflict-manager" latest="my-latest-strategy"/&gt;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>compatible-cm<br/>
The latest compatible conflict manager uses a latest strategy to select the latest revision among several ones. It takes <code>latest</code> as an attribute to define which latest strategy should be used. Example:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;compatible-cm name="my-latest-compatible-conflict-manager" latest="my-latest-strategy"/&gt;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>regexp-cm<br/>
This conflict manager is based on a regular expression and throws an exception (i.e. causes a build failure) when a conflict is found with versions with different matching group. For instance, if a conflict is found between 1.2.x and 1.3.y it will throw an exception if the regular expression is <code>(.*)\.\d</code>, because the matching group will match different strings (1.2 and 1.3). 1.2.1 and 1.2.2 won&#8217;t throw an exception with the same regular expression. The regular expression is set using the <code>regexp</code> attribute. A <code>ignoreNonMatching</code> attribute can also be set to simply warn when a version is found which does not match the regular expression, instead of throwing an exception.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_child_elements_24">Child elements</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;"/>
<col style="width: 33.3333%;"/>
<col style="width: 33.3334%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Cardinality</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">any conflict manager</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">adds a conflict manager to the list of available conflict managers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_settings_modules_a_modules"><a id="settings_modules"></a>modules</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_modules_2" class="sect0">modules</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p><strong>Tag:</strong> modules</p>
</div>
<div class="paragraph">
<p><span class="ivysettings.modules">Defines per module or module set settings.</span></p>
</div>
<div class="paragraph">
<p>The rules are given by defining a module set, using a pattern for module organisation and name, and giving some settings for the set, like the name of the corresponding resolver to use.</p>
</div>
<div class="paragraph">
<p>If no rules match a given module, the default setting will be used.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
You can greatly improve the performance of dependency resolution by configuring multiple smaller resolvers instead of one large resolver (i.e. chain). For instance, if you have a local repository for your modules and a remote repository for third party libraries, it is a good idea to have two separate resolvers, one for all of your modules and another for the rest (the default one).
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_child_elements_25">Child elements</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;"/>
<col style="width: 33.3333%;"/>
<col style="width: 33.3334%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Cardinality</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../settings/module.html">module</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">defines a module set rule</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1..n</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_settings_module_a_module"><a id="settings_module"></a>module</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_module" class="sect0">module</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p><strong>Tag:</strong> module</p>
</div>
<div class="paragraph">
<p><span class="ivysettings.modules.module">Define a module set rule.</span> The tag defines a module set, by giving an expression and the matcher to use for organisation, name, revision and any extra attribute identifying your modules. The rule matching is performed in order, and is using a pattern matcher. Hence you can use <code>*</code> to specify all, or simply avoid specifying the attribute.</p>
</div>
<div class="paragraph">
<p>The revision and extra attributes are only used for rules defining the resolver to use. For other settings, use only organisation and module name.</p>
</div>
<div class="paragraph">
<p>It also gives the specific setting to use for this module set.</p>
</div>
<div class="paragraph">
<p>For each module set, you can configure:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the <a href="../settings/resolvers.html">resolver</a> to use<br/></p>
</li>
<li>
<p>the <a href="../settings/conflict-managers.html">conflict manager</a> to use<br/></p>
</li>
<li>
<p>the default <a href="../terminology.html#branch">branch</a> to use<br/></p>
</li>
<li>
<p>the <a href="../use/resolve.html">resolve mode</a> to use<br/></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_33">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">organisation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the organisation to match to apply the rule.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to *</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the module&#8217;s name to match to apply the rule.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to *</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">revision</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the module&#8217;s revision to match to apply the rule. Note that the version may not be resolved yet (be <code>latest.integration</code>, for instance), so be very careful when using this attribute (<strong><em>since 2.0</em></strong>).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to *</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>any extra attribute</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">an extra attribute to match to apply the rule (<strong><em>since 2.0</em></strong>).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to *</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">matcher</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the <a href="../concept.html#matcher">matcher</a> to use to match the modules to which the resolver should be applied (<strong><em>since 1.3</em></strong>).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to exactOrRegexp</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">resolver</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the resolver to apply. The resolver must have been defined in the resolvers section of the settings file.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">conflict-manager</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the conflict manager to apply (<strong><em>since 1.4</em></strong>).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">branch</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the default branch to apply (<strong><em>since 1.4</em></strong>).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">resolveMode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the resolve mode to use (<strong><em>since 2.0</em></strong>).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_examples_19">Examples</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;modules&gt;
  &lt;module organisation="apache" name="*" resolver="myprojectsresolver"/&gt;
&lt;/modules&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Uses myprojectresolver for all modules from <em>apache</em>.</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;modules&gt;
  &lt;module organisation="apache" name="commons-*" matcher="glob" resolver="myapachecommonsresolver"/&gt;
&lt;/modules&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Uses myapachecommonsresolver for all modules beginning with <code>commons-</code> from <code>apache</code>.</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;modules&gt;
  &lt;module organisation="apache" name="commons-[a-z]+" myextra="val.*" matcher="regexp" resolver="myapachecommonsresolver"/&gt;
&lt;/modules&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Uses <code>myapachecommonsresolver</code> for all modules from <code>apache</code> beginning with <code>commons-</code> followed by any number of alphabetic lowercase characters, and with the extra attribute <code>myextra</code> having a value beginning with <code>val.</code>.</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;modules&gt;
  &lt;module organisation="apache" name="ivy*" matcher="glob" conflict-manager="latest-time"/&gt;
&lt;/modules&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Uses <code>latest-time</code> conflict manager for all modules from <code>apache</code> whose name begins with <code>ivy</code>.</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;modules&gt;
  &lt;module organisation="apache" name="ivy*" matcher="glob" branch="fix-103"/&gt;
&lt;/modules&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Uses <code>fix-103</code> as default branch for all modules from <code>apache</code> whose name begins with <code>ivy</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_settings_outputters_a_outputters"><a id="settings_outputters"></a>outputters</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_outputters" class="sect0">outputters</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p><strong>Tag:</strong> outputters</p>
</div>
<div class="paragraph">
<p><span class="ivysettings.outputters">Defines a list of report outputters usable in Ivy.</span></p>
</div>
<div class="paragraph">
<p>A report outputter is used at the end of the resolve process to generate a report of how the resolve has been performed.</p>
</div>
<div class="paragraph">
<p>Two report outputters are registered by default:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a log report outputter (<a href="https://gitbox.apache.org/repos/asf?p=ant-ivy.git;a=blob;f=src/java/org/apache/ivy/plugins/report/LogReportOutputter.java">LogReportOutputter</a>)<br/>
which produces the output on the console at the end of the resolve, which looks like this:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell" data-lang="shell">        ---------------------------------------------------------------------
        |                  |            modules            ||   artifacts   |
        |       conf       | number| search|dwnlded|evicted|| number|dwnlded|
        ---------------------------------------------------------------------
        |      default     |   1   |   1   |   0   |   0   ||   1   |   1   |
        ---------------------------------------------------------------------</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>an xml report outputter (<a href="https://gitbox.apache.org/repos/asf?p=ant-ivy.git;a=blob;f=src/java/org/apache/ivy/plugins/report/XmlReportOutputter.java">XmlReportOutputter</a>)<br/>
which produces an XML report in the cache, which is mandatory for correct Ivy behaviour, since it&#8217;s that report which is used when you do a post resolve step in a separate build from the resolve itself. It&#8217;s also this XML report which is processed to generate all the different reports available in the <a href="../use/report.html">report</a> task.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The child tag used for the parser must be equal to a name of a report outputter type (added with the <code>typedef</code> tag).</p>
</div>
<div class="paragraph">
<p>To see how to define your own report outputter see <a href="../extend.html">Extending Ivy documentation</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_child_elements_26">Child elements</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;"/>
<col style="width: 33.3333%;"/>
<col style="width: 33.3334%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Cardinality</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">any report outputter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">adds a report outputter to the list of available ones</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_settings_statuses_a_statuses"><a id="settings_statuses"></a>statuses</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_statuses" class="sect0">statuses</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p><strong>Tag:</strong> statuses</p>
</div>
<div class="paragraph">
<p>[<strong><em>since 1.4</em></strong>]</p>
</div>
<div class="paragraph">
<p><span class="ivysettings.statuses">Defines the list of available statuses.</span></p>
</div>
<div class="paragraph">
<p>By default, Ivy has 3 statuses: <code>release</code>, <code>milestone</code> and <code>integration</code>. By adding a statuses section to your Ivy settings file, you define the statuses you want to use. Note that in this case, if you still want to have Ivy default statuses, you will have to declare them.</p>
</div>
<div class="paragraph">
<p>The <code>integration</code> property on each status is only used for recursive delivery, an integration dependency being delivered if the caller is not in integration state itself.</p>
</div>
<div class="paragraph">
<p>The <code>default</code> status is the one used when none is defined in a module descriptor. If not specified, it defaults to the last defined status.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The statuses order is important, the first is considered the more mature, the last the less mature. This is used to know if a status is compatible with a <code>latest.<em>&lt;status&gt;</em></code> version matcher.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_34">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">default</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the status to use when none is declared in an Ivy file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to the last status declared</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_child_elements_27">Child elements</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;"/>
<col style="width: 33.3333%;"/>
<col style="width: 33.3334%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Cardinality</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../settings/status.html">status</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">defines a new status</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_examples_20">Examples</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;statuses default="bronze"&gt;
  &lt;status name="gold" integration="false"/&gt;
  &lt;status name="silver" integration="false"/&gt;
  &lt;status name="bronze" integration="true"/&gt;
&lt;/statuses&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Defines 3 statuses, <code>gold</code>, <code>silver</code> and <code>bronze</code>. The default status used when none is declared in an Ivy file will be <code>bronze</code>.
It is also considered an integration status, and thus doesn&#8217;t trigger any recursive delivery.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_settings_status_a_status"><a id="settings_status"></a>status</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_status" class="sect0">status</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p><strong>Tag:</strong> status</p>
</div>
<div class="paragraph">
<p><span class="ivysettings.statuses.status">Define one available module status.</span></p>
</div>
<div class="paragraph">
<p>See <a href="../settings/statuses.html">statuses</a> page for details about how statuses are defined.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_35">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">name of status defined</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">integration</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true if this is an integration status, false otherwise</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to false</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_settings_triggers_a_triggers"><a id="settings_triggers"></a>triggers</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_triggers" class="sect0">triggers</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p><strong>Tag:</strong> triggers</p>
</div>
<div class="paragraph">
<p>[<strong><em>since 1.4</em></strong>]</p>
</div>
<div class="paragraph">
<p><span class="ivysettings.triggers">Defines a list of triggers to activate on some Ivy events.</span></p>
</div>
<div class="paragraph">
<p>A trigger is an action which is performed whenever a particular event occurs.
Ivy supports 3 type of triggers out of the box:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>ant-call<br/>
calls a target in the same build as the original one whenever a particular event occurs.</p>
</li>
<li>
<p>ant-build<br/>
calls an Ant build which may be in another Ant build script.</p>
</li>
<li>
<p>log<br/>
echo a message, usually in a file</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you want to use a different trigger, you can <a href="../extend.html">implement your own</a>.</p>
</div>
<div class="paragraph">
<p>The following events are available in Ivy:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;"/>
<col style="width: 33.3333%;"/>
<col style="width: 33.3334%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Attributes</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pre-resolve</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">* organisation<br/>
the organisation of the module for which the dependencies will be resolved
</p><p class="tableblock">* module<br/>
the name of the module for which the dependencies will be resolved
</p><p class="tableblock">* revision<br/>
the revision of the module for which the dependencies will be resolved
</p><p class="tableblock">* conf<br/>
comma separated list of configurations which will be resolved</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fired at the beginning of the resolve process, before module dependencies and transitive dependencies are resolved.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pre-resolve-dependency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">* organisation<br/>
the organisation of the dependency resolved
</p><p class="tableblock">* module<br/>
the name of the dependency resolved
</p><p class="tableblock">* req-revision<br/>
the requested revision for the dependency (<strong><em>since 2.0</em></strong>) (provided for consistency with post-resolve-dependency)
</p><p class="tableblock">* req-revision-default<br/>
the default requested revision constraint for the dependency (<strong><em>since 2.0</em></strong>)
</p><p class="tableblock">* req-revision-dynamic<br/>
the requested revision dynamic constraint for the dependency (<strong><em>since 2.0</em></strong>)
</p><p class="tableblock">* revision<br/>
the requested revision for the dependency
</p><p class="tableblock">* resolver<br/>
the name of the resolver used to resolve the dependency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fired before each dependency is resolved. In this case resolved means resolving the actual revision if the requested revision is a version constraint and not a static version, and downloading all necessary metadata information.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">post-resolve-dependency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">* organisation<br/>
the organisation of the dependency resolved
</p><p class="tableblock">* module<br/>
the name of the dependency resolved
</p><p class="tableblock">* req-revision<br/>
the requested revision for the dependency (<strong><em>since 2.0</em></strong>)
</p><p class="tableblock">* req-revision-default<br/>
the default requested revision constraint for the dependency (<strong><em>since 2.0</em></strong>)
</p><p class="tableblock">* req-revision-dynamic<br/>
the requested revision dynamic constraint for the dependency (<strong><em>since 2.0</em></strong>)
</p><p class="tableblock">* revision<br/>
the revision of the dependency resolved, or the requested revision if the resolution was not successful
</p><p class="tableblock">* resolved<br/>
true if the resolution was successful, false otherwise
</p><p class="tableblock">* duration<br/>
the time elapsed to resolve the dependency (in ms) (<strong><em>since 2.0</em></strong>)
</p><p class="tableblock">* resolver<br/>
the name of the resolver used to resolve the dependency
</p><p class="tableblock">* any extra attribute<br/>
all extra attributes found on the info tag of the resolved dependency are available (<strong><em>since 2.0</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fired after each dependency is resolved</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">post-resolve</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">* organisation<br/>
the organisation of the module for which the dependencies have been resolved
</p><p class="tableblock">* module<br/>
the name of the module for which the dependencies have been resolved
</p><p class="tableblock">* revision<br/>
the revision of the module for which the dependencies have been resolved
</p><p class="tableblock">* conf<br/>
comma separated list of configurations resolved
</p><p class="tableblock">* resolve-id<br/>
the identifier of the resolution process (<strong><em>since 2.0</em></strong>)
</p><p class="tableblock">* nb-dependencies<br/>
total number of dependencies, including transitive and evicted ones (<strong><em>since 2.0</em></strong>)
</p><p class="tableblock">* nb-artifacts<br/>
total number of artifacts resolved, excluding metadata artifacts (<strong><em>since 2.0</em></strong>)
</p><p class="tableblock">* resolve-duration<br/>
the time (in ms) elapsed to resolve dependencies, before downloading artifacts (<strong><em>since 2.0</em></strong>)
</p><p class="tableblock">* download-duration<br/>
the time (in ms) elapsed to download all artifacts, excluding metadata artifacts downloaded during the first phase of the resolution process (<strong><em>since 2.0</em></strong>)
</p><p class="tableblock">* download-size<br/>
the total size (in bytes) of all downloaded artifacts, excluding metadata artifacts. Only artifacts actually downloaded (not in cache or used from their original location) are considered (<strong><em>since 2.0</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fired at the end of the resolve process, when all module dependencies have been resolved</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pre-download-artifact</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">* organisation<br/>
the organisation of the artifact which is about to be downloaded
</p><p class="tableblock">* module<br/>
the name of the module of the artifact which is about to be downloaded
</p><p class="tableblock">* revision<br/>
the revision of the the artifact which is about to be downloaded
</p><p class="tableblock">* artifact<br/>
the name of the the artifact which is about to be downloaded
</p><p class="tableblock">* type<br/>
the type of the the artifact which is about to be downloaded
</p><p class="tableblock">* ext<br/>
the extension of the the artifact which is about to be downloaded
</p><p class="tableblock">* metadata<br/>
true if the artifact to be downloaded is a metadata artifact, false for published artifacts (<strong><em>since 2.0</em></strong>)
</p><p class="tableblock">* resolver<br/>
the name of the resolver used to download the artifact
</p><p class="tableblock">* origin<br/>
the origin location from which it will be downloaded
</p><p class="tableblock">* local<br/>
true if it&#8217;s a local artifact, false otherwise</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fired before an artifact is downloaded from a repository to the cache</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">post-download-artifact</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">* organisation<br/>
the organisation of the artifact which was just downloaded
</p><p class="tableblock">* module<br/>
the name of the module of the artifact which was just downloaded
</p><p class="tableblock">* revision<br/>
the revision of the the artifact which was just downloaded
</p><p class="tableblock">* artifact<br/>
the name of the the artifact which was just downloaded
</p><p class="tableblock">* type<br/>
the type of the the artifact which was just downloaded
</p><p class="tableblock">* ext<br/>
the extension of the the artifact which was just downloaded
</p><p class="tableblock">* metadata<br/>
true if the downloaded artifact is a metadata artifact, false for published artifacts (<strong><em>since 2.0</em></strong>)
</p><p class="tableblock">* resolver<br/>
the name of the resolver used to download the artifact
</p><p class="tableblock">* origin<br/>
the origin location from which it was downloaded
</p><p class="tableblock">* local<br/>
true if it&#8217;s a local artifact, false otherwise
</p><p class="tableblock">* size<br/>
the size in bytes of the downloaded artifact
</p><p class="tableblock">* duration<br/>
the time elapsed to download the artifact (in ms) (<strong><em>since 2.0</em></strong>)
</p><p class="tableblock">* file<br/>
the file to which it has been downloaded</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fired after an artifact has been downloaded from a repository to the cache</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pre-retrieve (<strong><em>since 2.0</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">* organisation<br/>
the organisation of the module for which the dependencies will be retrieved
</p><p class="tableblock">* module<br/>
the name of the module for which the dependencies will be retrieved
</p><p class="tableblock">* revision<br/>
the revision of the module for which the dependencies will be retrieved
</p><p class="tableblock">* conf<br/>
comma separated list of configurations which will be retrieved
</p><p class="tableblock">* symlink<br/>
true if Ivy will use symbolic links instead of copies on supported platforms, false otherwise
</p><p class="tableblock">* sync<br/>
true if the retrieve process will be performed in sync mode, false otherwise</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fired at the beginning of the retrieve process.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">post-retrieve (<strong><em>since 2.0</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">* organisation<br/>
the organisation of the module for which the dependencies have been retrieved
</p><p class="tableblock">* module<br/>
the name of the module for which the dependencies will be retrieved
</p><p class="tableblock">* revision<br/>
the revision of the module for which the dependencies have been retrieved
</p><p class="tableblock">* conf<br/>
comma separated list of configurations which have been retrieved
</p><p class="tableblock">* symlink<br/>
true if Ivy used symbolic links instead of copies on supported platforms, false otherwise
</p><p class="tableblock">* sync<br/>
true if the retrieve process has been performed in sync mode, false otherwise
</p><p class="tableblock">* duration<br/>
the time elapsed in ms during the retrieve process
</p><p class="tableblock">* size<br/>
the total size of artifacts which have actually been copied (or symlinked)
</p><p class="tableblock">* nbCopied<br/>
the number of artifacts copied or symlinked
</p><p class="tableblock">* nbUptodate<br/>
the number of artifacts which were already present and up to date at the destination location</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fired at the end of the retrieve process.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pre-retrieve-artifact (<strong><em>since 2.1</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">* organisation<br/>
the organisation of the artifact which is about to be retrieved
</p><p class="tableblock">* module<br/>
the name of the module of the artifact which is about to be retrieved
</p><p class="tableblock">* revision<br/>
the revision of the the artifact which is about to be retrieved
</p><p class="tableblock">* artifact<br/>
the name of the the artifact which is about to be retrieved
</p><p class="tableblock">* type<br/>
the type of the the artifact which is about to be retrieved
</p><p class="tableblock">* ext<br/>
the extension of the the artifact which is about to be retrieved
</p><p class="tableblock">* metadata<br/>
true if the retrieved artifact is a metadata artifact, false for published artifacts
</p><p class="tableblock">* size<br/>
the size in bytes of the retrieved artifact
</p><p class="tableblock">* from<br/>
the absolute path from which it will be retrieved (usually a location in cache)
</p><p class="tableblock">* to<br/>
the absolute path to which it will be retrieved</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fired before an artifact is retrieved from the cache to a local location</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">post-retrieve-artifact (<strong><em>since 2.1</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">* organisation<br/>
the organisation of the artifact which has just been retrieved
</p><p class="tableblock">* module<br/>
the name of the module of the artifact which has just been retrieved
</p><p class="tableblock">* revision<br/>
the revision of the the artifact which has just been retrieved
</p><p class="tableblock">* artifact<br/>
the name of the the artifact which has just been retrieved
</p><p class="tableblock">* type<br/>
the type of the the artifact which has just been retrieved
</p><p class="tableblock">* ext<br/>
the extension of the the artifact which has just been retrieved
</p><p class="tableblock">* metadata<br/>
true if the retrieved artifact is a metadata artifact, false for published artifacts
</p><p class="tableblock">* size<br/>
the size in bytes of the retrieved artifact
</p><p class="tableblock">* from<br/>
the absolute path from which it has just been retrieved (usually a location in cache)
</p><p class="tableblock">* to<br/>
the absolute path to which it has just been retrieved</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fired after an artifact is retrieved from the cache to a local location</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pre-publish-artifact (<strong><em>since 2.0</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">* organisation<br/>
the organisation of the artifact which is about to be published
</p><p class="tableblock">* module<br/>
the name of the module of the artifact which is about to be published
</p><p class="tableblock">* revision<br/>
the revision of the the artifact which is about to be published
</p><p class="tableblock">* artifact<br/>
the name of the the artifact which is about to be published
</p><p class="tableblock">* type<br/>
the type of the the artifact which is about to be published
</p><p class="tableblock">* ext<br/>
the extension of the the artifact which is about to be published
</p><p class="tableblock">* resolver<br/>
the name of the resolver into which the artifact is about to be published
</p><p class="tableblock">* file<br/>
the absolute path of the source file for the artifact
</p><p class="tableblock">* overwrite<br/>
"true" if the new data will overwrite existing artifacts, "false" otherwise</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fired before an artifact is published into a repository</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">post-publish-artifact (<strong><em>since 2.0</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">* organisation<br/>
the organisation of the artifact that was published
</p><p class="tableblock">* module<br/>
the name of the module of the artifact that was published
</p><p class="tableblock">* revision<br/>
the revision of the the artifact that was published
</p><p class="tableblock">* artifact<br/>
the name of the the artifact that was published
</p><p class="tableblock">* type<br/>
the type of the the artifact that was published
</p><p class="tableblock">* ext<br/>
the extension of the the artifact that was published
</p><p class="tableblock">* resolver<br/>
the name of the resolver into which the artifact was published
</p><p class="tableblock">* file<br/>
the absolute path of the source file for the artifact
</p><p class="tableblock">* overwrite<br/>
"true" if the new data overwrote existing artifacts, "false" otherwise
</p><p class="tableblock">* status<br/>
"successful" if the artifact published successfully; "failed" if the artifact failed to publish, or if the status is unknown</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fired after an artifact is published into a repository. Note that this event is fired whether or not the publication succeeded.  The "status" property can be checked to verify success.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The child tag used for the dependency resolver must be equal to a name of a trigger type (either built-in or added with the <code>typedef</code> tag).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_child_elements_28">Child elements</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;"/>
<col style="width: 33.3333%;"/>
<col style="width: 33.3334%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Cardinality</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">any trigger</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">adds a trigger to the list of registered triggers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1..n</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_built_in_triggers">Built-in Triggers</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Ivy comes with 3 built-in triggers:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 23.0769%;"/>
<col style="width: 76.9231%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ant-build</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Triggers an Ant build. Note that by default the Ant build is triggered only once per build file, the property onlyonce can be set to false to change this.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ant-call</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Calls a target in the current Ant build.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">log</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Logs a message on the console or in a log file.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_common_a_common_attributes"><a id="common"></a>Common attributes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>All triggers share some common attributes detailed here.</p>
</div>
<div class="paragraph">
<p>Among these attributes, you will find how to select when the trigger should be performed. You have to provide an event name, which is simple, but you can also use a filter expression. The syntax for this expression is very simple and limited:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>you can use the = operator to compare an attribute (left operand) with a value (right operand).</p>
</li>
<li>
<p>you can use AND OR NOT as boolean operators</p>
</li>
<li>
<p>you cannot use parenthesis to change the precedence</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the trigger for identification purpose only</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">event</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the event on which the trigger should be performed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">filter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a filter expression used to restrict when the trigger should be performed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to no filter</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_examples_21">Examples</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;triggers&gt;
    &lt;ant-build antfile="${ivy.settings.dir}/[module]/build.xml" target="publish"
           event="pre-resolve-dependency" filter="revision=latest.integration"/&gt;
&lt;/triggers&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Triggers an Ant build of the Ant file <code>${ivy.settings.dir}/[module]/build.xml</code> (where <code>[module]</code> is replaced by the name of the dependency resolved) with the target "publish", just before resolving a dependency with a <code>latest.integration</code> revision.
Note that by default the Ant build is triggered only once per build file. See below to see how to trigger the build more than once.</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;triggers&gt;
    &lt;ant-build antfile="${ivy.settings.dir}/[module]/build.xml" target="publish"
           event="pre-resolve-dependency" filter="revision=latest.integration"
           onlyonce="false"/&gt;
&lt;/triggers&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Same as before, but this time the builds will be triggered as many time as the dependency is resolved, instead of only once.</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;triggers&gt;
    &lt;ant-call target="unzip" prefix="dep"
          event="post-download-artifact" filter="type=zip AND status=successful"/&gt;
&lt;/triggers&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Triggers an Ant call of the target unzip just after downloading a zip artifact, prefixing all parameters to the target with <code>dep</code>.
Here is how the target can look like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;target name="unzip"&gt;
     &lt;echo&gt;
        unzipping artifact:
        organisation=${dep.organisation}
        module=${dep.module}
        revision=${dep.revision}
        artifact=${dep.artifact}
        type=${dep.type}
        ext=${dep.ext}
        origin=${dep.origin}
        local=${dep.local}
        size=${dep.size}
        file=${dep.file}
     &lt;/echo&gt;
     &lt;mkdir dir="${basedir}/out"/&gt;
     &lt;unzip src="${dep.file}" dest="${basedir}/out"/&gt;
&lt;/target&gt;</code></pre>
</div>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;triggers&gt;
    &lt;log file="ivy.log"
          message='downloaded "${origin}" to "${file}" (${duration}ms - ${size}B)'
          event="post-download-artifact" filter="status=successful"/&gt;
&lt;/triggers&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Logs any successful artifact download, with information on the source and destination, and details on download size and duration.</p>
</div>
<div class="paragraph">
<p>The <code>file</code> attribute is optional, the log trigger will output messages to console if it isn&#8217;t provided.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_settings_version_matchers_a_version_matchers"><a id="settings_version-matchers"></a>version-matchers</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_version_matchers" class="sect0">version-matchers</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p><strong>Tag:</strong> version-matchers</p>
</div>
<div class="paragraph">
<p>[<strong><em>since 1.4</em></strong>]</p>
</div>
<div class="paragraph">
<p><span class="ivysettings.version-matchers">Defines a list of version matchers.</span></p>
</div>
<div class="paragraph">
<p>The child tag used for the version matcher must be equal to a name of a report outputter type (added with the <code>typedef</code> tag).</p>
</div>
<div class="paragraph">
<p>A version matcher is used to evaluate if a dependency version constraint matches a dependency version.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_36">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">usedefaults</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">when set to true, includes the built-in version matchers (Latest, Sub Revision, and Version Ranger Matcher). Exact Revision Matcher is always included</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to false</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_child_elements_29">Child elements</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;"/>
<col style="width: 33.3333%;"/>
<col style="width: 33.3334%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Cardinality</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">any version matcher</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">adds a version matcher to the list of available ones</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_built_in_version_matchers">Built-in Version Matchers</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_exact_revision_matcher">Exact Revision Matcher</h3>
<div class="paragraph">
<p>A matcher that matches a dependency revision id to the module revision id using simple string equality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_sub_revision_matcher">Sub Revision Matcher</h3>
<div class="paragraph">
<p>A matcher that matches all revisions starting with a specific prefix. The syntax is: <code>[prefix]+</code></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;"/>
<col style="width: 50%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Revision</th>
<th class="tableblock halign-left valign-top">Matches</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.0.+</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all revisions starting with '1.0.', like 1.0.1, 1.0.5, 1.0.a</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.1+</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all revisions starting with '1.1', like 1.1, 1.1.5, but also 1.10, 1.11</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_latest_status_matcher">Latest (Status) Matcher</h3>
<div class="paragraph">
<p>A matcher that matches versions based on their status. The predefined statuses in Ivy are <code>release</code>, <code>milestone</code> and <code>integration</code>. It&#8217;s possible to define your own statuses, see <a href="../settings/statuses.html">statuses</a> for more details.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;"/>
<col style="width: 50%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Revision</th>
<th class="tableblock halign-left valign-top">Matches</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">latest.integration</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all versions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">latest.milestone</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all modules having at least 'milestone' as status</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">latest.release</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all modules having at least 'release' as status</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">latest.[any status]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all modules having at least the specified status</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_version_range_matcher">Version Range Matcher</h3>
<div class="paragraph">
<p>Range types are exhaustively listed by example in the table below.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;"/>
<col style="width: 50%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Revision</th>
<th class="tableblock halign-left valign-top">Matches</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[1.0,2.0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all versions greater or equal to 1.0 and lower or equal to 2.0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[1.0,2.0[</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all versions greater or equal to 1.0 and lower than 2.0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">]1.0,2.0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all versions greater than 1.0 and lower or equal to 2.0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">]1.0,2.0[</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all versions greater than 1.0 and lower than 2.0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[1.0,)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all versions greater or equal to 1.0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">]1.0,)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all versions greater than 1.0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">(,2.0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all versions lower or equal to 2.0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">(,2.0[</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all versions lower than 2.0</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_version_pattern_matcher">Version Pattern Matcher</h3>
<div class="paragraph">
<p>The version pattern matcher allows for more flexibility in pattern matching at the cost of adding a matcher declaration in Ivy settings.  A simple example is given below.</p>
</div>
<div class="sect3">
<h4 id="_settings_xml">Settings.xml</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;pattern-vm&gt;
  &lt;match revision="foo" pattern="${major}\.${minor}\.\d+" args="major, minor" matcher="regexp"/&gt;
&lt;/pattern-vm&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_ivy_xml">Ivy.xml</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;dependency org="acme" name="tool" rev="foo(1, 3)"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The version pattern matcher may contain more than one match element.  The matcher will attempt to match a dependency revision against each match in sequence, checking the revision tag (e.g. foo(..)) and then the pattern.
Matcher types may be one of "regexp", "exact", "glob", or "exactOrRegexp".  Glob pattern matching requires Apache ORO 2.0.8 or higher to be on the classpath.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_maven_timestamped_snapshot_version_matcher">Maven timestamped snapshot version matcher</h3>
<div class="paragraph">
<p>[<strong><em>since 2.5</em></strong>]</p>
</div>
<div class="paragraph">
<p>Maven has the notion of timestamped snapshots, which essentially are snapshot versions of a particular Maven artifact, but have a specific timestamp associated with them so that the snapshot revision (which by nature are changing over time), can be traced back to the exact artifacts. Maven allows other artifacts to depend on such timestamped snapshots.</p>
</div>
<div class="paragraph">
<p>Ivy too allows such timestamped dependencies to be part of the module&#8217;s dependencies. For such dependencies to be properly parsed and resolved, a <code>maven-tsnap-vm</code> version matcher needs to be configured in the Ivy settings and <a href="../resolver/ibiblio.html">ibiblio resolver</a> must be one of the resolvers that are used for dependency resolution.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Maven has a specific syntax for timestamped snapshot versions and only such versions are understood by Ivy.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Configuring the <code>maven-tsnap-vm</code> can be done as follows in the Ivy settings file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivysettings&gt;
    &lt;version-matchers ...&gt;
        &lt;maven-tsnap-vm/&gt;
    &lt;/version-matchers&gt;
    ...</code></pre>
</div>
</div>
<div class="paragraph">
<p>An example timestamped snapshot dependency in an Ivy module would look like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy-module version="2.4"&gt;
    &lt;info organisation="org.apache.ivy"
          module="maven-snapshot-deps-test"
          revision="1.2.3"/&gt;
    &lt;dependencies&gt;

        &lt;dependency org="org.apache.ivy.maven-snapshot-test" name="foo-bar" rev="5.6.7-20170911.130943-1"/&gt;
    &lt;/dependencies&gt;
&lt;/ivy-module&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Notice the <code>5.6.7-20170911.130943-1</code> revision on the <code>foo-bar</code> dependency - that represents a timestamped snapshot. For this Ivy module to be resolved correctly, the Ivy settings file should be both backed by the <code>maven-tsnap-vm</code> version matcher and a <code>m2compatible</code> <code>ibiblio</code> resolver, so the settings file would typically look like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivysettings&gt;
    &lt;settings defaultResolver="m2"/&gt;
    &lt;caches defaultCacheDir="${user.home}/.ivy/cache/"/&gt;
    &lt;version-matchers usedefaults="true"&gt;
        &lt;maven-tsnap-vm/&gt;
    &lt;/version-matchers&gt;

    &lt;resolvers&gt;
        &lt;ibiblio name="m2" m2compatible="true" useMavenMetadata="true" root="file://${user.home}/.m2"/&gt;
    &lt;/resolvers&gt;

&lt;/ivysettings&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_settings_timeout_constraints_a_timeout_constraints"><a id="settings_timeout-constraints"></a>timeout-constraints</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_timeout_constraints" class="sect0">timeout-constraints</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p>[<strong><em>since 2.5</em></strong>]</p>
</div>
<div class="paragraph">
<p>Ivy, internally, communicates with various remote systems for dealing with module descriptors and artifacts. This is done through various <a href="../concept.html">dependency resolvers</a> that are configured in the Ivy settings. This communication typically involves opening a connection to the target system and reading content from those systems. As with all remote communication, certain systems can sometimes be slow or even unavailable on some occasions. <span class="ivysettings.timeout-constraints"><code>timeout-constraints</code> in Ivy settings allows you to configure timeouts that can then be used by Ivy while communicating with remote systems.</span></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Although, timeouts are most likely to be used by dependency resolvers, the setting up of timeouts through the use of <code>timeout-constraints</code> doesn&#8217;t really bother about where those timeouts are used. As such, it&#8217;s <em>not</em> an error to have <code>timeout-constraints</code> within a Ivy settings file which may never be referred to by any resolver.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_child_elements_30">Child elements</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;"/>
<col style="width: 33.3333%;"/>
<col style="width: 33.3334%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Cardinality</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../settings/timeout-constraint.html">timeout-constraint</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">defines a new timeout-constraint</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_examples_22">Examples</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;timeout-constraints&gt;
        &lt;timeout-constraint name="test-timeout-1" connectionTimeout="100" readTimeout="500"/&gt;
        &lt;timeout-constraint name="test-timeout-2" readTimeout="20"/&gt;
        &lt;timeout-constraint name="test-timeout-3" connectionTimeout="400"/&gt;
        &lt;timeout-constraint name="test-timeout-4"/&gt;
&lt;/timeout-constraints&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Defines 4 <code>timeout-constraint</code>, each with a name and values for <code>connectionTimeout</code> and <code>readTimeout</code>. More details about the <code>timeout-constraint</code> element is explained in <a href="../settings/timeout-constraint.html">its documentation</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_settings_timeout_constraint_a_timeout_constraint"><a id="settings_timeout-constraint"></a>timeout-constraint</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_timeout_constraint" class="sect0">timeout-constraint</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p><strong>Tag:</strong> timeout-constraint</p>
</div>
<div class="paragraph">
<p><span class="ivysettings.timeout-constraint">Defines a named timeout constraint that can then be referenced from other places of the Ivy settings file, like the <a href="resolvers.html">resolvers</a>.</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_37">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">name of timeout constraint</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">connectionTimeout</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An integer value, in milliseconds, that will be used as the timeout while establishing a connection.<br/>
A value greater than <code>0</code> is used literally as the timeout.<br/>
A value of <code>0</code> indicates no timeout and typically translates to wait-forever kind of semantics.<br/>
A value less than <code>0</code> lets the users of this timeout constraint decide what semantics to use. That effectively, implies implementation specific semantics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>-1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">readTimeout</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An integer value, in milliseconds, that will be used as the timeout while reading content from a resource to which an connection has been established.<br/>
A value greater than <code>0</code> is used literally as the timeout.<br/>
A value of <code>0</code> indicates no timeout and typically translates to wait-forever kind of semantics.<br/>
A value less than <code>0</code> lets the users of this timeout constraint decide what semantics to use. That effectively, implies implementation specific semantics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>-1</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_examples_23">Examples</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">    &lt;timeout-constraints&gt;
        &lt;timeout-constraint name="test-timeout-1" connectionTimeout="100" readTimeout="500"/&gt;
        &lt;timeout-constraint name="test-timeout-2" readTimeout="20"/&gt;
        &lt;timeout-constraint name="test-timeout-3" connectionTimeout="400"/&gt;
        &lt;timeout-constraint name="test-timeout-4"/&gt;
    &lt;/timeout-constraints&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here we see 4 timeout constraints defined:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>test-timeout-1</code> uses a connection timeout of 200 milliseconds and read timeout of 500 milliseconds.</p>
</li>
<li>
<p><code>test-timeout-2</code> uses a read timeout of 20 milliseconds and lets the connection timeout default to -1.</p>
</li>
<li>
<p><code>test-timeout-3</code> uses a connection timeout of 400 milliseconds and lets the read timeout default to -1.</p>
</li>
<li>
<p><code>test-timeout-4</code> lets both the connection timeout and read timeout default to -1.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_ivyfile_a_ivy_files"><a id="ivyfile"></a>Ivy Files</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Ivy use is entirely based on <em>module descriptors</em> known as "Ivy files". Ivy files are XML files, usually called ivy.xml, containing the description of the dependencies of a module, its published artifacts and its configurations.</p>
</div>
<div class="paragraph">
<p>Here is the simplest Ivy file you can write:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy-module version="2.0"&gt;
  &lt;info organisation="myorg"
        module="mymodule"/&gt;
&lt;/ivy-module&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you want to see a sample module descriptor using almost all possibilities of Ivy files, check this one, <a href="samples/ivy-sample-xslt.xml">with</a> or <a href="samples/ivy-sample.xml">without</a> XSLT.</p>
</div>
<div class="paragraph">
<p>Before beginning the reference itself, it is required to have in mind the terminology defined in the <a href="reference.html">main page</a> of this reference documentation.</p>
</div>
<div class="paragraph">
<p>For those familiar with XML schema, the schema used to validate Ivy files can be found <a href="http://ant.apache.org/ivy/schemas/ivy.xsd">here</a>. For those using XSD aware IDE, you can declare the XSD in your Ivy files to benefit from code completion / validation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;ivy-module version="2.0"
            xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
            xsi:noNamespaceSchemaLocation=
                   "http://ant.apache.org/ivy/schemas/ivy.xsd"&gt;
  &lt;info organisation="myorg"
        module="mymodule"/&gt;
&lt;/ivy-module&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_dynamic_and_a_id_resolved_a_resolved_ivy_files">Dynamic and <a id="resolved"></a>resolved Ivy files</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A module descriptor (Ivy file) is needed both before and after the publication of each revision of the module. Depending on the case, a module descriptor can be either <em>dynamic</em> or <em>resolved</em>.</p>
</div>
<div class="sect2">
<h3 id="_dynamic_descriptor_for_module_development">Dynamic descriptor for module development</h3>
<div class="paragraph">
<p>During the module development time, between publications, the descriptor helps in managing all the possibly changing dependencies of the module. For that purpose, development time Ivy files can declare dynamic dependencies to allow for a greater flexibility of use. <a href="ivyfile/dependency.html#revision">Dynamic revision</a> references like <code>latest.integration</code> or <code>1.0.+</code> are possible and may resolve to different artifacts at different times. Variables can be used for even more flexibility. Development time Ivy files are hence called <em>dynamic</em>, because they can produce different results over time. The dynamic Ivy files are normally considered source files and kept with them (under SCM control).</p>
</div>
</div>
<div class="sect2">
<h3 id="_resolved_descriptors_for_publishing">Resolved descriptors for publishing</h3>
<div class="paragraph">
<p>At each publication, another kind of a module descriptor is needed to document the dependencies of the particular published revision of the module. For that purpose, the descriptor usually needs to be fixed as its dependencies should no longer change. In doing so, the published module revision gets fixed, explicitly resolved dependencies. No variables are allowed either. Such publication-friendly, static Ivy files are called <em>resolved</em>, because they should always produce the same results. The resolved Ivy files are comparable to published artifacts and are kept with them in a repository.</p>
</div>
<div class="paragraph">
<p>Resolved Ivy files are generated from their original dynamic Ivy files via the <a href="use/deliver.html">deliver</a> task.</p>
</div>
<div class="paragraph">
<p>Note that although it is technically possible to publish module revisions with dynamic Ivy files, it is not a generally recommended practice.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_hierarchical_index">Hierarchical Index</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><strong>ivy-module</strong></p>
<div class="ulist">
<ul>
<li>
<p><a href="ivyfile/info.html">info</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="ivyfile/license.html">license</a></p>
</li>
<li>
<p><a href="ivyfile/ivyauthor.html">ivyauthor</a></p>
</li>
<li>
<p><a href="ivyfile/repository.html">repository</a></p>
</li>
<li>
<p><a href="ivyfile/description.html">description</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="ivyfile/configurations.html">configurations</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="ivyfile/conf.html">conf</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="ivyfile/publications.html">publications</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="ivyfile/artifact.html">artifact</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="ivyfile/artifact-conf.html">conf</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><a href="ivyfile/dependencies.html">dependencies</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="ivyfile/dependency.html">dependency</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="ivyfile/dependency-conf.html">conf</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="ivyfile/mapped.html">mapped</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="ivyfile/dependency-artifact.html">artifact</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="ivyfile/dependency-artifact-conf.html">conf</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="ivyfile/dependency-artifact.html">include</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="ivyfile/dependency-artifact-conf.html">conf</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="ivyfile/artifact-exclude.html">exclude</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="ivyfile/artifact-exclude-conf.html">conf</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><a href="ivyfile/exclude.html">exclude</a></p>
</li>
<li>
<p><a href="ivyfile/override.html">override</a></p>
</li>
<li>
<p><a href="ivyfile/conflict.html">conflict</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="ivyfile/conflicts.html">conflicts</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="ivyfile/manager.html">manager</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ivy_module">ivy-module</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Tag:</strong> ivy-module</p>
</div>
<div class="paragraph">
<p>The root tag of any Ivy file (module descriptor).</p>
</div>
<div class="sect2">
<h3 id="_attributes_38">Attributes</h3>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">version</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the version of the Ivy file specification - should be '2.0' with current version of Ivy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_child_elements_31">Child elements</h3>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;"/>
<col style="width: 33.3333%;"/>
<col style="width: 33.3334%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Cardinality</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ivyfile/info.html">info</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">contains information about the described module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ivyfile/configurations.html">configurations</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">container for configuration elements</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ivyfile/publications.html">publications</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">container for published artifact elements</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ivyfile/dependencies.html">dependencies</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">container for dependency elements</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ivyfile/conflicts.html">conflicts</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">section to configure the conflict managers to use</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..1</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_ivyfile_info_a_info"><a id="ivyfile_info"></a>info</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Tag:</strong> info <strong>Parent:</strong> <a href="../ivyfile.html">ivy-module</a></p>
</div>
<div class="paragraph">
<p>Gives identification and basic information about the module this Ivy file describes.</p>
</div>
<div class="paragraph">
<p>(<strong><em>since 1.4</em></strong>) This tag supports <a href="../concept.html#extra">extra attributes</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_39">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">organisation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the organisation that is the owner of this module.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the module described by this Ivy file.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">branch</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the branch of this module. (<strong><em>since 1.4</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to the default branch setting, or nothing if no default branch is configured</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">revision</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the revision of this module.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes in repository Ivy files, no in Ivy files to resolve</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">status</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the status of this module. See <a href="../reference.html">terminology</a> section for details</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, default to <code>integration</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">publication</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the date of publication of this module. It should be given in this format: <code>yyyyMMddHHmmss</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, but it&#8217;s a good practice to set it with delivered Ivy files</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_child_elements_32">Child elements</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;"/>
<col style="width: 60%;"/>
<col style="width: 20%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Cardinality</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../ivyfile/extends.html">extends</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">identifies a parent Ivy file from which this descriptor inherits content</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../ivyfile/license.html">license</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">contains information about the licenses of the described module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../ivyfile/ivyauthor.html">ivyauthor</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">describes who has contributed to write the Ivy file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../ivyfile/repository.html">repository</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">describes in which public repositories this module can be found</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../ivyfile/description.html">description</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">describes how to use the module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..1</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>After the description, you can also place your own tags in your own namespace. This allow to provide some custom information about the module.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_ivyfile_extends_a_extends"><a id="ivyfile_extends"></a>extends</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Tag:</strong> extends <strong>Parent:</strong> <a href="../ivyfile/info.html">info</a></p>
</div>
<div class="paragraph">
<p>[<strong><em>since 2.2</em></strong>]</p>
</div>
<div class="paragraph">
<p>Identifies an optional parent descriptor for this module. For complicated projects composed of many modules that have common configurations or dependencies, inheritance allows modules to share this information.  Which parts of the parent descriptor are inherited can be controlled with the <code>extendType</code> attribute.</p>
</div>
<div class="paragraph">
<p>Supported <code>extendType</code> values are:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 23.0769%;"/>
<col style="width: 76.9231%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">info</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Attributes of the <a href="../ivyfile/info.html">info</a> element are inherited from the parent.  When an attribute appears in both child and parent, the child value is used.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The content of the <a href="../ivyfile/description.html">info/description</a> element is inherited from the parent.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">configurations</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../ivyfile/conf.html">Configurations</a> defined in the parent descriptor are added to any configurations defined in the child descriptor.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dependencies</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../ivyfile/dependency.html">Dependencies</a> defined in the parent descriptor are added to any dependencies defined in the child descriptor.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">licenses</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../ivyfile/license.html">Licenses</a> defined in the parent descriptor are added to any licenses defined in the child descriptor.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">all</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">info, description, configurations, licenses and dependencies from the parent descriptor are merged into the child descriptor.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_40">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">organisation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the organisation of the parent module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the parent module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">revision</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the revision of the parent module.  Can be fixed, a dynamic value, or range of revisions; see <a href="../ivyfile/dependency.html">dependency</a> for information on specifying revisions.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">extendType</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">which part(s) of the parent descriptor are inherited.  Valid values are <code>info</code>, <code>description</code>, <code>configurations</code>, <code>dependencies</code>, and <code>all</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, default is <code>all</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">location</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A local filesystem path that should be searched for the parent descriptor.  If the parent descriptor cannot be found at this location, it will be located using dependency resolvers like any normal dependency.
</p><p class="tableblock">This attribute is intended for development use.  For example, child module descriptors appear in a source control directory with the parent module descriptor at a higher level.  <code>location</code> will then contain the relative path to the parent descriptor for use during development builds.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, as long as the parent descriptor exists in an Ivy resolver</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_ivyfile_license_a_license"><a id="ivyfile_license"></a>license</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Tag:</strong> license <strong>Parent:</strong> <a href="../ivyfile/info.html">info</a></p>
</div>
<div class="paragraph">
<p>Gives information about a license of the described module.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_41">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the license. Try to respect spelling when using a classical license.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">url</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">an URL pointing to the license text.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, but it&#8217;s a good practice to indicate it</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_ivyfile_ivyauthor_a_ivyauthor"><a id="ivyfile_ivyauthor"></a>ivyauthor</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Tag:</strong> ivyauthor <strong>Parent:</strong> <a href="../ivyfile/info.html">info</a></p>
</div>
<div class="paragraph">
<p>Gives information about who has contributed to write this Ivy file. It does NOT indicate who
is the author of the module itself.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_42">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the author, as a person or a company.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">url</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">an URL pointing to where the author can be reached.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, but it&#8217;s a good practice to indicate it</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_ivyfile_repository_a_repository"><a id="ivyfile_repository"></a>repository</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Tag:</strong> repository <strong>Parent:</strong> <a href="../ivyfile/info.html">info</a></p>
</div>
<div class="paragraph">
<p>Gives information about a public repository where the module can be found. This information is given as an indication, repositories being able to be down over time.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_43">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the repository. Try to respect spelling for common repositories (ibiblio, ivyrep, &#8230;&#8203;)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">url</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">an URL pointing to the repository.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pattern</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">an Ivy pattern to find modules on this repository</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, but it&#8217;s recommended to indicate it.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ivys</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> if Ivy file can be found on this repository</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>false</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">artifacts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> if module artifacts can be found on this repository</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>false</code>.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_ivyfile_description_a_description"><a id="ivyfile_description"></a>description</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Tag:</strong> description <strong>Parent:</strong> <a href="../ivyfile/info.html">info</a></p>
</div>
<div class="paragraph">
<p>Describes the current module. This tag is the only one which can contain free text,
including HTML. It is used to describe the module itself, usually in a single short phrase
(it is not meant to replace the module description on the corresponding web site), and then
gives all information necessary to use the module, especially information about
public configurations, how and when to use them.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_44">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">homepage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the URL of the homepage of the module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, but it&#8217;s recommended to indicate it.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_ivyfile_configurations_a_configurations"><a id="ivyfile_configurations"></a>configurations</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Tag:</strong> configurations <strong>Parent:</strong> <a href="../ivyfile.html">ivy-module</a></p>
</div>
<div class="paragraph">
<p>A container for configuration elements. If this container is not present, it is assumed that the module has one public configuration called <code>default</code>.</p>
</div>
<div class="paragraph">
<p>(<strong><em>since 2.2</em></strong>) You can define the default conf on this container by specifying the <code>defaultconf</code> attribute. This attribute defines the conf mapping to use when no conf mapping is specified for a dependency in this Ivy file.</p>
</div>
<div class="paragraph">
<p>(<strong><em>since 1.3</em></strong>) You can define a default conf mapping on this container by specifying the <code>defaultconfmapping</code> attribute.</p>
</div>
<div class="paragraph">
<p>This attribute modifies the way Ivy interprets conf mapping with no mapped conf. In this case, Ivy will look in the default conf mapping and use the conf mapping defined in the default conf mapping for the conf for which there is no mapped conf.</p>
</div>
<div class="paragraph">
<p>In order to maintain backwards compatibility with Ivy 2.1.0 and earlier, the <code>defaultconfmapping</code> also provides one additional function. If no <code>defaultconf</code> is specified (on either the configurations tag or the dependencies tag), the <code>defaultconfmapping</code> becomes the default configuration for dependencies in this Ivy file when no configuration is specified. In other words, in addition to altering the interpretation of individual configurations with no mapping, <code>defaultconfmapping</code> also performs exactly like <code>defaultconf</code> in the absence of a definition for <code>defaultconf</code>.</p>
</div>
<div class="paragraph">
<p>If several <code>defaultconfmapping</code> or <code>defaultconf</code> attributes are defined (in the configurations tag, one or several in an included configurations file, and/or in the dependencies tag, then it&#8217;s only the last definition of each property which is taken into account. The others will have no effect at all.</p>
</div>
<div class="paragraph">
<p>See <a href="#defaultconfmapping">examples below</a> to clarify the behavior of these two attributes together.</p>
</div>
<div class="paragraph">
<p>(<strong><em>since 1.4</em></strong>) You can activate a <code>confmappingoverride</code> mode for all configurations, in which case the extending configurations will override the mappings of the configurations they extend from.</p>
</div>
<div class="paragraph">
<p>(<strong><em>since 2.5</em></strong>) Attributes inherited via <a href="extends.html"><code>extends</code></a> are added to both <code>configurations</code> and <code>dependencies</code> on <a href="../use/deliver.html">delivery</a>. If the latter element has attributes, their values override values of the corresponding attributes of the former element.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_attributes_a_attributes"><a id="attributes"></a>Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">defaultconf</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the default conf to use in this Ivy file (<strong><em>since 2.2</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to no default conf</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">defaultconfmapping</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the default conf mapping to use in this Ivy file (<strong><em>since 1.3</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to no default conf mapping</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">confmappingoverride</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> to activate configuration mapping override, <code>false</code> otherwise (<strong><em>since 1.4</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>false</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_child_elements_33">Child elements</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;"/>
<col style="width: 60%;"/>
<col style="width: 20%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Cardinality</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="conf.html">conf</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">declares a configuration of this module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="include.html">include</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">include configurations from another file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_configuration_mappings_details">Configuration mappings details</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When Ivy parses your Ivy file, it will create (internally) modify the configuration mapping of your dependencies.</p>
</div>
<div class="paragraph">
<p>For instance, say you have:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;configurations defaultconfmapping="conf1-&gt;other1;conf2-&gt;other2"&gt;
   &lt;conf name="conf1"/&gt;
   &lt;conf name="conf2" extends="conf1"/&gt;
&lt;/configurations&gt;
&lt;dependencies&gt;
   &lt;dependency name="other-module" conf="conf1"/&gt;
&lt;/dependencies&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>When Ivy parses this file, it will construct the following dependency (in-memory only):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;dependency name="other-module" conf="conf1-&gt;other1"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>So, if you now resolve the <code>conf2</code> configuration, you will only get the other1 dependencies of your other-module.</p>
</div>
<div class="paragraph">
<p>But when you set <code>confmappingoverride</code> to <code>true</code>, Ivy will construct the following dependency in memory:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;dependency name="other-module" conf="conf1-&gt;other1;conf2-&gt;other2"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see, the <code>defaultmappings</code> of the extending configurations are also added (although you didn&#8217;t explicitly defined them)</p>
</div>
<div class="paragraph">
<p>When you now resolve the <code>conf2</code> configuration, you&#8217;ll get the <code>other2</code> dependencies of your <code>other-module</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_examples_involving_defaultconf_and_a_id_defaultconfmapping_a_defaultconfmapping">Examples involving defaultconf and <a id="defaultconfmapping"></a>defaultconfmapping</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The table below indicates how Ivy interprets the conf attribute according to how <a href="#attributes">defaultconfmapping</a> and <a href="#attributes">defaultconf</a> are set:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 40%;"/>
<col style="width: 15%;"/>
<col style="width: 30%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">defaultconf</th>
<th class="tableblock halign-left valign-top">defaultconfmapping</th>
<th class="tableblock halign-left valign-top">conf</th>
<th class="tableblock halign-left valign-top">Ivy interpretation</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*-&gt;*</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>runtime</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>runtime-&gt;runtime</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>test</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>test-&gt;test</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>runtime</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>runtime-&gt;runtime</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>runtime</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>runtime-&gt;*;test-&gt;default</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>runtime-&gt;*</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>runtime</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>runtime-&gt;*;test-&gt;default</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>test</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>test-&gt;default</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>runtime-&gt;*;test-&gt;default</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>runtime-&gt;*;test-&gt;default</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>runtime-&gt;*;test-&gt;default</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>runtime</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>runtime-&gt;*</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>runtime-&gt;*;test-&gt;default</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>test</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>test-&gt;default</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_ivyfile_conf_a_conf"><a id="ivyfile_conf"></a>conf</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Tag:</strong> conf <strong>Parent:</strong> <a href="../ivyfile/configurations.html">configurations</a></p>
</div>
<div class="paragraph">
<p>Declares a configuration of this module. As described in the reference page, a configuration is a way to use or construct a module. Some modules may be used in different ways (think about hibernate which can be used inside or outside an application server), and this way may alter the artifacts you need (in the case of hibernate, jta.jar is needed only if it is used outside an application server). Moreover, a module may need some other modules and artifacts only at build time, and some others at runtime. All those different ways to use or build a module are called module configurations in Ivy.</p>
</div>
<div class="paragraph">
<p>The <code>conf</code> element in the configurations section declares one configuration. This declaration gives the name of the configuration declared, its visibility and the other configurations of the module it extends.</p>
</div>
<div class="paragraph">
<p><code>visibility</code> is used to indicate whether or not a configuration can be used from other modules depending on this one. Thus a private configuration is only used for internal purpose (maybe at build time), and other modules cannot declare to depend on it.</p>
</div>
<div class="paragraph">
<p>A configuration can also extend one or several other ones of the same module. When a configuration extends another one, then all artifacts required in the extended configuration will also be required in the configuration that extends the other one. For instance, if configuration B extends configuration A, and if artifacts art1 and art2 are required in configuration A, then they will be automatically required in configuration B. On the other hand, artifacts required in configuration B are not necessarily required in configuration A.</p>
</div>
<div class="paragraph">
<p>This notion is very helpful to define configurations which are similar with some differences.</p>
</div>
<div class="paragraph">
<p>[<strong><em>since 1.4</em></strong>]</p>
</div>
<div class="paragraph">
<p>The extends attribute can use the following wildcards:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 23.0769%;"/>
<col style="width: 76.9231%;"/>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all other configurations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*(public)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all other public configurations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*(private)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all other private configurations</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>A whole configuration can be declared as non transitive, so that all dependencies resolved in this configuration will be resolved with transitivity disabled. Note that the transitivity is disabled for all the configuration dependencies (including those obtained because this conf extends other ones), and only for this configuration (which means that a conf extending this one with transitivity enabled will get transitive dependencies even for dependencies being part of the non transitive configuration).
This is very useful to build a compile configuration, for instance, forcing the dependency declaration on each direct dependency, with no risk to forget some because of transitivity.</p>
</div>
<div class="paragraph">
<p>This tag supports <a href="../concept.html#extra">extra attributes</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_45">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the declared configuration</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a description for the declared configuration</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">visibility</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the visibility of the declared configuration.
</p><p class="tableblock"><code>public</code> means that this configuration can be used by other modules, while <code>private</code> means that this configuration is used only in the module itself, and is not exposed to other modules</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>public</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">extends</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a comma separated list of configurations of this module that the current configuration extends</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to none</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">transitive</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a boolean to indicate if this conf is transitive or not (<strong><em>since 1.4</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">deprecated</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">indicates that this conf has been deprecated by giving the date of the deprecation.
</p><p class="tableblock">It should be given in this format: <code>yyyyMMddHHmmss</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, by default the conf is not deprecated</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_examples_24">Examples</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;conf name="core" visibility="private"/&gt;
&lt;conf name="compile" extends="core" transitive="false" visibility="private"/&gt;
&lt;conf name="runtime" extends="compile" description="everything needed to run this module"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Declares three configurations, <code>core</code>, <code>compile</code> and <code>runtime</code>, with only the <code>runtime</code> one accessible from other modules, and with the <code>compile</code> one being non transitive.</p>
</div>
<div class="paragraph">
<p>Therefore the <code>core</code> configuration will only be composed of dependencies declared in the <code>core</code> configuration itself, the <code>compile</code> configuration will be composed of all dependencies required in either <code>core</code> or <code>compile</code> configuration, but without transitivity (neither for core nor compile dependencies), and <code>runtime</code> will be composed of all dependencies, all transitively, including the dependencies declared only in <code>compile</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_ivyfile_include_a_include"><a id="ivyfile_include"></a>include</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Tag:</strong> include <strong>Parent:</strong> <a href="../ivyfile/configurations.html">configurations</a></p>
</div>
<div class="paragraph">
<p>[<strong><em>since 1.3</em></strong>]</p>
</div>
<div class="paragraph">
<p>Include configurations specified in another file.</p>
</div>
<div class="paragraph">
<p>The included file should have a <code>configurations</code> tag as root tag, which follow the same specification as the <a href="../ivyfile/configurations.html">configurations</a> tag of the Ivy file.</p>
</div>
<div class="paragraph">
<p>This means that it can contain conf declarations, other file inclusions, and have <a href="configurations.html#attributes">attributes</a> controlling conf mapping.</p>
</div>
<div class="paragraph">
<p>When delivering an Ivy file with such an inclusion, the included descriptor file is inlined, i.e. Ivy removes the dependency on the external file.</p>
</div>
<div class="paragraph">
<p>[<strong><em>since 2.5</em></strong>] Attributes inherited through included file are set on <code>dependencies</code> element due to the way module descriptor updater works currently.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_46">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the file to include</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_examples_25">Examples</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy-module version="1.0"&gt;
  &lt;info organisation="myorg"
         module="mymodule"/&gt;
  &lt;configurations&gt;
    &lt;include file="path/to/included-configurations.xml"/&gt;
    &lt;conf name="conf3"/&gt;
  &lt;/configurations&gt;
  &lt;dependencies&gt;
    &lt;dependency name="mymodule1" rev="1.0"/&gt;
    &lt;dependency name="mymodule2" rev="2.0" conf="conf2,conf3-&gt;*"/&gt;
  &lt;/dependencies&gt;
&lt;/ivy-module&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>with <code>included-configurations.xml</code> like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;configurations defaultconfmapping="*-&gt;@"&gt;
  &lt;conf name="conf1" visibility="public"/&gt;
  &lt;conf name="conf2" visibility="private"/&gt;
&lt;/configurations&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Defines 3 configurations, <code>conf1</code>, <code>conf2</code> and <code>conf3</code>. <code>mymodule1</code> is required in each configuration, with for each the same configuration (<code>conf1</code> is needed in <code>conf1</code>, <code>conf2</code> in <code>conf2</code>, and <code>conf3</code> in <code>conf3</code>) due to the <code>defaultconfmapping</code> defined in the included file.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_ivyfile_publications_a_publications"><a id="ivyfile_publications"></a>publications</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Tag:</strong> publications <strong>Parent:</strong> <a href="../ivyfile.html">ivy-module</a></p>
</div>
<div class="paragraph">
<p>Container for <code>artifact</code> elements, used to describe the artifacts published by this module.</p>
</div>
<div class="paragraph">
<p>If this container is not present, it is assumed that the module has one artifact, with the same name as the module, and published in all module configurations.</p>
</div>
<div class="paragraph">
<p>Thus if you have a module which publishes no artifacts (a sort of virtual module, made only to integrate several other modules as a whole), you have to include a publications element with no <code>artifact</code> sub element.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_47">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">defaultconf</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">comma separated list of public configurations in which artifacts are published by default (when no specific configurations are set on the artifact element).
<code>*</code> wildcard can be used to designate all public configurations of this module. (<strong><em>since 2.0</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>*</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_child_elements_34">Child elements</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;"/>
<col style="width: 60%;"/>
<col style="width: 20%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Cardinality</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../ivyfile/artifact.html">artifact</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">declares a published artifact for this module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_ivyfile_artifact_a_artifact"><a id="ivyfile_artifact"></a>artifact</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Tag:</strong> artifact <strong>Parent:</strong> <a href="../ivyfile/publications.html">publications</a></p>
</div>
<div class="paragraph">
<p>Declares an artifact published by this module. This is especially useful for other modules depending on this one. They thus get all published artifacts belonging to the configurations asked. Indeed, each published artifact declares in which public configuration it is published. Thus a module depending on this module only get artifacts marked with the asked configurations, taking into account configurations extension (see <a href="../ivyfile/conf.html">configuration declaration</a>).</p>
</div>
<div class="paragraph">
<p>The configurations in which an artifact is published can be configured in two ways:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>conf</code> attribute on an <code>artifact</code> element</p>
</li>
<li>
<p><code>conf</code> subelement</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The two are equivalent, it is only a matter of preference. However, do not mix both for one artifact.</p>
</div>
<div class="paragraph">
<p>[<strong><em>since 1.4</em></strong>]</p>
</div>
<div class="paragraph">
<p>The artifact element has default values for all its attributes, so if you want to declare a default artifact you can just declare it like that:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;artifact/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>If this is the only artifact declared, then it&#8217;s equivalent to having no publication section at all.</p>
</div>
<div class="paragraph">
<p>It is possible to give an <code>url</code> at which artifacts can be found. This is not mandatory, and even not recommended. This is only a convenient way to deal with an existing repository with a bad layout, but should not be avoided in an enterprise repository.</p>
</div>
<div class="paragraph">
<p>This tag supports <a href="../concept.html#extra">extra attributes</a>.</p>
</div>
<div class="paragraph">
<p>(<strong><em>since 2.4</em></strong>) This tag supports the 'packaging' attributes; complete documentation can be found in the <a href="../concept.html#packaging">concept page</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_48">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the published artifact. This name must not include revision.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to the name of the module</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the type of the published artifact. It&#8217;s usually its extension, but not necessarily. For instance, Ivy files are of type <code>ivy</code> but have <code>xml</code> extension</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>jar</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ext</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the extension of the published artifact</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to the value of <code>type</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">conf</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">comma separated list of public configurations in which this artifact is published.
</p><p class="tableblock"><code>*</code> wildcard can be used to designate all public configurations of this module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>defaultconf</code> attribute value on parent publications element.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">url</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">an URL at which this artifact can be found if it isn&#8217;t located at the standard location in the repository (<strong><em>since 1.4</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to no URL</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">packaging</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a comma separated list of <a href="../concept.html#packaging">packaging</a> types (<strong><em>since 2.4</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to no packaging</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_child_elements_35">Child elements</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;"/>
<col style="width: 60%;"/>
<col style="width: 20%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Cardinality</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../ivyfile/artifact-conf.html">conf</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">indicates a public configuration in which this artifact is published</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_examples_26">Examples</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;artifact/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Declares an artifact with the name of the module as name, type and ext jar, and published in all configurations.</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;artifact name="foo-src" type="source" ext="zip" conf="src"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Declares an artifact <code>foo-src</code>, of type <code>source</code> with extension <code>zip</code>, and published in the <code>src</code> configuration.</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;artifact name="foo" url="http://www.acme.com/repository/barbaz/foo-1.2-bar.jar"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Declares an artifact <code>foo</code>, of type and extension <code>jar'</code> located at the URL <code>http://www.acme.com/repository/barbaz/foo-1.2-bar.jar</code>. This URL will only be used if the artifact cannot be found at its standard location.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_ivyfile_artifact_conf_a_conf"><a id="ivyfile_artifact-conf"></a>conf</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Tag:</strong> conf <strong>Parent:</strong> <a href="../ivyfile/artifact.html">artifact</a></p>
</div>
<div class="paragraph">
<p>Indicates a public configuration in which enclosing artifact is published.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_49">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the module public configuration in which this artifact is published.
</p><p class="tableblock"><code>*</code> wildcard can be used to designate all public configurations of this module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_ivyfile_dependencies_a_dependencies"><a id="ivyfile_dependencies"></a>dependencies</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Tag:</strong> dependencies <strong>Parent:</strong> <a href="../ivyfile.html">ivy-module</a></p>
</div>
<div class="paragraph">
<p>Container for dependency elements, used to describe the dependencies of this module. If this container is not present, it is assumed that the module has no dependencies at all.</p>
</div>
<div class="paragraph">
<p>This container provides two similar behaviors described below. (See <a href="configurations.html">configurations doc page</a> for more details about these behaviors).</p>
</div>
<div class="paragraph">
<p>(<strong><em>since 1.1</em></strong>) <code>defaultconf</code> defines the <code>conf</code> attribute to use when no conf is defined for a dependency in this Ivy file. It is only used when no conf mapping is defined, and has no influence in other cases.</p>
</div>
<div class="paragraph">
<p>(<strong><em>since 1.3</em></strong>) <code>defaultconfmapping</code> influences the way that a conf mapping with no mapped conf is interpreted.</p>
</div>
<div class="paragraph">
<p>(<strong><em>since 2.2</em></strong>) Attributes <code>defaultconf</code> and <code>defaultconfmapping</code> can be used together. In earlier versions, if both <code>defaultconf</code> and <code>defaultconfmapping</code> are defined, it&#8217;s the <code>defaultconfmapping</code> that is used.</p>
</div>
<div class="paragraph">
<p>(<strong><em>since 1.4</em></strong>) You can activate a <code>confmappingoverride</code> mode for all configurations, in which case the extending configurations will override the mappings of the configurations they extend from.</p>
</div>
<div class="paragraph">
<p>(<strong><em>since 2.5</em></strong>) Attributes inherited via <a href="extends.html"><code>extends</code></a> are added to <code>dependencies</code> only on <a href="../use/deliver.html">delivery</a> and override attributes inherited from <code>configurations</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_50">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">defaultconf</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the default configuration to use when none is specified in a dependency. (<strong><em>since 1.1</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>*-&gt;*</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">defaultconfmapping</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the default configuration mapping to use in this Ivy file. (<strong><em>since 1.3</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to no default conf mapping</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">confmappingoverride</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> to activate configuration mapping override, <code>false</code> otherwise. (<strong><em>since 1.4</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>false</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_child_elements_36">Child elements</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Note: as specified by the ivy.xsd, the children elements are ordered; first must come the <code><a href="dependency.html">dependency</a></code> elements, then the <code><a href="exclude.html">exclude</a></code> elements, then the <code><a href="override.html">override</a></code> elements, and then the <code><a href="conflict.html">conflict</a></code> elements.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;"/>
<col style="width: 60%;"/>
<col style="width: 20%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Cardinality</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="dependency.html">dependency</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">declares a dependency for this module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="exclude.html">exclude</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">excludes artifacts, modules or whole organizations from the set of dependencies of this module (<strong><em>since 2.0</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="override.html">override</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">specifies an override mediation rule, overriding the revision and/or branch requested for a transitive dependency (<strong><em>since 2.0</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="conflict.html">conflict</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">specifies a conflict manager for one or several dependencies (<strong><em>since 2.0</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_ivyfile_dependency_a_dependency"><a id="ivyfile_dependency"></a>dependency</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Tag:</strong> dependency <strong>Parent:</strong> <a href="dependencies.html">dependencies</a></p>
</div>
<div class="paragraph">
<p>Declares a dependency for this module. A dependency is described by the module on which the current module depends (identified by its name, organisation and revision), and a mapping of configurations.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_revision_a_fixed_and_dynamic_revisions"><a id="revision"></a>Fixed and dynamic revisions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The revision can be given as a fixed one (1.5.2, for instance) or as a latest (or dynamic) one. Several possibilities for dynamic revisions are implemented in Ivy:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>latest.integration</code><br/>
selects the latest revision of the dependency module.</p>
</li>
<li>
<p><code>latest.[any status]</code> (<strong><em>since 1.4</em></strong>)<br/>
selects the latest revision of the dependency module with at least the specified status.<br/>
For instance, <code>latest.milestone</code> will select the latest version being either a <code>milestone</code> or a <code>release</code>, and <code>latest.release</code> will only select the latest <code>release</code>. Note that in order to find the latest revision with the appropriate status Ivy has to parse all the Ivy files in your repository from the last one until it finds such a revision. Hence don&#8217;t be surprised if the resolution slow down.
See also <a href="../settings/statuses.html">statuses</a> to see how to configure module statuses.</p>
</li>
<li>
<p>end the revision with a <code>+</code><br/>
selects the latest sub-revision of the dependency module. For instance,
if the dependency module exists in revision 1.0.3, 1.0.7 and 1.1.2, "1.0.+" will select 1.0.7.</p>
</li>
<li>
<p>version ranges (<strong><em>since 1.4</em></strong>)<br/>
mathematical notation for ranges can be used to match a range of version.<br/>
Examples:<br/>
<code>[1.0,2.0]</code> matches all versions greater or equal to 1.0 and lower or equal to 2.0<br/>
<code>[1.0,2.0[</code> matches all versions greater or equal to 1.0 and lower than 2.0<br/>
<code>]1.0,2.0]</code> matches all versions greater than 1.0 and lower or equal to 2.0<br/>
<code>]1.0,2.0[</code> matches all versions greater than 1.0 and lower than 2.0<br/>
<code>[1.0,)</code> matches all versions greater or equal to 1.0<br/>
<code>]1.0,)</code> matches all versions greater than 1.0<br/>
<code>(,2.0]</code> matches all versions lower or equal to 2.0<br/>
<code>(,2.0[</code> matches all versions lower than 2.0 <br/></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>(<strong><em>since 1.4</em></strong>) If you don&#8217;t find a way to expression your dependency version constraint among these, you can <a href="../settings/version-matchers.html">plug your own</a>.
The way to determine which revision is the "latest" between two is configurable through the use of pluggable LatestStrategy. See <a href="../reference.html">Ivy main concepts</a> for details about this.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_revision_constraint_a_revision_constraint"><a id="revision-constraint"></a>Revision constraint</h2>
<div class="sectionbody">
<div class="paragraph">
<p>[<strong><em>since 2.0</em></strong>]</p>
</div>
<div class="paragraph">
<p>The <code>dependency</code> tag supports two revision attributes: <code>rev</code>, corresponding to the default required dependency revision, and <code>revConstraint</code>, corresponding to a dynamic revision constraint applied on this dependency.</p>
</div>
<div class="paragraph">
<p>Depending on the <a href="../use/resolve.html">resolve mode</a> used, the actual revision used during dependency resolution may vary. These revisions usually differ only for modules published in a repository. When <a href="../use/deliver.html">deliver</a> is used, dynamic version constraints are replaced by a static version constraint, to help build reproducibility. However, the information of the original version constraint is not lost, but rather put in the <code>revConstraint</code> attribute. This ensures better metadata in the repository while still allowing easier build reproducibility.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_configurations_mapping">Configurations mapping</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This mapping indicates which configurations of the dependency are required in which configurations of the current module, also called master configurations.</p>
</div>
<div class="paragraph">
<p>There are several ways to declare this mapping of configurations, choose depending more on preference than on possibilities. Try to avoid mixing usage in a single dependency element: do not use both nested and inline mapping declaration.</p>
</div>
<div class="paragraph">
<p>The first way to declare this mapping is called the inline mapping. It is maybe the less natural at first, but it&#8217;s powerful and concise. Inline mapping can take several forms.</p>
</div>
<div class="sect2">
<h3 id="_specify_one_configuration_name">Specify one configuration name</h3>
<div class="paragraph">
<p>This means that in this master configuration the same dependency configuration is needed (except if a <code>defaultconfmapping</code> has been specified in this Ivy file, see <a href="../ivyfile/configurations.html">configurations</a> for details, or table below for examples).</p>
</div>
<div class="paragraph">
<p>For instance, if the current module has defined a configuration named &#8216;runtime&#8217;, and the dependency too, then having an inline mapping configuration set to &#8216;runtime&#8217; means that in the runtime master configuration the runtime dependency configuration is required.</p>
</div>
<div class="paragraph">
<p>The <a href="../ivyfile/configurations.html#defaultconfmapping">examples on the dependency on the configurations page</a> explain how Ivy interprets the conf attribute according to how <a href="../ivyfile/configurations.html">defaultconfmapping</a> and <a href="../ivyfile/configurations.html">defaultconf</a> is set.</p>
</div>
</div>
<div class="sect2">
<h3 id="_specify_a_configuration_mapping_using_the_code_code_operator">Specify a configuration mapping using the <code>-&gt;</code> operator</h3>
<div class="paragraph">
<p>It is separating a comma separated list of master configurations (left operand) of a comma separated list of dependency configurations (right operand).</p>
</div>
<div class="paragraph">
<p>A good way to remember which side is for the master configuration (i.e. the configuration of the module defining the dependency) and which side is for the dependency configuration is to read the <code>-&gt;</code> as "depends on".</p>
</div>
<div class="paragraph">
<p>In this case, all specified dependency configurations are required in all specified master configurations.
For instance, <code>A, B, C -&gt; E, F</code> means that dependency configurations E and F are required in master configurations A, B and C.</p>
</div>
<div class="paragraph">
<p>Note that you can use the wildcard <code>*</code> as a configuration name, meaning that all configurations (either master or dependency public ones depending on the side) are wanted. For instance, <code>* -&gt; B, C</code> means that B &amp; C dependency configurations are required in all master configurations.</p>
</div>
<div class="paragraph">
<p>(<strong><em>since 1.4</em></strong>) you can use <code>*</code> wildcard followed by negated configurations to mean all but xxx. For instance, <code>*, !A, !B -&gt; X</code> means that X dependency configuration is required in all master configurations except A and B.</p>
</div>
<div class="paragraph">
<p>(<strong><em>since 1.2</em></strong>) <code>@</code> also has a special meaning as a right operand of the dependency mapping, it means map to self. This is particularly useful with <code>*</code>, <code>*-&gt;@</code> meaning that all configurations of the module maps to their equivalent (same name) in the dependency.</p>
</div>
<div class="paragraph">
<p>(<strong><em>since 1.4</em></strong>) <code>#</code> can be used as right side operand to mean <em>this</em> configuration, and thus refers to the configuration being resolved. It is slightly similar to <code>@</code>, except that it takes into account the configuration being actually resolved in case of a configuration extending another one.</p>
</div>
<div class="paragraph">
<p>Example: Let&#8217;s foo be a module with two configurations, A and B, B extending A. Then a dependency declaring conf <code>A-&gt;#</code> will get A dep conf in its confs A (when resolving A, Ivy will find interpret the <code><mark></code> symbol as A) and B dep conf in its conf B (when resolving B, Ivy will interpret the <code></mark></code> symbol as B, even if this dependency is only required because of the A dependency).</p>
</div>
<div class="paragraph">
<p>If you don&#8217;t understand really how this works, do not use it :-)</p>
</div>
<div class="paragraph">
<p>(<strong><em>since 1.4</em></strong>) <code>%</code> can be used as left side operand to mean "all the other configurations". This can be useful when you only have a specific mapping for some configurations and a default mapping for all the others. For instance, <code>test-&gt;runtime;%-&gt;default</code> means that the <code>test</code> configuration is mapped to the <code>runtime</code> configuration, but all the other configurations are mapped to the <code>default</code> configuration.</p>
</div>
<div class="paragraph">
<p>(<strong><em>since 1.3</em></strong>) a fallback mechanism can be used when you are not sure that the dependency will have the required conf. You can indicate to Ivy that you want one configuration, but if it isn&#8217;t present, use another one.
The syntax for specifying this adds the fallback conf between parenthesis right after the required conf.</p>
</div>
<div class="paragraph">
<p>For instance, <code>test-&gt;runtime(default)</code> means that in the test configuration of the module the <code>runtime</code> conf of the dependency is required, but if doesn&#8217;t exist, it will use the <code>default</code> conf instead. If <code>default</code> conf doesn&#8217;t exist then it will be considered as an error. Note that the <code>*</code> wildcard can be used as fallback conf.</p>
</div>
<div class="paragraph">
<p>[<strong><em>since 2.1</em></strong>]</p>
</div>
<div class="paragraph">
<p>It is also possible to define dependencies on configuration intersections. A configuration intersection is defined using a <code>+</code> sign to separate the configuration (eg <code>A+B</code> means the intersection of configuration A and B). In that case only artifacts and dependencies defined in both configurations in the dependency will be part of the master configuration defining the dependency on the configuration intersection.</p>
</div>
<div class="paragraph">
<p>Configuration intersections can also be used when specifying the confs to <a href="../use/resolve.html">resolve</a>.</p>
</div>
<div class="paragraph">
<p>Moreover, the mapping <code>*-&gt;@</code> is handled as a specific case with configuration intersections: it maps also the intersections. So if one resolve conf <code>A+B</code> in a module which defines a dependency with mapping <code>*-&gt;@</code>, the mapping <code>*-&gt;@</code> is interpreted as <code>A+B-&gt;A+B</code> so the intersection of A and B will be resolved in the dependency.</p>
</div>
<div class="paragraph">
<p>You can refer to a group of configurations sharing the same value for an attribute as left side part of the dependency mapping. The syntax is <code>*[att=value]</code> where <code>att</code> is the name of the attribute shared by the configurations of the group, and <code>value</code> is the value for this attribute that configurations must have to be part of the group. This is especially useful with extra attributes.</p>
</div>
<div class="paragraph">
<p>For instance, if you have:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;configurations&gt;
    &lt;conf name="red" e:axis="color"/&gt;
    &lt;conf name="blue" e:axis="color"/&gt;

    &lt;conf name="windows" e:axis="platform"/&gt;
    &lt;conf name="linux" e:axis="platform"/&gt;
&lt;/configurations&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then you can do:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;dependency org="acme" name="foo" rev="2.0" conf="*[axis=platform]-&gt;default"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>To map the windows and linux configurations (the one which have the attribute axis equal to platform) to the default configuration of foo.</p>
</div>
<div class="paragraph">
<p>(<strong><em>since 1.4</em></strong>) You can add simple conditions in the right side of the dependency mapping. This is done by adding a condition between <code>[</code> and <code>]</code>. If the condition evaluates to <code>true</code>, the mapping is performed. If the condition evaluates to <code>false</code>, the mapping will be ignored. For instance, <code>test-&gt;[org=A]runtime,[org=B]default</code> means that the <code>test</code> configuration will be mapped to the <code>runtime</code> conf for the dependencies of organisation A and to the <code>default</code> conf for dependencies of organisation B.</p>
</div>
</div>
<div class="sect2">
<h3 id="_specify_a_semi_column_separated_list_of_any_of_the_previous_specs">Specify a semi-column separated list of any of the previous specs.</h3>
<div class="paragraph">
<p>In this case, it is the union of the mapping which is kept. For instance, <code>A -&gt; B; * -&gt; C</code> means that B conf is needed in A conf and C conf is need in all master conf&#8230;&#8203; so both B &amp; C dep conf are required in A master conf</p>
</div>
<div class="paragraph">
<p>If you prefer more verbose mapping declaration, everything is also possible with sub elements mapping declaration.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_artifact_restriction">Artifact restriction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Moreover, the dependency element also supports an artifact restriction feature (since 0.6).
See <a href="../ivyfile/dependency-artifact.html">dependency artifact</a> for details.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_forcing_revision">Forcing revision</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Finally, the dependency element also supports an a force attribute (since 0.8), which gives an indication
to conflict manager to force the revision of a dependency to the one given here.
See <a href="../ivyfile/conflicts.html">conflict manager</a> for details.</p>
</div>
<div class="paragraph">
<p>(<strong><em>since 1.4</em></strong>) This tag supports <a href="../concept.html#extra">extra attributes</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_51">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">org</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the organisation of the dependency.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to the master module organisation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the module name of the dependency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">branch</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the branch of the dependency. (<strong><em>since 1.4</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to the default branch setting for the dependency.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">rev</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the revision of the dependency. See <a href="#revision">above</a> for details.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">revConstraint</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the dynamic revision constraint originally used for this dependency. See <a href="#revision-constraint">above</a> for details.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to the value of <code>rev</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">force</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a boolean to give an indication to conflict manager that this dependency should be forced to this revision (see <a href="../ivyfile/conflicts.html">conflict manager</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">conf</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">an inline mapping configuration spec (see above for details)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>defaultconf</code> attribute of dependencies element if neither conf attribute nor conf children element is given</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">transitive</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> to resolve this dependency transitively, <code>false</code> otherwise (<strong><em>since 1.2</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">changing</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> if the dependency artifacts may change without revision change, false otherwise (<strong><em>since 1.2</em></strong>). See <a href="../concept.html#change">cache and change management</a> for details.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>false</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_child_elements_37">Child elements</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;"/>
<col style="width: 60%;"/>
<col style="width: 20%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Cardinality</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../ivyfile/dependency-conf.html">conf</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">defines configuration mapping has sub element</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../ivyfile/dependency-artifact.html">artifact / include</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">defines artifacts inclusion - use only if you do not control dependency Ivy file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../ivyfile/artifact-exclude.html">exclude</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">defines artifacts exclusion - use only if you do not control dependency Ivy file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_examples_27">Examples</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;dependency org="jayasoft" name="swtbinding" revision="0.2"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Declares a dependency on the module <code>swtbinding</code> from <code>jayasoft</code> in its revision 0.2. All the configuration of this dependency will be included in all configurations of the module in which the dependency is declared.</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;dependency org="jayasoft" name="swtbinding" branch="fix-103" revision="latest.integration"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Same as above except that it will take the latest revision on the branch 'fix-103' instead of revision '0.2'.</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;dependency name="mymodule" revision="latest.integration" conf="test-&gt;default"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Declares a dependency on the module <code>mymodule</code> from the same organisation as the module in which the dependency is declared. The latest available revision of this dependency will be used. This dependency will only be included in the test configuration of the module, and it&#8217;s only the default configuration of the dependency which will be included.</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;dependency org="apache" name="commons-lang" revision="2.0" force="true" conf="default"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Declares a dependency on the module <code>commons-lang</code> from <code>apache</code>, in revision 2.0. The revision 2.0 will be used even if another dependency declares itself a dependency on another version of <code>commons-lang</code>. Moreover, if no <code>defaultconfmapping</code> is defined, only the <code>default</code> conf of <code>commons-lang</code> will be used in the <code>default</code> conf of the master module. If <code>*-&gt;runtime</code> was declared as <code>defaultconfmapping</code>, then the <code>runtime</code> conf of <code>commons-lang</code> would be included in the <code>default</code> conf of the master module. Note that whatever the <code>defaultconfmapping</code> is, the dependency only be included in the default conf of the master module. The <code>defaultconfmapping</code> only changes the required dependency confs.</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;dependency org="foo" name="bar" revision="3.0" transitive="false" conf="default-&gt;@;runtime,test-&gt;runtime"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Declares a dependency on the module <code>bar</code> from <code>foo</code>, in revision 3.0. The dependencies of <code>bar</code> will themselves not be included due to the setting of transitive. The <code>default</code> dependency conf will be included in the <code>default</code> master conf, and the <code>runtime</code> dependency conf will be included in both the <code>runtime</code> and <code>test</code> master conf.</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;dependency org="foo" name="bar" revision="3.0" changing="true" conf="compile-&gt;runtime(default)"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Declares a dependency on the module <code>bar</code> from <code>foo</code>, in revision 3.0. This revision is considered to be able to change (<code>changing="true"</code>), so even if it is already in Ivy&#8217;s cache, Ivy will check if a revision is a more recent last modified date is available on the repository. The <code>runtime</code> conf of <code>bar</code> is required in the <code>compile</code> conf of the master module, but if <code>bar</code> doesn&#8217;t define a <code>runtime</code> conf, then the <code>default</code> conf will be used.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_ivyfile_dependency_conf_a_conf"><a id="ivyfile_dependency-conf"></a>conf</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Tag:</strong> conf <strong>Parent:</strong> <a href="../ivyfile/dependency.html">dependency</a></p>
</div>
<div class="paragraph">
<p>Describes a configuration mapping for a dependency. See also the inline configuration mapping in dependency element.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_52">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the master configuration to map.
</p><p class="tableblock"><code>*</code> wildcard can be used to designate all configurations of this module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">mapped</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a comma separated list of dependency configurations to which this master configuration should be mapped</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, default to the same configuration as master one, unless nested mapped elements are specified</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_child_elements_38">Child elements</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;"/>
<col style="width: 60%;"/>
<col style="width: 20%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Cardinality</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../ivyfile/mapped.html">mapped</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">map dependency configurations for this master configuration</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_ivyfile_mapped_a_mapped"><a id="ivyfile_mapped"></a>mapped</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Tag:</strong> mapped <strong>Parent:</strong> <a href="../ivyfile/dependency-conf.html">conf</a></p>
</div>
<div class="paragraph">
<p>Describes a mapped dependency configuration for a master configuration.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_53">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the dependency configuration mapped.
</p><p class="tableblock"><code>*</code> wildcard can be used to designate all configurations of this module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_ivyfile_dependency_artifact_a_artifact"><a id="ivyfile_dependency-artifact"></a>artifact</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Tag:</strong> artifact <strong>Parent:</strong> <a href="../ivyfile/dependency.html">dependency</a></p>
</div>
<div class="paragraph">
<p>This feature gives you more control on a dependency for which you do not control its Ivy file.
It enables to specify the artifacts required, if the dependency has no Ivy file.</p>
</div>
<div class="paragraph">
<p>Indeed, when a module has no Ivy file, it is assumed that it publishes exactly one artifact having the same name as the module itself. But when this module publishes more artifacts, or simply does not respect the name rule, and if you cannot deliver an Ivy file for it (because you do not control the repository, for instance - think about Maven ibiblio repository, to give no name), then this feature lets you specify the artifact names you want to get.</p>
</div>
<div class="paragraph">
<p>Each artifact specification can be given in the context of particular master configurations. By default, if no configuration is specified, artifacts specification apply to all master configurations. But you can specify that a specification applies only to one or several master configurations, using either inline or nested conf specification. In this case, do not forget that if you do not specify any specification for a particular configuration, then no specification will apply for this configuration and it will be resolved not taking into account any specification.</p>
</div>
<div class="paragraph">
<p>For instance, imagine you have A, B &amp; C master configurations. If you specify art1 in A &amp; B and art2 in A, then C will not be specified at all, and will thus assume the default artifact. To prevent this, you have to specify a configuration mapping for the dependency, mapping only A &amp; B to some or all dependency configurations.</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;dependency org="yourorg" name="yourmodule9" rev="9.1" conf="A,B-&gt;default"&gt;
  &lt;artifact name="art1" type="jar" conf="A,B"/&gt;
  &lt;artifact name="art2" type="jar" conf="A"/&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>(<strong><em>since 1.4</em></strong>) It&#8217;s possible to indicate the URL at which the artifact can be found. This is not mandatory, and even not recommended with an enterprise repository. Note that Ivy will always look at the location where the artifact should be and only use the URL if it cannot be found at the standard location in the repository.</p>
</div>
<div class="paragraph">
<p>(<strong><em>since 1.4</em></strong>) This tag supports <a href="../concept.html#extra">extra attributes</a>.</p>
</div>
<div class="paragraph">
<p>(<strong><em>since 2.0</em></strong>) This feature can also be used for modules having their own module descriptor, but which doesn&#8217;t declare an artifact you know that is published. Note that in this case artifacts declared to be published by the dependency will be ignored, so do not forget to include all artifacts you want.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_54">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of an artifact of the dependency module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the type of the artifact of the dependency module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ext</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the extension of the artifact of the dependency module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to type</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">conf</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">comma separated list of the master configurations in which this artifact should be included.
</p><p class="tableblock"><code>*</code> wildcard can be used to designate all configurations of this module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>*</code>, unless nested conf are specified</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">url</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">an URL where this artifact can be found if it isn&#8217;t present at the standard location in the repository (<strong><em>since 1.4</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to no URL</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_child_elements_39">Child elements</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;"/>
<col style="width: 60%;"/>
<col style="width: 20%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Cardinality</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../ivyfile/dependency-artifact-conf.html">conf</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">configuration in which the artifact should be included</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_examples_28">Examples</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;dependency org="foo" name="bar" rev="1.0"&gt;
  &lt;artifact name="baz" type="jar"/&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Declares a dependency on module bar which only publish one artifact: <code>baz.jar</code>.</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;dependency org="foo" name="bar" rev="1.0"&gt;
  &lt;artifact name="baz" type="jar" url="http://www.acme.com/repository/bar/baz-1.0-acme.jar"/&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Same as above, except that if the artifact is not found at its standard location, Ivy will use <code>http://www.acme.com/repository/bar/baz-1.0-acme.jar</code> to download it.</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;dependency org="foo" name="bar" rev="1.0"&gt;
  &lt;include name="*"/&gt;
  &lt;artifact name="baz" type="source" ext="jar"/&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Declares a dependency on module bar for which all artifacts declared will be used (thanks to the <code>include</code> tag) plus an artifact <code>baz</code> of type <code>source</code> and ext <code>jar</code> (which is not declared in module bar module descriptor).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_ivyfile_dependency_artifact_conf_a_conf"><a id="ivyfile_dependency-artifact-conf"></a>conf</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Tag:</strong> conf <strong>Parent:</strong> <a href="../ivyfile/dependency-artifact.html">artifact</a></p>
</div>
<div class="paragraph">
<p>Specify a configuration in which the enclosing artifact specification should be included.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_55">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the master configuration in which the enclosing artifact should be included</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_ivyfile_artifact_exclude_a_exclude"><a id="ivyfile_artifact-exclude"></a>exclude</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Tag:</strong> exclude <strong>Parent:</strong> <a href="../ivyfile/dependency.html">dependency</a></p>
</div>
<div class="paragraph">
<p>This feature gives you more control on a dependency for which you do not control its Ivy file.
It enables to restrict the artifacts required, by excluding artifacts being published by the dependency or any of its transitive dependencies, even if configuration does not provide a good separation of published artifacts.</p>
</div>
<div class="paragraph">
<p>The same principle concerning configuration as for include applies to this exclude feature (see the <a href="../ivyfile/dependency-include.html">include</a> feature).</p>
</div>
<div class="paragraph">
<p>Note that exclusion is always done AFTER inclusion has been done.</p>
</div>
<div class="paragraph">
<p>(<strong><em>since 1.3</em></strong>) This exclude feature can also be used not only to exclude artifacts but also to exclude whole modules. Indeed when you exclude artifacts, it doesn&#8217;t prevent Ivy from searching for the module itself, and resolving the dependencies of the module. But you can also exclude the entire module, which means that the module will not be downloaded at all, and so its own dependencies will not be resolved. For sure, this is usually done to exclude not a direct dependency but an indirect one. To exclude a whole module, you just have to not specify any artifact name, type and ext in your exclude rule. For instance:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;dependency name="A" rev="1.0"&gt;
  &lt;exclude module="B"/&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>(<strong><em>since 2.0</em></strong>) A <a href="../ivyfile/exclude.html">module wide exclude</a> can also be used to exclude dependencies for the whole module (and not only in the context of one dependency as it is the case here).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_56">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">org</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the organisation of the dependency module or artifact to exclude, or a regexp matching this organisation (<strong><em>since 1.3</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>*</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the dependency module or the artifact to exclude, or a regexp matching this module name (<strong><em>since 1.3</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>*</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of an artifact of the dependency module to add to the exclude list, or an expression matching this name (see <code>matcher</code> attribute below)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>*</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the type of the artifact of the dependency module to add to the exclude list, or a regexp matching this name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>*</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ext</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the extension of the artifact of the dependency module to add to the exclude list, or an expression matching this name (see <code>matcher</code> attribute below)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to the value of <code>type</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">matcher</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the <a href="../concept.html#matcher">matcher</a> to use to match the modules to excludes (<strong><em>since 1.3</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>exactOrRegexp</code> in pre 1.3 Ivy files, and <code>exact</code> in 1.3 and superior</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">conf</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">comma separated list of the master configurations in which this artifact should be excluded.
</p><p class="tableblock"><code>*</code> wildcard can be used to designate all configurations of this module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>*</code>, unless nested conf are specified</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_child_elements_40">Child elements</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;"/>
<col style="width: 60%;"/>
<col style="width: 20%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Cardinality</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../ivyfile/artifact-exclude-conf.html">conf</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">configuration in which the artifact should be excluded</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_ivyfile_artifact_exclude_conf_a_conf"><a id="ivyfile_artifact-exclude-conf"></a>conf</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Tag:</strong> conf <strong>Parent:</strong> <a href="../ivyfile/artifact-exclude.html">artifact</a></p>
</div>
<div class="paragraph">
<p>Specify a configuration in which the enclosing artifact exclusion should be included.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_57">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the master configuration in which the enclosing artifact should be excluded</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_ivyfile_dependency_include_a_include"><a id="ivyfile_dependency-include"></a>include</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Tag:</strong> include <strong>Parent:</strong> <a href="../ivyfile/dependency.html">dependency</a></p>
</div>
<div class="paragraph">
<p>This feature gives you more control on a dependency for which you do not control its Ivy file.
It enables to restrict the artifacts required by including only the artifacts given here, even if configuration does not provide a good separation of published artifacts.</p>
</div>
<div class="paragraph">
<p>Each artifact restriction can be given in the context of particular master configurations. By default, if no configuration is specified, artifact restrictions apply to all master configurations. But you can specify that a restriction applies only to one or several master configurations, using either inline or nested conf specification. In this case, do not forget that if you do not specify any restriction for a particular configuration, then no restriction will apply for this configuration and it will be resolved not taking any restriction into account.</p>
</div>
<div class="paragraph">
<p>For instance, imagine you have A, B &amp; C master configurations. If you restrict to art1 in A &amp; B and art2 in A, then C will not be restricted at all, and will thus get all artifacts of all dependency configurations if you do not specify a configuration mapping. To prevent this, you have to specify a configuration mapping for the dependency, mapping only A &amp; B to some or all dependency configurations.</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;dependency org="yourorg" name="yourmodule9" rev="9.1" conf="A,B-&gt;default"&gt;
  &lt;include name="art1" type="jar" conf="A,B"/&gt;
  &lt;include name="art2" type="jar" conf="A"/&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_58">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of an artifact of the dependency module to add to the include list, or an expression matching this name (see <code>matcher</code> attribute below)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>.*</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the type of the artifact of the dependency module to add to the include list, or an expression matching this name (see <code>matcher</code> attribute below)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>.*</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ext</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the extension of the artifact of the dependency module to add to the include list, or an expression matching this name (see <code>matcher</code> attribute below)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to the value of <code>type</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">matcher</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the <a href="../concept.html#matcher">matcher</a> to use to match the modules to include (<strong><em>since 2.0</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>exactOrRegexp</code> in pre 1.3 Ivy files, and <code>exact</code> in 1.3 and superior</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">conf</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">comma separated list of the master configurations in which this artifact should be included.
</p><p class="tableblock"><code>*</code> wildcard can be used to designate all configurations of this module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>*</code>, unless nested conf are specified</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_child_elements_41">Child elements</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;"/>
<col style="width: 33.3333%;"/>
<col style="width: 33.3334%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Cardinality</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../ivyfile/dependency-include-conf.html">conf</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">configuration in which the artifact should be included</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_ivyfile_dependency_include_conf_a_conf"><a id="ivyfile_dependency-include-conf"></a>conf</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Tag:</strong> conf <strong>Parent:</strong> <a href="../ivyfile/dependency-include.html">include</a></p>
</div>
<div class="paragraph">
<p>Specify a configuration in which the enclosing artifact inclusion should be included.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_59">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the master configuration in which the enclosing artifact should be included</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_ivyfile_exclude_a_exclude"><a id="ivyfile_exclude"></a>exclude</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Tag:</strong> exclude <strong>Parent:</strong> <a href="../ivyfile/dependencies.html">dependencies</a></p>
</div>
<div class="paragraph">
<p>[<strong><em>since 2.0</em></strong>]</p>
</div>
<div class="paragraph">
<p>This feature gives you more control on a dependency for which you do not control its Ivy file.
It allows to exclude artifacts, modules or organizations from the list of dependencies for the whole module.</p>
</div>
<div class="paragraph">
<p>It is very similar to the <a href="../ivyfile/artifact-exclude.html">dependency exclude</a> element, except that it applies to a whole module, which can be very useful when a lot of dependencies transitively bring a module you don&#8217;t want.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_60">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">org</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the organization of the dependency module or artifact to exclude, or a regexp matching this organization</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>*</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the dependency module or the artifact to exclude, or a regexp matching this module name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>*</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">artifact</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of an artifact of the dependency module to add to the exclude list, or an expression matching this name (see <code>matcher</code> attribute below)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>*</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the type of the artifact of the dependency module to add to the exclude list, or a regexp matching this name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>*</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ext</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the extension of the artifact of the dependency module to add to the exclude list, or an expression matching this name (see <code>matcher</code> attribute below)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to the value of <code>type</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">matcher</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the <a href="../concept.html#matcher">matcher</a> to use to match the modules to excludes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>exactOrRegexp</code> in pre 1.3 Ivy files, and <code>exact</code> in 1.3 and superior</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">conf</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">comma separated list of the master configurations in which this artifact should be included.
</p><p class="tableblock"><code>*</code> wildcard can be used to designate all configurations of this module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>*</code>, unless nested conf are specified</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_ivyfile_override_a_override"><a id="ivyfile_override"></a>override</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Tag:</strong> override <strong>Parent:</strong> <a href="../ivyfile/dependencies.html">dependencies</a></p>
</div>
<div class="paragraph">
<p>[<strong><em>since 2.0</em></strong>]</p>
</div>
<div class="paragraph">
<p>Specify an override mediation rule, overriding the revision and/or branch requested for a transitive dependency.</p>
</div>
<div class="paragraph">
<p>This can be useful when a direct dependency is bringing a transitive dependency for which you want to change the revision, without actually declaring a dependency on it (because the module doesn&#8217;t actually depend on it) and without using conflict management for this purpose (maybe because there is no conflict at all, or because you want to bypass conflict management for this particular transitive dependency).</p>
</div>
<div class="paragraph">
<p>Overriding is done before any else, in a phase called dependency descriptor mediation. The transitive dependency then behaves exactly as if it were declared with the new value.</p>
</div>
<div class="paragraph">
<p>Note that even though no attribute is required, it makes no sense to set no attributes at all. It would mean that overriding is triggered for all transitive dependencies, but doesn&#8217;t override anything. Most of the time, at least org or module should be set to override only a subset of transitive dependencies, and at least branch or rev should be set to actually override something.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_61">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">org</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name, or an expression matching the name of organisation to which overriding should be applied (see matcher attribute below)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>*</code> (match all)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name, or an expression matching the name of module to which overriding should be applied (see matcher attribute below)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>*</code> (match all)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">branch</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the branch to set for all the overridden dependency descriptors</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, by default branch is not overridden</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">rev</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the revision to set for all the overridden dependency descriptors</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, by default revision is not overridden</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">matcher</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the <a href="../concept.html#matcher">matcher</a> to use to match the modules for which the conflict manager should be used</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>exact</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_ivyfile_conflict_a_conflict"><a id="ivyfile_conflict"></a>conflict</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Tag:</strong> conflict <strong>Parent:</strong> <a href="../ivyfile/dependencies.html">dependencies</a></p>
</div>
<div class="paragraph">
<p>[<strong><em>since 2.0</em></strong>]</p>
</div>
<div class="paragraph">
<p>Specify a a conflict manager for one or several dependencies.
The way to specify a conflict manager is by giving indication to which dependencies the conflict manager applies (by giving organisation and module names or name regexp), and then specifying the conflict manager, either by giving its name or by specifying a fixed revision list, in which case a fixed conflict manager is used.</p>
</div>
<div class="paragraph">
<p>The list of built-in conflict managers available is listed on the <a href="../settings/conflict-managers.html">conflict manager settings page</a>.</p>
</div>
<div class="paragraph">
<p>Conflict managers are used during the resolve operation, i.e. when Ivy analyses the graph of dependencies and downloads corresponding Ivy files and artifacts. Managing conflicts at resolve time minimizes downloads: when a module is evicted by a conflict manager, it is not downloaded.</p>
</div>
<div class="paragraph">
<p>There are two things optimized during conflict resolution: download of artifacts and download of Ivy files. The first is always ensured by Ivy, i.e. artifacts of a module evicted will never be downloaded. The second is not as simple to handle because in order to know what the conflicts are, Ivy needs to know the dependency graph, and in order to know the dependency graph, it has to download Ivy files. But Ivy is highly optimized for this too, and it tries to evict modules as soon as possible.
That&#8217;s why the order of dependencies is important for download optimization. Indeed, Ivy traverses the dependency graph in the order in which dependencies are declared in the Ivy files, and each time it encounters a dependency on a module, it first checks if there is a conflict on this module, and if this is the case, it asks the conflict manager to resolve the conflict. Then if the module is evicted, it does not download its Ivy file, and the whole branch is not traversed, which can save a lot of time.</p>
</div>
<div class="paragraph">
<p>If no specific conflict manager is defined, a default conflict manager is used for all modules. The current default conflict manager is the <code>latest-revision</code> conflict manager.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_62">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">org</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name, or an expression matching the name of organisation to which this conflict manager should apply (see <code>matcher</code> attribute below)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>*</code> (match all)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name, or an expression matching the name of module to which this conflict manager should apply (see <code>matcher</code> attribute below)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>*</code> (match all)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">manager</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the conflict manager to use</p></td>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock">Exactly one of two</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">rev</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a comma separated list of revisions this conflict manager should select</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">matcher</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the <a href="../concept.html#matcher">matcher</a> to use to match the modules for which the conflict manager should be used</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>exact</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_ivyfile_conflicts_a_conflicts"><a id="ivyfile_conflicts"></a>conflicts</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Tag:</strong> conflicts <strong>Parent:</strong> <a href="../ivyfile.html">ivy-module</a></p>
</div>
<div class="paragraph">
<p>(<strong><em>since 2.0</em></strong>) The conflicts section is deprecated.  Use <a href="../ivyfile/conflict.html">conflict</a> instead.</p>
</div>
<div class="paragraph">
<p>Container for conflict manager elements, used to indicate how conflicts should be resolved for this module.</p>
</div>
<div class="paragraph">
<p>The list of built-in conflict managers available is listed in the <a href="../settings/conflict-managers.html">conflict manager settings page</a>.</p>
</div>
<div class="paragraph">
<p>Conflict managers are used during the resolve operation, i.e. when Ivy analyses the graph of dependencies
and downloads corresponding Ivy files and artifacts. Managing conflict at resolve time
minimizes downloads: when a module is evicted by a conflict manager, it is not downloaded.</p>
</div>
<div class="paragraph">
<p>There are two things optimized during conflict resolution: download of artifacts and download
of Ivy files. The first is always ensured by Ivy, i.e. artifacts of a module evicted will never
be downloaded. The second is not as simple to handle because in order to know what the conflicts are
Ivy needs to know the dependency graph, and in order to know the dependency graph, it has to download
Ivy files. But Ivy is highly optimized for this too, and it tries to evict modules as soon as possible.</p>
</div>
<div class="paragraph">
<p>That&#8217;s why the order of dependencies is important for download optimization. Indeed Ivy
traverses the dependency graph in the order in which dependencies are declared in the Ivy files,
and each time it encounters a dependency on a module, it first checks if there is a conflict on this module,
and if this is the case, it asks the conflict manager to resolve the conflict. Then if the module is evicted,
it does not download its Ivy file, and the whole branch is not traversed, which can save
a lot of time.</p>
</div>
<div class="paragraph">
<p>If this container is not present, a default conflict manager is used for all modules. The current default conflict manager is the <code>latest-revision</code> conflict manager.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_child_elements_42">Child elements</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;"/>
<col style="width: 60%;"/>
<col style="width: 20%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Cardinality</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../ivyfile/manager.html">manager</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">declares a conflict manager for this module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1..n</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_ivyfile_manager_a_manager"><a id="ivyfile_manager"></a>manager</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Tag:</strong> manager <strong>Parent:</strong> <a href="../ivyfile/conflicts.html">conflicts</a></p>
</div>
<div class="paragraph">
<p>(<strong><em>since 2.0</em></strong>) the conflicts section is deprecated.  Use <a href="../ivyfile/conflict.html">conflict</a> instead.</p>
</div>
<div class="paragraph">
<p>Specify a conflict manager for one or several dependencies.</p>
</div>
<div class="paragraph">
<p>The way to specify a conflict manager is by giving indication to which dependencies
the conflict manager applies (by giving organisation and module names or name regexp),
and then specifying the conflict manager, either by giving its name or by
specifying a fixed revision list, in which case a fixed conflict manager is used.</p>
</div>
<div class="paragraph">
<p>See <a href="../ivyfile/conflicts.html">Conflict Manager</a> for details on conflict managers in general.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_63">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">org</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name, or an expression matching the name of organisation to which this conflict manager should apply (see <code>matcher</code> attribute below)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>*</code> (match all)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name, or an expression matching the name of module to which this conflict manager should apply (see <code>matcher</code> attribute below)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>*</code> (match all)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the conflict manager to use</p></td>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock">Exactly one of two</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">rev</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a comma separated list of revisions this conflict manager should select</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">matcher</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the <a href="../concept.html#matcher">matcher</a> to use to match the modules for which the conflict manager should be used (<strong><em>since 1.3</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>exactOrRegexp</code> in pre 1.3 Ivy files, and <code>exact</code> in 1.3 and superior</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_ant_a_ant_tasks"><a id="ant"></a>Ant Tasks</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The main and most frequent way to use Ivy is from an Ant build file. However, Ivy can also be run as a standalone application.</p>
</div>
<div class="paragraph">
<p>If you use Ant version <strong>1.6.0</strong> or superior, you just have to add Ivy&#8217;s namespace to your project (<code>xmlns:ivy="antlib:org.apache.ivy.ant"</code> attribute of your project tag), and you can call Ivy tasks.</p>
</div>
<div class="paragraph">
<p>If you want to make your build handle ivy.jar in either Ant lib dir or a local lib dir, you can use a taskdef like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;path id="ivy.lib.path"&gt;
    &lt;fileset dir="path/to/dir/with/ivy/jar" includes="*.jar"/&gt;
&lt;/path&gt;
&lt;taskdef resource="org/apache/ivy/ant/antlib.xml"
         uri="antlib:org.apache.ivy.ant" classpathref="ivy.lib.path"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Combined with the antlib definition in the project namespace, it will load Ivy classes either from your Ant lib or a local directory (<code>path/to/dir/with/ivy/jar</code> in this example).</p>
</div>
<div class="paragraph">
<p>If you use Ant <strong>1.5.1</strong> or superior, you have to define the tasks you use in your build file. For instance:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">  &lt;taskdef name="ivy-configure" classname="org.apache.ivy.ant.IvyConfigure"/&gt;
  &lt;taskdef name="ivy-resolve" classname="org.apache.ivy.ant.IvyResolve"/&gt;
  &lt;taskdef name="ivy-retrieve" classname="org.apache.ivy.ant.IvyRetrieve"/&gt;
  &lt;taskdef name="ivy-deliver" classname="org.apache.ivy.ant.IvyDeliver"/&gt;
  &lt;taskdef name="ivy-publish" classname="org.apache.ivy.ant.IvyPublish"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><em>Note</em>: the tasks listed above are non exhaustive. For a complete list of tasks with the corresponding classes, see the <a href="https://gitbox.apache.org/repos/asf?p=ant-ivy.git;a=blob;f=src/java/org/apache/ivy/ant/antlib.xml">antlib.xml</a> file in Git repository or the jar file you use.</p>
</div>
<div class="paragraph">
<p>Then you can use the tasks, but check their name, following samples assume you use the Ivy namespace (ivy:xxx tasks), whereas with Ant 1.5 you cannot use namespace, and should therefore use ivy-xxx tasks if you have added the taskdefs as above.</p>
</div>
<div class="paragraph">
<p>If you use an Ant version lower than 1.5.1, you can not use the Ivy tasks&#8230;&#8203; you should then run Ivy as any external program.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_calling_ivy_from_ant_first_steps">Calling Ivy from Ant: first steps</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Once your build file is ok to call Ivy tasks, the simplest way to use Ivy is to call the Ivy retrieve task with no parameters:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:retrieve/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This calls Ivy with default values, which might be ok in several projects. In fact, it is equivalent to:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;target name="resolve"&gt;
    &lt;ivy:configure/&gt;

    &lt;ivy:resolve file="${ivy.dep.file}" conf="${ivy.configurations}"/&gt;

    &lt;ivy:retrieve pattern="${ivy.retrieve.pattern}" conf="${ivy.configurations}"/&gt;
&lt;/target&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Those 3 tasks follow the 3 main steps of the Ivy retrieving dependencies process:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>First the configure task tells it how it can find dependencies giving it a path to a <a href="settings.html">settings XML file</a>.</p>
</li>
<li>
<p>Then the resolve task actually resolves dependencies described by an <a href="ivyfile.html">Ivy file</a>, and puts those dependencies in the Ivy cache (a directory configured in the settings file).</p>
</li>
<li>
<p>Finally the retrieve task copies dependencies from the cache to anywhere you want in your file system. You can then use those dependencies to make your classpath with standard Ant paths.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To understand more accurately the behaviour of Ivy tasks, one should know that a property file is loaded in Ant by Ivy at the beginning of the configure call. This property file contains the following properties:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>ivy.project.dir = ${basedir}
ivy.lib.dir = ${ivy.project.dir}/lib
ivy.build.artifacts.dir = ${ivy.project.dir}/build/artifacts
ivy.distrib.dir = ${ivy.project.dir}/distrib

ivy.resolver.default.check.modified = false
ivy.default.always.check.exact.revision = true

ivy.configurations = *
ivy.resolve.default.type.filter = *
ivy.status = integration
ivy.dep.file = ivy.xml
ivy.settings.file = ivysettings.xml
ivy.retrieve.pattern = ${ivy.lib.dir}/[artifact]-[revision].[ext]
ivy.deliver.ivy.pattern = ${ivy.distrib.dir}/[type]s/[artifact]-[revision].[ext]
ivy.publish.src.artifacts.pattern = ${ivy.distrib.dir}/[type]s/[artifact]-[revision].[ext]

ivy.report.output.pattern = [organisation]-[module]-[conf].[ext]

ivy.buildlist.ivyfilepath = ivy.xml

ivy.checksums=sha1,md5</code></pre>
</div>
</div>
<div class="paragraph">
<p><em>For the latest version of these properties, you can check the <a href="https://gitbox.apache.org/repos/asf?p=ant-ivy.git;a=blob;f=src/java/org/apache/ivy/core/settings/ivy.properties">Git version</a>.</em></p>
</div>
<div class="paragraph">
<p>(<strong><em>since 2.0</em></strong>) After calling the first Ivy task, the property <code>ivy.version</code> will be available and contains the version of the used Ivy library.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ivy_tasks_attributes_generalities">Ivy tasks attributes : generalities</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Some tasks attributes values may be set in different places. The three possible places are :</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>task attribute</p>
</li>
<li>
<p>Ivy instance</p>
</li>
<li>
<p>project property</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The places are queried in this order, so anything set in task attribute will override what would have been found in Ivy instance, for example.</p>
</div>
<div class="paragraph">
<p>The Ivy instance considered here is an instance of the class <code>Ivy</code>, which is set up by a call to the configure task, and then reused for other tasks. Because most of the tasks need an Ivy instance, they first check if one is available (i.e. configure has been called), and if none is available, then a default configure is called and the resulting Ivy instance is used in the remaining tasks (unless another configure is called).</p>
</div>
<div class="paragraph">
<p>It isn&#8217;t generally necessary to understand this, but it can lead to some issues if you forget to call configure before another task and if the configure step was required in your environment.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_usual_cycle_of_main_tasks">Usual cycle of main tasks</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="images/images/main-tasks.png" alt="main tasks"/>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_example_7">Example</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Here is a more complete example of build file using Ivy:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;project xmlns:ivy="antlib:org.apache.ivy.ant" name="sample" default="resolve"&gt;

    &lt;target name="resolve"&gt;
        &lt;ivy:configure file="../ivysettings.xml"/&gt;

        &lt;ivy:resolve file="my-ivy.xml" conf="default, myconf"/&gt;

    &lt;/target&gt;

    &lt;target name="retrieve-default" depends="resolve"&gt;
        &lt;ivy:retrieve pattern="lib/default/[artifact]-[revision].[ext]" conf="default"/&gt;
    &lt;/target&gt;

    &lt;target name="retrieve-myconf" depends="resolve"&gt;
        &lt;ivy:retrieve pattern="lib/myconf/[artifact]-[revision].[ext]" conf="myconf"/&gt;
    &lt;/target&gt;

    &lt;target name="retrieve-all" depends="resolve"&gt;
        &lt;ivy:retrieve pattern="lib/[conf]/[artifact]-[revision].[ext]" conf="*"/&gt;
    &lt;/target&gt;

    &lt;target name="deliver" depends="retrieve-all"&gt;
        &lt;ivy:deliver deliverpattern="distrib/[artifact]-[revision].[ext]"
                     pubrevision="1.1b4" pubdate="20050115123254" status="milestone"/&gt;
    &lt;/target&gt;

    &lt;target name="publish" depends="deliver"&gt;
        &lt;ivy:publish resolver="internal"
                     artifactspattern="distrib/[artifact]-[revision].[ext]"
                     pubrevision="1.1b4"/&gt;
    &lt;/target&gt;
&lt;/project&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>All Ivy tasks are documented in the following pages.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_use_artifactproperty_a_artifactproperty"><a id="use_artifactproperty"></a>artifactproperty</h2>
<div class="sectionbody">
<div class="paragraph">
<p>[<strong><em>since 1.1</em></strong>]</p>
</div>
<div class="paragraph">
<p>Sets an Ant property for each dependency artifact previously resolved.</p>
</div>
<div class="paragraph">
<p>(<strong><em>since 2.0</em></strong>) This is a <a href="../use/postresolvetask.html">post resolve task</a>, with all the behaviour and attributes common to all post resolve tasks.</p>
</div>
<div class="paragraph">
<p>Please prefer the use of retrieve + standard Ant path creation, which make your build more independent from Ivy (once artifacts are properly retrieved, Ivy is not required any more).</p>
</div>
<div class="paragraph">
<p>The property name and value are generated using the classical pattern concept, all artifact tokens and Ivy variables being available.</p>
</div>
<div class="paragraph">
<p>(<strong><em>since 2.0</em></strong>) This tag will follow the Ant usual behavior for properties. If a property with the same name already exists, its value will be unchanged. This behavior can be changed using the <code>overwrite</code> attribute.</p>
</div>
<div class="paragraph">
<p><em>WARNING</em>: Before 2.0, the behavior was to overwrite the properties. Since 2.0, the default is to not overwrite to properties</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_64">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a pattern used to generate the name of the properties to set</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a pattern used to generate the value of the properties to set</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">conf</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a comma separated list of the configurations for which properties should be set</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to the configurations resolved by the last resolve call, or <code>*</code> if no resolve was explicitly called</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">haltonfailure</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> to halt the build on Ivy failure, <code>false</code> to continue</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">validate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> to force validation of Ivy files against ivy.xsd, <code>false</code> to skip validation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to default Ivy value (as configured in settings file)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">settingsRef</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A reference to Ivy settings that must be used by this task (<strong><em>since 2.0</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, <code>ivy.instance</code> is taken by default.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">overwrite</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Overwrite the value of the property if it already exists (<strong><em>since 2.0</em></strong>). Before 2.0, the properties were always overwritten.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, <code>false</code> by default.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_example_8">Example</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Suppose we have one dependency called <code>mydep</code> in revision 1.0 publishing two artifacts: <code>foo.jar</code> and <code>bar.jar</code>.
Then:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;artifactproperty conf="build"
       name="[module].[artifact]-[revision]"
       value="${cache.dir}/[module]/[artifact]-[revision].[ext]"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>will set two properties:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties" data-lang="properties">mydep.foo-1.0 = my/cache/dir/mydep/foo-1.0.jar
mydep.bar-1.0 = my/cache/dir/mydep/bar-1.0.jar</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_use_artifactreport_a_artifactreport"><a id="use_artifactreport"></a>artifactreport</h2>
<div class="sectionbody">
<div class="paragraph">
<p>[<strong><em>since 1.4</em></strong>]</p>
</div>
<div class="paragraph">
<p>The <code>artifactreport</code> task generates an XML report of all artifact dependencies resolved by the last <a href="../use/resolve.html">resolve</a> task call during the same build.</p>
</div>
<div class="paragraph">
<p>(<strong><em>since 2.0</em></strong>) This is a <a href="../use/postresolvetask.html">post resolve task</a>, with all the behaviour and attributes common to all post resolve tasks.</p>
</div>
<div class="paragraph">
<p>This report is different from the standard <a href="../use/report.html">report</a> which reports all modules and artifacts, while this report is much simpler and focuses only on artifacts, and gives more information on artifacts, such as the original location and the retrieve location.</p>
</div>
<div class="paragraph">
<p>It is thus easy to use to generate things like a classpath file for an IDE.</p>
</div>
<div class="paragraph">
<p>See this <a href="http://www.jaya.free.fr/ivy/doc/articles/ease-multi-module.html">article by Johan Stuyts</a> (who contributed this task) to see how he uses this task.</p>
</div>
<div class="paragraph">
<p>Here is an example of generated file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;modules&gt;
  &lt;module organisation="hippo" name="sant-classes" rev="1.01.00b04-dev" status="integration"&gt;
    &lt;artifact name="sant-classes-src" ext="zip" type="zip"&gt;
      &lt;origin-location is-local="true"&gt;
        C:/home/jstuyts/data/ivy/local/hippo/sant-classes/1.01.00b04-dev/sant-classes-src-1.01.00b04-dev.zip&lt;/origin-location&gt;
      &lt;cache-location&gt;
        C:/home/jstuyts/data/ivy/cache/hippo/sant-classes/zips/sant-classes-src-1.01.00b04-dev.zip&lt;/cache-location&gt;
      &lt;retrieve-location&gt;lib/test/sant-classes-src-1.01.00b04-dev.zip&lt;/retrieve-location&gt;
    &lt;/artifact&gt;
    &lt;artifact name="sant-classes-unoptimized" ext="jar" type="jar"&gt;
      &lt;origin-location is-local="true"&gt;
        C:/home/jstuyts/data/ivy/local/hippo/sant-classes/1.01.00b04-dev/sant-classes-unoptimized-1.01.00b04-dev.jar&lt;/origin-location&gt;
      &lt;cache-location&gt;
        C:/home/jstuyts/data/ivy/cache/hippo/sant-classes/jars/sant-classes-unoptimized-1.01.00b04-dev.jar&lt;/cache-location&gt;
      &lt;retrieve-location&gt;lib/test/sant-classes-unoptimized-1.01.00b04-dev.jar&lt;/retrieve-location&gt;
    &lt;/artifact&gt;
  &lt;/module&gt;
  &lt;module organisation="testng" name="testng" rev="4.6.1-jdk15" status="release"&gt;
    &lt;artifact name="testng" ext="jar" type="jar"&gt;
      &lt;origin-location is-local="false"&gt;
        http://repository.hippocms.org/maven/testng/jars/testng-4.6.1-jdk15.jar&lt;/origin-location&gt;
      &lt;cache-location&gt;C:/home/jstuyts/data/ivy/cache/testng/testng/jars/testng-4.6.1-jdk15.jar&lt;/cache-location&gt;
      &lt;retrieve-location&gt;lib/test/testng-4.6.1-jdk15.jar&lt;/retrieve-location&gt;
    &lt;/artifact&gt;
  &lt;/module&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_65">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tofile</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the file to which the report should be written</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pattern</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the retrieve pattern to use for adding the retrieve location information about the artifacts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>${ivy.retrieve.pattern}</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">conf</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a comma separated list of the configurations to use to generate the report</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to the configurations resolved by the last resolve call</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">haltonfailure</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> to halt the build on Ivy failure, <code>false</code> to continue</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">settingsRef</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A reference to Ivy settings that must be used by this task (<strong><em>since 2.0</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, <code>ivy.instance</code> is taken by default.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_examples_29">Examples</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:artifactreport tofile="${basedir}/path/to/myreport.xml"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Generates the artifact report for all configurations resolved during the last resolve call (in the same build).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:artifactreport tofile="${basedir}/path/to/myreport.xml" conf="default"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Generates the artifact report for only the default configuration resolved during the last resolve call.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_use_buildlist_a_buildlist"><a id="use_buildlist"></a>buildlist</h2>
<div class="sectionbody">
<div class="paragraph">
<p>[<strong><em>since 1.2</em></strong>]</p>
</div>
<div class="paragraph">
<p>The <code>buildlist</code> task enables to obtain a <code>filelist</code> of files (usually <code>build.xml</code> files) ordered according to Ivy dependency information from the least dependent to the most one, or the inverse.</p>
</div>
<div class="paragraph">
<p>This is particularly useful combined with <code>subant</code>, to build a set of interrelated projects being sure that a dependency will be built before any module depending on it.</p>
</div>
<div class="paragraph">
<p>When the <code>ivy.xml</code> of the modules that you want to order doesn&#8217;t contain <a href="../ivyfile/info.html">revision</a> numbers, the <code>rev</code> attributes declared in the dependencies are not used.
When the <code>ivy.xml</code> of the modules that you want to order contains <a href="../ivyfile/info.html">revision</a> numbers, the revision numbers are used. If the revision number doesn&#8217;t match a dependency description, a warning is logged and the modules are considered to be different modules.</p>
</div>
<div class="paragraph">
<p>(<strong><em>since 1.3</em></strong>) A <code>root</code> attribute can also be used to include, among all the modules found, only the ones that are dependencies (either direct or transitive) of a root module. This can also be used with the <code>excluderoot</code> attribute, which when set to <code>true</code> will exclude the root itself from the list.</p>
</div>
<div class="paragraph">
<p>(<strong><em>since 1.4.1</em></strong>) A <code>leaf</code> attribute can also be used to include, among all the modules found, only the ones that have dependencies (either direct or transitive) on a leaf module. This can also be used with the <code>excludeleaf</code> attribute, which when set to <code>true</code> will exclude the leaf itself from the list.</p>
</div>
<div class="paragraph">
<p>(<strong><em>since 1.4</em></strong>) The <code>ivy.sorted.modules</code> property is set in Ant project at the end of the task with a comma separated list of ordered modules. This can be useful for debug or information purpose.</p>
</div>
<div class="paragraph">
<p>(<strong><em>since 2.0</em></strong>) The <code>root</code> and <code>leaf</code> attributes can be a delimited list of modules to use as roots. These modules, and all their dependencies will be included in the build list.</p>
</div>
<div class="paragraph">
<p>(<strong><em>since 2.5</em></strong>) The root and leaf modules can also be specified as nested <code>root</code> and <code>leaf</code> elements. This way, not only the module name can be specified, but also the organisation, revision and branch of the root/leaf.</p>
</div>
<div class="paragraph">
<p>By default, all the modules included in a circular dependency are grouped together so that any dependency of any module in the loop will appear before the modules in the loop. This guarantees that if there is a dependency path between a module A and a module B (but no dependency path from B to A), B will always appear before A even if A is included in a loop in the provided set of modules to sort.
Note that a circular dependency can also trigger a failure depending on the value configured in the <code>circularDependencyStrategy</code> of your <a href="../settings/conf.html#circularDependencyStrategy">settings</a></p>
</div>
<div class="paragraph">
<p>When you are specifying <code>root</code> or <code>leaf</code> modules you can limit the resulting list to only direct dependencies of the root modules or to modules that directly depends on your leaf modules.</p>
</div>
<div class="paragraph">
<p>You can also specify a <code>restartFrom</code> modules. The difference with <code>root</code> or <code>leaf</code> is that you get a list starting at the <code>restartFrom</code> module followed by all the modules that would be after if the parameter would not be there (even if there is no dependency between the <code>restartFrom</code> and the following module).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_66">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">reference</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the reference of the path to set</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ivyfilepath</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the relative path from files to order to corresponding Ivy files</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>${ivy.buildlist.ivyfilepath}</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">root</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(<strong><em>since 2.0</em></strong>) the names of the modules which should be considered as the root of the buildlist.
</p><p class="tableblock">(<strong><em>since 1.3</em></strong>) Was limited to only one module name before 2.0.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to no root (all modules are used in the build list)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">excluderoot</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(<strong><em>since 1.3</em></strong>) <code>true</code> if the root defined should be excluded from the list</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">leaf</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(<strong><em>since 2.0</em></strong>) the names of the modules which should be considered as the leaf of the buildlist.
</p><p class="tableblock">(<strong><em>since 1.4.1</em></strong>) Was limited to only one module name before 2.0.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to no leaf (all modules are used in the build list)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">onlydirectdep</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(<strong><em>since 2.0</em></strong>) <code>true</code> if the resulting list should be restricted to direct dependencies of root modules or modules that directly depends on the leaf modules.
</p><p class="tableblock">This field is ignored when neither root nor leaf is filled.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to no <code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">delimiter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(<strong><em>since 2.0</em></strong>) delimiter to use when specifying multiple module names in the root and leaf properties.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to the comma (<code>,</code>) character.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">excludeleaf</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(<strong><em>since 1.4.1</em></strong>) <code>true</code> if the leaf defined should be excluded from the list</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">haltonerror</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> to halt the build when an invalid Ivy file is encountered, false to continue</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="line-through">skipbuildwithoutivy</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Deprecated, use <code>onMissingDescriptor</code> instead.</em> <code>true</code> to skip files of the fileset with no corresponding Ivy file, <code>false</code> otherwise. If <code>false</code> the file with no corresponding Ivy file will be considered as independent of the other and put at the beginning of the built filelist.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">onMissingDescriptor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(<strong><em>since 2.0</em></strong>) Specify the action to take when no module descriptor file is found for a file of the fileset. Possible values are:<br/>
* <code>head</code>: put at the head of the built filelist.<br/>
* <code>tail</code>: put at the tail of the built filelist.<br/>
* <code>skip</code>: skip the file, which won&#8217;t be put in the build filelist at all.<br/>
* <code>warn</code>: warn and put at the head of the build filelist.<br/>
* <code>fail</code>: halt the build with a failure.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>head</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">reverse</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> to obtain the list in the reverse order, i.e. from the most dependent to the least one</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to default <code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">restartFrom</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(<strong><em>since 2.0</em></strong>) The name of the module which should be considered as the starting point in the buildlist. This allows for the build to be started at any point in the dependency chain.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>*</code> meaning no restart point (all modules are used in the build list).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">settingsRef</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(<strong><em>since 2.0</em></strong>) A reference to Ivy settings that must be used by this task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, <code>ivy.instance</code> is taken by default.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_child_elements_43">Child elements</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Cardinality</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">root</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(<strong><em>since 2.5</em></strong>) Declares a root module.
</p><p class="tableblock">This element takes the following attributes:<br/>
* <code>organisation</code>: the organisation of the root module (defaults to *)<br/>
* <code>module</code>: the name of the root module (defaults to *)<br/>
* <code>revision</code>: the revision of the root module (defaults to *)<br/>
* <code>branch</code>: the branch of the root module (default to *)
* <code>file</code>: a specific ivy.xml file to use as root module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">leaf</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(<strong><em>since 2.5</em></strong>) Declares a leaf module.
</p><p class="tableblock">This element takes the following attributes:<br/>
* <code>organisation</code>: the organisation of the leaf module (defaults to *)<br/>
* <code>module</code>: the name of the leaf module (defaults to *)<br/>
* <code>revision</code>: the revision of the leaf module (defaults to *)<br/>
* <code>branch</code>: the branch of the leaf module (default to *)
* <code>file</code>: a specific ivy.xml file to use as leaf module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_parameters_specified_as_nested_elements">Parameters specified as nested elements</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_fileset">fileset</h3>
<div class="paragraph">
<p>FileSets are used to select sets of files to order.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_examples_30">Examples</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">    &lt;ivy:buildlist reference="build-path"&gt;
      &lt;fileset dir="projects" includes="**/build.xml"/&gt;
    &lt;/ivy:buildlist&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Builds a list of <code>build.xml</code> files sorted according to the <code>ivy.xml</code> files found at the same level (the default value for <code>ivyfilepath</code> is <code>ivy.xml</code>).</p>
</div>
<div class="paragraph">
<p>This list can then be used like that:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">    &lt;subant target="build" buildpathref="build-path"/&gt;</code></pre>
</div>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">    &lt;ivy:buildlist reference="build-path" ivyfilepath="ivy/ivy.xml" reverse="true"&gt;
      &lt;fileset dir="projects" includes="**/build.xml"/&gt;
    &lt;/ivy:buildlist&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Builds a list of <code>build.xml</code> files sorted according to the <code>ivy.xml</code> files found in an Ivy directory relative to those build files. The list is sorted from the most dependent to the least one.</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">    &lt;ivy:buildlist reference="build-path" ivyfilepath="ivy/ivy.xml" root="myapp"&gt;
      &lt;fileset dir="projects" includes="**/build.xml"/&gt;
    &lt;/ivy:buildlist&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Builds a list of <code>build.xml</code> files sorted according to the <code>ivy.xml</code> files found in an Ivy directory relative to those build files. Only <code>build.xml</code> files of modules which are dependencies of <code>myapp</code> (either direct or transitive) are put in the result list.</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">    &lt;ivy:buildlist reference="build-path" ivyfilepath="ivy/ivy.xml" leaf="mymodule"&gt;
      &lt;fileset dir="projects" includes="**/build.xml"/&gt;
    &lt;/ivy:buildlist&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Builds a list of <code>build.xml</code> files sorted according to the <code>ivy.xml</code> files found in an Ivy directory relative to those build files. Only <code>build.xml</code> files of modules which have dependencies (direct or transitive) on <code>mymodule</code> are put in the result list.</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">    &lt;ivy:buildlist reference="build-path" ivyfilepath="ivy/ivy.xml"&gt;
      &lt;root organisation="myorg" module="myapp" /&gt;
      &lt;fileset dir="projects" includes="**/build.xml"/&gt;
    &lt;/ivy:buildlist&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Builds a list of <code>build.xml</code> files sorted according to the <code>ivy.xml</code> files found in an Ivy directory relative to those build files. Only <code>build.xml</code> files of modules which are dependencies of <code>myorg#myapp</code> (either direct or transitive) are put in the result list.</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">    &lt;ivy:buildlist reference="build-path" ivyfilepath="ivy/ivy.xml"&gt;
      &lt;root file="/path/to/myapp-ivy.xml" /&gt;
      &lt;fileset dir="projects" includes="**/build.xml"/&gt;
    &lt;/ivy:buildlist&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Builds a list of <code>build.xml</code> files sorted according to the <code>ivy.xml</code> files found in an Ivy directory relative to those build files. Only <code>build.xml</code> files of modules which are dependencies defined in <code>/path/to/myapp-ivy.xml</code> (either direct or transitive) are put in the result list.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_use_buildnumber_a_buildnumber"><a id="use_buildnumber"></a>buildnumber</h2>
<div class="sectionbody">
<div class="paragraph">
<p>[<strong><em>since 1.4</em></strong>]</p>
</div>
<div class="paragraph">
<p>The <code>buildnumber</code> task is similar to the Ant <code>buildnumber</code> task, except that it uses Ivy repository to find what is the latest version and calculate a new one for you.</p>
</div>
<div class="paragraph">
<p>When called, it sets four properties according to what has been found. These properties are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ivy.revision</code>: the last revision found in the repository</p>
</li>
<li>
<p><code>ivy.new.revision</code>: the new revision calculated from the last one (see below)</p>
</li>
<li>
<p><code>ivy.build.number</code>: the build number found in the repository</p>
</li>
<li>
<p><code>ivy.new.build.number</code>: the new build number calculated from the last one, usually with +1</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Build numbers are always numbers (composed of digit characters only).</p>
</div>
<div class="paragraph">
<p><code>ivy.revision</code> can be not set if no revision was found.</p>
</div>
<div class="paragraph">
<p><code>ivy.build.number</code> can be not set if no revision was found or if no number was found in it.</p>
</div>
<div class="paragraph">
<p><code>ivy.new.build.number</code> can be not set if the default new revision to use when no revision is found does not contain some number.</p>
</div>
<div class="paragraph">
<p>The new revision is calculated using a somewhat complex to explain but very easy to use algorithm, depending on which latest version you asked.</p>
</div>
<div class="paragraph">
<p>Indeed you can ask for a new revision based upon the latest found for a particular prefix (the revision asked), then the new revision will be the one immediately after with only the prefix in common. If no prefix is set the very latest version is searched.</p>
</div>
<div class="paragraph">
<p>Examples (suppose the latest version of the module is 1.3.1):</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;"/>
<col style="width: 20%;"/>
<col style="width: 20%;"/>
<col style="width: 20%;"/>
<col style="width: 20%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">revision asked</th>
<th class="tableblock halign-center valign-middle">ivy.revision</th>
<th class="tableblock halign-center valign-middle">ivy.new.revision</th>
<th class="tableblock halign-center valign-middle">ivy.build.number</th>
<th class="tableblock halign-center valign-middle">ivy.new.build.number</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1.3</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1.3.1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1.3.2</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1.3.1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1.4</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">3</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">4</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">2</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">not set</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">2.0</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">not set</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">0</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1.3.1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1.3.2</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">2</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Note that when asking for revision 1, you can get a revision 10.0. To avoid that you can use 1. as revision asked, but in this case Ivy won&#8217;t find revision 1 if its the latest one, and it will thus give 1.0 as new revision. The solution to this problem is to use versions with always the same number of parts (for instance, 1.0.0 instead of 1).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_67">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">organisation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the organisation of the module for which a new build number should be calculated</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the module for which a new build number should be calculated</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">branch</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the branch of the module for which a new build number should be calculated</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to the default branch for this module</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">revision</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the revision prefix for which a new build number should be calculated</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to no prefix (will find the latest version)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">default</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the default revision to assume when no revision prefix is asked and no revision is found</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to 0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">defaultBuildNumber</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the default build number to use for the first revision</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to 0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">revSep</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the revision separator to use when no matching revision is found, to separate the revision prefix from the build number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>.</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">prefix</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the prefix to use for the property names set (will be <code><em>prefix</em>.revision</code>, <code><em>prefix</em>.new.revision</code>, &#8230;&#8203;)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>ivy</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">settingsRef</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A reference to Ivy settings that must be used by this task (<strong><em>since 2.0</em></strong>).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, <code>ivy.instance</code> is taken by default.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">resolver</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the resolver to use for build number calculation (<strong><em>since 2.1</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, all available resolvers will be used by default.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_examples_31">Examples</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Here is how it can be used (suppose 1.3.1 is the latest version of Ivy in the repository):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:buildnumber organisation="apache" module="ivy"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>will set 1.3.1 as revision, 1.3.2 as new revision, 1 as build number and 2 as new build number</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:buildnumber organisation="apache" module="ivy" revision="1.3"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>will set 1.3.1 as revision, 1.3.2 as new revision, 1 as build number and 2 as new build number</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:buildnumber organisation="apache" module="ivy" revision="1.2"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>will set 1.2 as revision, 1.2.1 as new revision, no build number and 1 as new build number</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:buildnumber organisation="apache" module="ivy" revision="1."/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>will set 1.3.1 as revision, 1.4 as new revision, 3 as build number and 4 as new build number</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:buildnumber organisation="apache" module="ivy" revision="3."/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>will set no revision, 3.0 as new revision, no build number and 0 as new build number</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:buildnumber organisation="apache" module="ivy" revision="1.4-RC" defaultBuildNumber="1" revSep=""/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>If called while no release candidate is in the repository, will set ivy.revision to 1.4-RC1. Then it will increment each time, 1.4-RC2, 1.4-RC3, and so on.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_use_buildobr_a_buildobr"><a id="use_buildobr"></a>buildobr</h2>
<div class="sectionbody">
<div class="paragraph">
<p>[<strong><em>since 2.3</em></strong>]</p>
</div>
<div class="paragraph">
<p>From a set of jar artifacts, this task generates an OBR (OSGi Bundle Repository) descriptor. It could be then used by the <a href="../resolver/obr.html">obr resolver</a>.</p>
</div>
<div class="paragraph">
<p>The set of jars which will be described by OBR can be defined in 4 mutually exclusive ways:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>via an Ivy resolver: every jar listed by the resolver will be taken into account</p>
</li>
<li>
<p>by defining a root directory: every jar found recursively in that folder will be taken into account</p>
</li>
<li>
<p>via the name of an Ivy cache: every artifact contained in the cache will be taken into account</p>
</li>
<li>
<p>(<strong><em>since 2.4</em></strong>) via a resolve: this task is a <a href="../use/postresolvetask.html">post resolve task</a> (with all the behaviour and attributes common to all post resolve tasks), thus every artifact which has been resolved will be taken into account; it is especially useful for building a <a href="../osgi/target-platform.html">target platform</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>NB: among every listed file or artifact, only the actually OSGi bundles will be described by the OBR descriptor; the other files are ignored.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_68">Attributes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>[<strong><em>since 2.4</em></strong>]</p>
</div>
<div class="paragraph">
<p>This is a <a href="../use/postresolvetask.html">post resolve task</a>, with all the behaviour and attributes common to all post resolve tasks.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">out</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the location of the descriptor file to generate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">resolverName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the resolver from which the jars should be to gathered</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cacheName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the cache from which the jars should be to gathered</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">baseDir</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the folder into which the jars should be gathered recursively</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sourceType</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">if used as a post resolve task, <code>sourceType</code> defines the type of artifacts which should be considered as source artifacts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>source,sources,src</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">encoding</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The encoding of the resulting XML file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>UTF-8</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">indent</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specify if the XML result file should be indented</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">quiet</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Log the rejected jars that are ill-formed as debug rather than warning</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>false</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_examples_32">Examples</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">    &lt;ivy:buildobr baseDir="${eclipse.home}" out="${basedir}/target/repo-eclipse.xml" indent="true"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Builds an indented OBR descriptor from an Eclipse install, with their path relative to the Eclipse install.</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">    &lt;ivy:configure file="ivysettings.xml"/&gt;
    &lt;ivy:buildobr resolverName="my-file-resolver" out="${basedir}/target/repo-eclipse.xml"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Configures Ivy settings and builds an OBR descriptor from jars resolved by the defined resolver.</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">    &lt;ivy:configure file="ivysettings.xml"/&gt;
    &lt;ivy:buildobr cacheName="my-cache" out="${basedir}/target/repo-eclipse.xml"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Configures Ivy settings and builds an OBR descriptor from jars contained in the defined cache.</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">    &lt;ivy:configure file="ivysettings.xml"/&gt;
    &lt;ivy:resolve file="ivy.xml"/&gt;
    &lt;ivy:buildobr out="${basedir}/target-platform-obr.xml"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Launches a resolve and then builds an obr.xml describing the resolved artifacts.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_use_cachefileset_a_cachefileset"><a id="use_cachefileset"></a>cachefileset</h2>
<div class="sectionbody">
<div class="paragraph">
<p>[<strong><em>since 1.2</em></strong>]</p>
</div>
<div class="paragraph">
<p>Constructs an Ant <code>fileset</code> consisting of artifacts in Ivy&#8217;s cache for a configuration.</p>
</div>
<div class="paragraph">
<p>This is a <a href="../use/postresolvetask.html">post resolve task</a>, with all the behaviour and attributes common to all post resolve tasks. Note that this task
does not rely on retrieve, because the built fileset is made of artifacts directly in Ivy&#8217;s cache.</p>
</div>
<div class="paragraph">
<p>Please prefer the use of retrieve + standard Ant path creation, which make your build more independent from Ivy (once artifacts are properly retrieved, Ivy is not required any more).</p>
</div>
<div class="paragraph">
<p>Built <code>fileset</code> is registered in Ant project with a given id, and can thus be used like any other Ant <code>fileset</code> using
<code>refid</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_limitation">Limitation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A <code>fileset</code>, in Ant project, requires a base directory from within which the files are included/excluded. The <code>cachefileset</code> task, in Ivy, internally tries to determine a common base directory across all the resolved artifact files that have been downloaded in the Ivy repository cache(s). Given that Ivy can be configured to use multiple repository caches and each one can potentially be on a different filesystem root, there are times, when <code>cachefileset</code> cannot determine a common base directory for these resolved artifacts. The <code>cachefileset</code> throws an exception in such cases.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_alternative_task">Alternative task</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If <code>cachefileset</code> doesn&#8217;t fit the need of your use case (maybe due to the limitations noted above), the <a href="../use/resources.html">resources</a> task could be an alternative task to use in certain cases.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_69">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">setid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the id to reference the built fileset</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">conf</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a comma separated list of the configurations to put in the created path</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to the configurations resolved by the last resolve call, or <code>*</code> if no resolve was explicitly called</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">comma separated list of artifact types to accept in the path, <code>*</code> for all</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>*</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">settingsRef</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(<strong><em>since 2.0</em></strong>) A reference to Ivy settings that must be used by this task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, <code>ivy.instance</code> is taken by default.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_use_cachepath_a_cachepath"><a id="use_cachepath"></a>cachepath</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Constructs an Ant <code>path</code> consisting of artifacts in Ivy&#8217;s cache (or origin location with depending on <code>useOrigin</code> setting) for a resolved module configuration.</p>
</div>
<div class="paragraph">
<p>This is a <a href="../use/postresolvetask.html">post resolve task</a>, with all the behaviour and attributes common to all post resolve tasks.</p>
</div>
<div class="paragraph">
<p>If you want to make your build more independent from Ivy, you could consider using the <a href="../use/retrieve.html">retrieve task</a>. Once the artifacts are properly retrieved, you can use standard Ant path creation which makes Ivy not necessary any more.</p>
</div>
<div class="paragraph">
<p>Built path is registered in the Ant project with a given id, and can thus be used like any other Ant path using <code>refid</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_70">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pathid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the id to reference the built path</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">conf</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a comma separated list of the configurations to put in the created path</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to the configurations resolved by the last resolve call, or <code>*</code> if no resolve was explicitly called</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">comma separated list of artifact types to accept in the path, <code>*</code> for all (<strong><em>since 1.2</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>*</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">settingsRef</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(<strong><em>since 2.0</em></strong>) A reference to Ivy settings that must be used by this task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, <code>ivy.instance</code> is taken by default.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_examples_33">Examples</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;cachepath pathid="default.classpath" conf="default"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Construct an Ant path composed of all artifacts being part of the default configuration obtained through the last resolve call.</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;cachepath pathid="default.classpath" conf="default" useOrigin="true"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Same as before but will use the original location for local artifacts, and the cache location for other artifacts.</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:cachepath organisation="emma" module="emma" revision="2.0.4217" inline="true" conf="ant" pathid="emma.classpath"/&gt;
&lt;taskdef resource="emma_ant.properties" classpathref="emma.classpath"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Resolves the Emma module in version 2.0.4217, constructs an Ant path with the corresponding artifacts, and then defines the Emma tasks using this path.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_use_checkdepsupdate_a_checkdepsupdate"><a id="use_checkdepsupdate"></a>checkdepsupdate</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Display dependency updates on the console. This task can also show transitive dependencies updates and detect missing or new dependencies if you update dependencies.</p>
</div>
<div class="paragraph">
<p>This is a <a href="../use/postresolvetask.html">post resolve task</a>, with all the behaviour and attributes common to all post resolve tasks.</p>
</div>
<div class="paragraph">
<p>Please prefer the use of retrieve + standard Ant path creation, which make your build more independent from Ivy (once artifacts are properly retrieved, Ivy is not required any more).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_71">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">revisionToCheck</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">target revision to check</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>latest.integration</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">download</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">specify if artifact should be downloaded when new updates are found</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">checkIfChanged</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">When set to <code>true</code>, the resolve will compare the result with the last resolution done on this module, with those configurations in order to define the property <code>ivy.deps.changed</code>. Put it to false may provides slightly better performance.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, default to <code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">showTransitive</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">set to <code>true</code> if you want to see potential updates on transitive dependencies</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>false</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_example_9">Example</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Suppose we have two dependencies one called <em>mydep</em> in revision 1.0 and one called <em>myotherdependency</em> in revision 2.0.
<em>mydep</em> has a transitive dependency on <em>mytransitivedependency</em> in revision 2.2.</p>
</div>
<div class="paragraph">
<p>Then:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;checkdepsupdate/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>will display the following updates in the console:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>Dependencies updates available :
   mycompany#mydep    1.0 -&gt; 2.0
   mycompany#myotherdependency  2.0 -&gt; 2.2</code></pre>
</div>
</div>
<div class="paragraph">
<p>Same example with transitive dependencies :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;checkdepsupdate showTransitive="true"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>will display the following updates in the console:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>Dependencies updates available :
   mycompany#mydep    1.0 -&gt; 2.0
   mycompany#myotherdependency  2.0 -&gt; 2.2
   mycompany##mytransitivedependency (transitive)    2.2 -&gt; 2.4</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_use_cleancache_a_cleancache"><a id="use_cleancache"></a>cleancache</h2>
<div class="sectionbody">
<div class="paragraph">
<p>[<strong><em>since 2.0</em></strong>]</p>
</div>
<div class="paragraph">
<p>Cleans the Ivy cache.</p>
</div>
<div class="paragraph">
<p>This task is roughly equivalent to:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;delete dir="${ivy.cache.dir}"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Using the regular Ant delete task is more flexible, since it allows to specify the files to delete. But it requires Ivy settings to be loaded, and settings scoping is possible only by using a suffixed Ant property for the cache directory.</p>
</div>
<div class="paragraph">
<p>This task loads the Ivy settings as any other post settings task, and allows easy scoping with the attribute <code>settingsRef</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_72">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">settingsRef</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A reference to Ivy settings that must be used by this task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>ivy.instance</code>.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_examples_34">Examples</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:cleancache/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Cleans the cache directory as defined in the loaded settings (by default <code>~/.ivy2/cache</code>)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:cleancache settingsRef="mysettings"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Cleans the cache directory as defined in the loaded settings identified as <code>mysettings</code></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_use_configure_a_configure"><a id="use_configure"></a>configure</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>configure</code> task is used to configure Ivy with a settings XML file.</p>
</div>
<div class="paragraph">
<p>See <a href="../settings.html">Settings Files</a> for details about the settings file itself.</p>
</div>
<div class="paragraph">
<p>[<strong><em>since 2.0</em></strong>]</p>
</div>
<div class="paragraph">
<p>The file loaded used to be called <em>configuration</em> file in versions prior to 2.0. The name <em>settings</em> and the use of the <code>ivy.settings.file</code> is new to 2.0.</p>
</div>
<div class="paragraph">
<p>It is also possible to configure Ivy with the <a href="../use/settings.html">settings</a> declaration. The difference with this task is that when using the settings declaration, the configuration of Ivy will be done when the settings are first needed (for instance, when you do a resolve), while the configure task will perform a configuration of Ivy instantly, which makes it easier to see the problem if something goes wrong.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_73">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">settingsId</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The settings id usable in the <code>settingsRef</code> attributes of the Ivy task that needs a setting.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>ivy.instance</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">path to the settings file to use</p></td>
<td class="tableblock halign-left valign-top" rowspan="2"><p class="tableblock">No. If a file is provided, URL is ignored. If none are provided, then it attempts to find a file at <code>${ivy.settings.file}</code>, and if this file does not exist, it uses <code>${ivy.settings.url}</code> (<strong><em>since 2.3</em></strong>) or a <a href="../samples/ivysettings-default.xml">default settings file</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">url</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">URL of the settings file to use</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specify what to do when another settings with the same id has already been loaded.<br/>
* <code>true</code>: the current settings will take precedence over any previously defined setting with this id<br/>
* <code>false</code>: the current settings will not override a previously defined setting with this id<br/>
* <code>notallowed</code>: an error is raised if a settings has already been defined with this id</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>notallowed</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">host</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTP authentication host</p></td>
<td class="tableblock halign-left valign-middle" rowspan="4"><p class="tableblock">No, unless authentication is required</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">realm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTP authentication realm</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">username</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTP authentication user name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">passwd</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTP authentication password</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_http_authentication">HTTP Authentication</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If any of the URLs you use in Ivy (especially in dependency resolvers) needs HTTP authentication, then you have to provide the <code>host</code>, <code>realm</code>, <code>username</code> and <code>passwd</code> attributes of the configure task. These settings will then be used in any further call to Ivy tasks.</p>
</div>
<div class="paragraph">
<p>(<strong><em>since 1.4</em></strong>) It&#8217;s also possible to configure authentication settings for multiple URLs. This can be done with the <code>&lt;credentials&gt;</code> subelements. See the examples for more details.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_examples_35">Examples</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_simplest_settings">Simplest settings</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:configure/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Use either <code>${ivy.settings.file}</code> if it exists, or the <a href="../samples/ivysettings-default.xml">default settings file</a></p>
</div>
</div>
<div class="sect2">
<h3 id="_configure_with_a_file">Configure with a file</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:configure file="myconffile.xml"/&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configure_with_an_url">Configure with an URL</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:configure url="http://mysite.com/myconffile.xml"/&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configure_multiple_urls_which_require_authentication">Configure multiple URLs which require authentication</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:configure file="path/to/my/ivysettings.xml"&gt;
  &lt;credentials host="myhost.com" realm="My Realm" username="myuser" passwd="mypasswd"/&gt;
  &lt;credentials host="yourhost.com" realm="Your Realm" username="myuser" passwd="myotherpasswd"/&gt;
&lt;/ivy:configure&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_use_convertmanifest_a_convertmanifest"><a id="use_convertmanifest"></a>convertmanifest</h2>
<div class="sectionbody">
<div class="paragraph">
<p>[<strong><em>since 2.3</em></strong>]</p>
</div>
<div class="paragraph">
<p>Convert a <code>MANIFEST.MF</code> into an <code>ivy.ml</code> file</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_74">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">manifest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the location of the <code>MANIFEST.MF</code> to convert</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ivyFile</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the location of the <code>ivy.xml</code> file to generate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_examples_36">Examples</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">    &lt;ivy:convertmanifest manifest="META-INF/MANIFEST.MF" ivyFile="ivy.xml"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Just converts a manifest into an <code>ivy.xml</code> file.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_use_convertpom_a_convertpom"><a id="use_convertpom"></a>convertpom</h2>
<div class="sectionbody">
<div class="paragraph">
<p>[<strong><em>since 2.1</em></strong>]</p>
</div>
<div class="paragraph">
<p>Convert <code>pom.xml</code> into an <code>ivy.xml</code></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_75">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pomFile</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the location of the <code>pom.xml</code> to convert</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ivyFile</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the location of the <code>ivy.xml</code> to generate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_examples_37">Examples</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">    &lt;ivy:convertpom pomFile="pom.xml" ivyFile="ivy.xml"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Just convert a <code>pom.xml</code> file into an <code>ivy.xml</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_use_deliver_a_deliver"><a id="use_deliver"></a>deliver</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Deliver a resolved descriptor of the current module, and possibly perform a recursive delivery of dependencies.</p>
</div>
<div class="paragraph">
<p>This task does two main things:</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_generate_a_resolved_ivy_file">Generate a resolved Ivy file</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This task generates a resolved descriptor of the current module, based upon the last resolve done. The resolved Ivy file contains updated information about the delivered module, such as revision and status.</p>
</div>
<div class="paragraph">
<p>Moreover, all included configurations' files are included in the Ivy file, and variables are replaced by their values.</p>
</div>
<div class="paragraph">
<p>Finally, in the resolved Ivy file, dynamic revisions are replaced by the static ones that have been found during the resolve step, so the Ivy file can be used later safely to obtain the same dependencies (providing that a revision uniquely identifies a module, which should be the case for proper Ivy use).</p>
</div>
<div class="paragraph">
<p>(<strong><em>since 1.3</em></strong>) The replacement of dynamic revisions by static ones can be turned off, so that dynamic revisions are kept in the Ivy file. This is an exception to the recommended standard that published module descriptors be fully resolved, so use it with caution.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_recursive_delivery">Recursive delivery</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This is done only if a deliver target is given to the deliver task.</p>
</div>
<div class="paragraph">
<p>If a deliver target is set, then it is called (via an <code>antcall</code>) for each dependency which has not a sufficient status compared to the deliver status set for this task. This means that if you deliver an integration revision, no recursive delivery will be done.</p>
</div>
<div class="paragraph">
<p>If you deliver a milestone or a release revision, deliver target will be called with each integration dependency.</p>
</div>
<div class="paragraph">
<p>The deliver target is called with the following properties available:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>dependency.name</code>: the name of the dependency to recursively deliver</p>
</li>
<li>
<p><code>dependency.published.status</code>: the status to which the dependency should be delivered</p>
</li>
<li>
<p><code>dependency.published.version</code>: the revision to which the dependency should be delivered</p>
</li>
<li>
<p><code>dependency.version</code>: the revision of the dependency that should be delivered (the one that was retrieved during last resolve)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Both <code>dependency.published.status</code> and <code>dependency.published.version</code> can be either asked to the user through Ant input tasks (default behaviour), or be always the same for the whole recursive delivery process if the following properties are set:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>recursive.delivery.status</code>: set to the status to which all dependencies requiring to be delivered will be</p>
</li>
<li>
<p><code>recursive.delivery.version</code>: set to the version to which all dependencies requiring to be delivered will be</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Usually the deliver target itself triggers an another Ant build (using the <code>ant</code> task) even if this is up to you to decide.</p>
</div>
<div class="paragraph">
<p>The delivered Ivy file will update its dependency revisions with those given here.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_deliver_and_publish">deliver and publish</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>deliver</code> task is most of the time not called explicitly, but rather called automatically by the <a href="../use/publish.html">publish</a> task. So, when shall the deliver task be called explicitly? When you actually need to separate what is performed by the deliver task (see above), from what is performed by the <code>publish</code> task, i.e. upload a module to a repository.</p>
</div>
<div class="paragraph">
<p>And this can be particularly useful if you want to process the generated Ivy file before uploading it (if you want to add automatically more information like an SCM tag used, the user who performed the release, &#8230;&#8203;).</p>
</div>
<div class="paragraph">
<p>It can also be useful if you want to trigger a recursive delivery and then ensure that you get the recursively delivered modules as dependencies. In this case your build order may look like this:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ivy:configure</code></p>
</li>
<li>
<p><code>ivy:resolve</code></p>
</li>
<li>
<p><code>ivy:deliver</code> with recursive delivery</p>
</li>
<li>
<p><code>ivy:resolve</code> again with the Ivy file generated by the recursive delivery</p>
</li>
<li>
<p>do your build stuff (compile, jar, whatever)</p>
</li>
<li>
<p><code>ivy:publish</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_76">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">deliverpattern</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the pattern to use for Ivy file delivery</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>${ivy.deliver.ivy.pattern}</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pubrevision</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the revision to use for the publication</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>${ivy.deliver.revision}</code> if set, or the revision resolved if set, or a timestamp</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pubbranch</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the branch to use for the publication</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>${ivy.deliver.branch}</code> if set, or the branch resolved if set, or nothing (branch info won&#8217;t be updated)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pubdate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the publication date to use for the publication. This date should be either <code>now</code>, or a date given with the following pattern: <code>yyyyMMddHHmmss</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>now</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">status</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the status to use for the publication</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>${ivy.status}</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">delivertarget</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the target to call for recursive delivery</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. No recursive delivery is done by default</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">validate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> to force Ivy files validation against ivy.xsd, <code>false</code> to force no validation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to default Ivy value (as configured in settings)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">replacedynamicrev</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> to replace dynamic revisions by static ones in the delivered file, <code>false</code> to avoid this replacement (<strong><em>since 1.3</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">replaceForcedRev</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> to replace revisions (static or dynamic) by the revision of the resolver in <a href="../settings/resolvers.html#common">forced mode</a>, <code>false</code> to avoid this replacement (<strong><em>since 2.2</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">merge</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">if a descriptor <a href="../ivyfile/extends.html">extends</a> a parent, merge the inherited information directly into the delivered descriptor.  The <code>extends</code> element itself will be commented out in the delivered descriptor. (<strong><em>since 2.2</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>true</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">settingsRef</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A reference to Ivy settings that must be used by this task (<strong><em>since 2.0</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>ivy.instance</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">conf</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">comma-separated list of configurations to include in the delivered file. Accepts wildcards. (<strong><em>since 2.0</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to all configurations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">generateRevConstraint</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> to automatically generate a <code>revConstraint</code> attribute in the delivered file (see the <a href="../ivyfile/dependency.html">dependency</a> page for more info about this attribute), <code>false</code> to never generate this attribute (<strong><em>since 2.1</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>true</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_example_10">Example</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Deliver an Ivy file without the private configurations:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;deliver conf="*(public)"/&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_use_dependencytree_a_dependencytree"><a id="use_dependencytree"></a>dependencytree</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Display a dependency tree on the console.</p>
</div>
<div class="paragraph">
<p>This is a <a href="../use/postresolvetask.html">post resolve task</a>, with all the behaviour and attributes common to all post resolve tasks.</p>
</div>
<div class="paragraph">
<p>Please prefer the use of retrieve + standard Ant path creation, which make your build more independent from Ivy (once artifacts are properly retrieved, Ivy is not required any more).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_77">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">showEvicted</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">specify if evicted modules should be printed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">conf</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a comma separated list of the configurations to take in consideration in the  dependency tree</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to the configurations resolved by the last resolve call, or <code>*</code> if no resolve was explicitly called</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">haltonfailure</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> to halt the build on Ivy failure, <code>false</code> to continue</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">validate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true to force Ivy files validation against ivy.xsd, false to force no validation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to default Ivy value (as configured in settings)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">settingsRef</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A reference to Ivy settings that must be used by this task (<strong><em>since 2.0</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>ivy.instance</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">overwrite</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Overwrite the value of the property if it already exist (<strong><em>since 2.0</em></strong>).  Before 2.0, the properties were always overwritten.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, <code>false</code> by default.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_example_11">Example</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Suppose we have two dependencies one called <em>mydep</em> in revision 2.0 and one called <em>myotherdependency</em> in revision 2.2.
<em>mydep</em> has a transitive dependency on <em>mytransitivedependency</em> in revision 2.2.</p>
</div>
<div class="paragraph">
<p>Then:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;dependencytree/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>will display the following tree in the console:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>Dependency tree for foobar
+- org#mydep;2.0
   \- org#mytransitivedependency;2.2
\- org#myotherdependency;2.2");</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_use_findrevision_a_findrevision"><a id="use_findrevision"></a>findrevision</h2>
<div class="sectionbody">
<div class="paragraph">
<p>[<strong><em>since 1.4</em></strong>]</p>
</div>
<div class="paragraph">
<p>Finds the latest revision of a module matching a given version constraint.</p>
</div>
<div class="paragraph">
<p>A version constraint is what is used when declaring a <a href="../ivyfile/dependency.html">dependency</a> on a module.
If the module is not found, the property is not set.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_78">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">organisation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the organisation of the module to find</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the module to find</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">branch</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the branch of the module to find</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to the default branch for the given module</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">revision</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the revision constraint to apply</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the property to set with the found revision</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>ivy.revision</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">settingsRef</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a reference to Ivy settings that must be used by this task (<strong><em>since 2.0</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>ivy.instance</code>.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_examples_38">Examples</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:findrevision organisation="apache" module="ivy" revision="latest.integration"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>finds the latest version of Ivy available in the repository and sets the property <code>ivy.revision</code> according to what was found.</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:findrevision organisation="apache" module="ivy" revision="1.0+"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>same as above but only with 1.0 sub versions.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_use_fixdeps_a_fixdeps"><a id="use_fixdeps"></a>fixdeps</h2>
<div class="sectionbody">
<div class="paragraph">
<p>[<strong><em>since 2.4</em></strong>]</p>
</div>
<div class="paragraph">
<p>The <code>fixdeps</code> task serializes transitively resolved dependencies into an <code>ivy.xml</code> file.</p>
</div>
<div class="paragraph">
<p>The dependencies declared in an <code>ivy.xml</code> can be specified as range of revisions. And the transitive dependencies too. As new versions of modules can be added to the repository anytime, resolved versions of ranges can change over time. It is then safer to resolve a range once and stick with the resolved revision. This way a resolve process is highly reproducible.</p>
</div>
<div class="paragraph">
<p>It is especially useful in a very dynamic environment like the <a href="../osgi.html">OSGi</a> one.</p>
</div>
<div class="paragraph">
<p>In a multi project environment some dependencies still need to be maintained loose: the ones between the projects. These dependencies, as soon as they are declared in the original ivy.xml, can be kept from being fixed. In order to do so, use the inner element <code>keep</code>.</p>
</div>
<div class="paragraph">
<p>The recommended setup is then to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>have an <code>ivy-spec.xml</code> in your project which specifies the dependencies, with ranges if needed</p>
</li>
<li>
<p>have an Ant target which resolves the <code>ivy-spec.xml</code> and call <code>fixdeps</code> to generate an <code>ivy.xml</code>. This target should then only be called after <code>ivy-spec.xml</code> is modified. The generated <code>ivy.xml</code> can safely be shared in a version control repository (Git, Subversion, &#8230;&#8203;).</p>
</li>
<li>
<p>make the entire build workflow based on the resolve of the generated <code>ivy.xml</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This is a <a href="../use/postresolvetask.html">post resolve task</a>, with all the behaviour and attributes common to all post resolve tasks.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_79">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tofile</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The location of the Ivy file to generate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_child_elements_44">Child elements</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Cardinality</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">keep</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">declares a dependency to keep from being fixed, and keep its original declaration from the original ivy.xml
</p><p class="tableblock">These elements takes two attributes:<br/>
* <code>org</code>: the organization<br/>
* <code>module</code>: the name of the module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_examples_39">Examples</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:fixdeps tofile="ivy-fixed.xml"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Simple fix of some dependencies.</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:fixdeps tofile="ivy-fixed.xml"&gt;
    &lt;keep org="com.acme" module="mymodule"/&gt;
&lt;/ivy:fixdeps&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Fix of the dependencies but keep the dependency on <code>com.acme#mymodule</code> as defined in the original ivy.xml.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_use_info_a_info"><a id="use_info"></a>info</h2>
<div class="sectionbody">
<div class="paragraph">
<p>[<strong><em>since 1.4</em></strong>]</p>
</div>
<div class="paragraph">
<p>The <code>info</code> task eases the access to some essential data contained in an Ivy file without performing a dependency resolution.</p>
</div>
<div class="paragraph">
<p>The information is retrieved by setting Ant properties:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 37.5%;"/>
<col style="width: 62.5%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ivy.organisation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The organisation of the module, as found in the <a href="../ivyfile/info.html">info</a> tag of the Ivy file parsed.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ivy.module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the module, as found in the <a href="../ivyfile/info.html">info</a> tag of the Ivy file parsed.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ivy.branch</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The branch of the module if any, as found in the <a href="../ivyfile/info.html">info</a> tag of the Ivy file parsed.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ivy.revision</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The revision of the module, as found in the <a href="../ivyfile/info.html">info</a> tag of the Ivy file parsed.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ivy.status</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The status of the module, as found in the <a href="../ivyfile/info.html">info</a> tag of the Ivy file parsed.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ivy.publication</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The publication time of the module, as found in the <a href="../ivyfile/info.html">info</a> tag of the Ivy file parsed. (<strong><em>since 2.2</em></strong>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ivy.extra.<em>[any extra attribute]</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Corresponding extra attribute value, as found in the <a href="../ivyfile/info.html">info</a> tag of the Ivy file parsed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ivy.configurations</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A comma separated list of configurations of the module, as declared in the <a href="../ivyfile/configurations.html">configurations</a> section</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ivy.public.configurations</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A comma separated list of public configurations of the module, as declared in the <a href="../ivyfile/configurations.html">configurations</a> section</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ivy.configuration.<em>[config name]</em>.desc</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For each configuration with a description, a property is created containing this description. (<strong><em>since 2.2</em></strong>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ivy.artifact.<em>[index]</em>.name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For each published artifact, a property is created containing its name. (<strong><em>since 2.2</em></strong>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ivy.artifact.<em>[index]</em>.type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For each published artifact, a property is created containing its type. (<strong><em>since 2.2</em></strong>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ivy.artifact.<em>[index]</em>.ext</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For each published artifact, a property is created containing its ext. (<strong><em>since 2.2</em></strong>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ivy.artifact.<em>[index]</em>.conf</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For each published artifact, a property is created containing its conf. (<strong><em>since 2.2</em></strong>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ivy.artifact.<em>[index]</em>.extra.<em>[any extra attribute]</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For each extra attribute of the published artifact, a property is created containing its name. (<strong><em>since 2.2</em></strong>)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>[<strong><em>since 2.0</em></strong>]</p>
</div>
<div class="paragraph">
<p>This task has been enhanced to allow you to retrieve information about Ivy modules in a repository.  Instead of specifying a local Ivy file you may specify the organisation, module, revision pattern and (optionally) the branch of the Ivy module in the repository you wish to retrieve the information for.</p>
</div>
<div class="paragraph">
<p>The revision pattern is what is used when declaring a <a href="../ivyfile/dependency.html">dependency</a> on a module, identical to how the <a href="findrevision.html">findrevision</a> task works.  In fact, this task can now be used in place of the findrevision task.</p>
</div>
<div class="paragraph">
<p>If no matching module is found then no property values are set.</p>
</div>
<div class="paragraph">
<p>You may now also set the property attribute to change the first part of the property names that are set by this task e.g. if you set the property attribute to <code>mymodule</code> this task will set the Ant properties <code>mymodule.organisation</code>, <code>mymodule.module</code>, <code>mymodule.revision</code> etc.</p>
</div>
<div class="paragraph">
<p>(<strong><em>since 2.2</em></strong>) This task has been enhanced to also retrieve detailed information about the module&#8217;s published artifacts, as well as the publication time.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_80">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the Ivy file to parse</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes, if you wish to parse an Ivy file.
No, if you are retrieving information about a module from an Ivy repository.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">organisation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the organisation of the module to find (<strong><em>since 2.0</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, if you wish to parse an Ivy file.
Yes, if you are retrieving information about a module from an Ivy repository.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the the name of the module to find (<strong><em>since 2.0</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, if you wish to parse an Ivy file.
Yes, if you are retrieving information about a module from an Ivy repository.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">branch</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the branch of the module to find (<strong><em>since 2.0</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to the default branch for the given module if you are retrieving information about a module from an Ivy repository.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">revision</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the revision constraint to apply (<strong><em>since 2.0</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, if you wish to parse an Ivy file.
Yes, if you are retrieving information about a module from an Ivy repository.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name to use as the base of the property names set by this task (<strong><em>since 2.0</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, will default to <code>ivy</code> if not set.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">settingsRef</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A reference to Ivy settings that must be used by this task (<strong><em>since 2.0</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>ivy.instance</code>.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_examples_40">Examples</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Given this <code>ivy.xml</code> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy-module version="1.0" xmlns:e="http://ant.apache.org/ivy/extra"&gt;
    &lt;info organisation="apache"
          module="info-all"
          branch="trunk"
          revision="1.0"
          status="release"
          e:myextraatt="myvalue"/&gt;
    &lt;configurations&gt;
        &lt;conf name="default"/&gt;
        &lt;conf name="test"/&gt;
        &lt;conf name="private" visibility="private"/&gt;
    &lt;/configurations&gt;
    &lt;publications&gt;
        &lt;artifact name="thing1" type="jar" ext="jar" conf="default" e:data="main"/&gt;
        &lt;artifact name="thing2" type="jar" ext="jar" conf="default" e:data="client"/&gt;
    &lt;/publications&gt;
    &lt;dependencies&gt;
        &lt;dependency org="org1" name="mod1.2" rev="2.0"/&gt;
    &lt;/dependencies&gt;
&lt;/ivy-module&gt;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:info file="${basedir}/path/to/ivy.xml"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Parses <code>${basedir}/path/to/ivy.xml</code> and set properties as described above accordingly:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties" data-lang="properties">ivy.organisation=apache
ivy.module=info-all
ivy.branch=trunk
ivy.revision=1.0
ivy.status=release
ivy.extra.myextraatt=myvalue
ivy.configurations=default, test, private
ivy.public.configurations=default, test
ivy.artifact.1.name=thing1
ivy.artifact.1.type=jar
ivy.artifact.1.ext=jar
ivy.artifact.1.conf=default
ivy.artifact.1.extra.data=main
ivy.artifact.2.name=thing2
ivy.artifact.2.type=jar
ivy.artifact.2.ext=jar
ivy.artifact.2.conf=default
ivy.artifact.2.extra.data=client</code></pre>
</div>
</div>
<div class="paragraph">
<p>Given the same Ivy module in a repository:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:info organisation="apache" module="info-all" revision="1.0"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>will set the exact same set of properties as above.  Using:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:info organisation="apache" module="info-all" revision="1.0" property="infotest"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>will set:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties" data-lang="properties">infotest.organisation=apache
infotest.module=info-all
infotest.branch=trunk
infotest.revision=1.0
infotest.status=release
infotest.extra.myextraatt=myvalue
infotest.configurations=default, test, private
infotest.public.configurations=default, test
infotest.artifact.1.name=thing1
infotest.artifact.1.type=jar
infotest.artifact.1.ext=jar
infotest.artifact.1.conf=default
infotest.artifact.1.extra.data=main
infotest.artifact.2.name=thing2
infotest.artifact.2.type=jar
infotest.artifact.2.ext=jar
infotest.artifact.2.conf=default
infotest.artifact.2.extra.data=client</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_use_install_a_install"><a id="use_install"></a>install</h2>
<div class="sectionbody">
<div class="paragraph">
<p>[<strong><em>since 1.3</em></strong>]</p>
</div>
<div class="paragraph">
<p>Installs a module and all its dependencies in a resolver.</p>
</div>
<div class="paragraph">
<p>The module to install should be available in a resolver, and will be installed in another resolver which should support publish.</p>
</div>
<div class="paragraph">
<p>This is particularly useful for users who only have a private repository, and want to benefit from public repositories from time to time. In this case, when a module is missing in the private repository, a call to install lets download the module from a public repository not usually used for dependency resolution, and install it and its dependencies in the private repository.</p>
</div>
<div class="paragraph">
<p>For more details about this task and its usage see the <a href="../tutorial/build-repository.html">build repository tutorial</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_81">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">from</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the resolver in which the module must be found</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">to</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the resolver in which the module must be installed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">organisation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the organisation of the module to install</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the module to install</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">branch</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the branch of the module to install (<strong><em>since 2.0</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to default branch with exact matcher, <code>*</code> with any other matcher</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">revision</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the revision of the module to install</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the type(s) of artifact(s) to install.  You can give multiple values separated by commas</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>*</code> meaning all types</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">conf</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the configurations to install. Only the dependencies of the specified configurations will be installed. (<strong><em>since 2.3</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>*</code> meaning all configurations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">validate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> to force Ivy files validation against ivy.xsd, <code>false</code> to force no validation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to default Ivy value (as configured in settings)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">overwrite</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> to override modules already present in the destination resolver, <code>false</code> otherwise</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">transitive</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> to install the module and all its transitive dependencies, <code>false</code> to install only the module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">matcher</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the matcher to use to find the modules to install</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>exact</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">settingsRef</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A reference to Ivy settings that must be used by this task (<strong><em>since 2.0</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>ivy.instance</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">haltonfailure</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> to fail build on unresolved dependencies (<strong><em>since 2.0</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">installOriginalMetadata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> to install original metadata (if available). If the module has been originally resolved from a m2 repository, the original metadata is the original POM file (<strong><em>since 2.4</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>false</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_examples_41">Examples</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:install organisation="apache" module="commons-lang" revision="2.0" from="ivyrep" to="myfsresolver"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Installs the module <code>commons-lang</code> from <code>apache</code> in revision 2.0 in the resolver <code>myfsresolver</code>. The module is found in the resolver named <code>ivyrep</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_use_listmodules_a_listmodules"><a id="use_listmodules"></a>listmodules</h2>
<div class="sectionbody">
<div class="paragraph">
<p>[<strong><em>since 1.4</em></strong>]</p>
</div>
<div class="paragraph">
<p>Finds the list of modules in the repository matching some criteria and sets a corresponding list of properties in Ant.</p>
</div>
<div class="paragraph">
<p>The criteria is set by given patterns matching the organisation, name branch and revision of the modules to find.</p>
</div>
<div class="paragraph">
<p>To know if a module matches the criteria, Ivy will use the configured <a href="../concept.html#matcher">pattern matcher</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_82">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">organisation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the pattern matching the organisation of the modules to list</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the pattern matching the name of the modules to list</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">branch</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the pattern matching the branch of the modules to list</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>*</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">revision</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the pattern matching the revision of the modules to list</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">matcher</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the pattern matcher to use for matching the modules fields</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>exactOrRegexp</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the pattern of the property to set when a module is found</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The pattern of the value to set when a module is found</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">settingsRef</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A reference to Ivy settings that must be used by this task (<strong><em>since 2.0</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>ivy.instance</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">resolver</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the resolver to use for searching the modules (<strong><em>since 2.2</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, all available resolvers will be used by default.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_examples_42">Examples</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:listmodules organisation="apache" module="ivy" revision="*" property="ivy.[revision]" value="found"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>will find all revisions of the module ivy in the org apache, and create one property for each revision found, the name of the property depending on the revision, the value being always <code>found</code></p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:listmodules organisation="*" module="ivy*" revision="1.0" matcher="glob" property="modules.[module]" value="[organisation]"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>use the glob matcher to find all modules which name starts with ivy with revision 1.0, and sets for each a property with module name found  and organisation for value.</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties" data-lang="properties">modules.ivy=apache
modules.ivyde=apache
modules.ivytools=ivytools</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_use_makepom_a_makepom"><a id="use_makepom"></a>makepom</h2>
<div class="sectionbody">
<div class="paragraph">
<p>[<strong><em>since 2.0</em></strong>]</p>
</div>
<div class="paragraph">
<p>The <code>makepom</code> task allows to convert an Ivy file to a POM file.</p>
</div>
<div class="paragraph">
<p>An example of use is to publish an Ivy managed module to a Maven 2 repository.</p>
</div>
<div class="paragraph">
<p><em>Note that all Ivy features are not supported by Maven POMs, so the converted POM may not resolve to the exact same dependencies as the original Ivy file.</em></p>
</div>
<div class="paragraph">
<p>[<strong><em>since 2.2</em></strong>]</p>
</div>
<div class="paragraph">
<p>It is possible to specify a template file defining the structure of the generated POM. The following processing is done on this template:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>properties like <code>${property.name}</code> are replaced if they are defined in Ant or by the <code>ivy:makepom</code> task (see below for the standard properties)</p>
</li>
<li>
<p>lines containing the string <code>SKIP_LINE</code> are skipped.</p>
</li>
<li>
<p>the defined dependencies will be added to the first <code>&lt;dependencies&gt;</code> element encountered in the POM template. If the template doesn&#8217;t contain a <code>&lt;dependencies&gt;</code> element, it is generated at the end of the POM.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>ivy:makepom</code> task defines following properties that can be used in the template.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ivy.pom.groupId</code>: defaults to the organisation as defined in the ivy.xml file</p>
</li>
<li>
<p><code>ivy.pom.artifactId</code>: defaults to the value of the <code>artifactName</code> attribute of this task, or the name of the module as defined in the ivy.xml file</p>
</li>
<li>
<p><code>ivy.pom.packaging</code>: defaults to the value of the <code>artifactPackaging</code> attribute of this task, or the extension of the artifact</p>
</li>
<li>
<p><code>ivy.pom.version</code>: defaults to the revision as defined in the ivy.xml file</p>
</li>
<li>
<p><code>ivy.pom.name</code>: defaults to <code>SKIP_LINE</code></p>
</li>
<li>
<p><code>ivy.pom.description</code>: defaults to the value of the <code>description</code> attribute of this task, or <code>SKIP_LINE</code> when not specified<br/></p>
</li>
<li>
<p><code>ivy.pom.url</code>: defaults to the homepage as defined in the ivy.xml file</p>
</li>
<li>
<p><code>ivy.pom.license</code>: the content of the specified <code>headerFile</code>, or <code>SKIP_LINE</code> if not specified</p>
</li>
<li>
<p><code>ivy.pom.header</code>: some Ivy information, or <code>SKIP_LINE</code> if the <code>printIvyInfo</code> attribute is set to <code>false</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note that each property can be given a value manually in the Ant build file. In that case, Ivy will use the value specified in the build file instead of the default value.</p>
</div>
<div class="paragraph">
<p>The default template that ships with Ivy looks like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">${ivy.pom.license}
${ivy.pom.header}
&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;

  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
  &lt;groupId&gt;${ivy.pom.groupId}&lt;/groupId&gt;
  &lt;artifactId&gt;${ivy.pom.artifactId}&lt;/artifactId&gt;
  &lt;packaging&gt;${ivy.pom.packaging}&lt;/packaging&gt;
  &lt;version&gt;${ivy.pom.version}&lt;/version&gt;
  &lt;name&gt;${ivy.pom.name}&lt;/name&gt;
  &lt;description&gt;${ivy.pom.description}&lt;/description&gt;
  &lt;url&gt;${ivy.pom.url}&lt;/url&gt;
&lt;/project&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_83">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ivyfile</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the source Ivy file to convert</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pomfile</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the destination POM file to write</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">templatefile</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the template file to use when generating the POM (<strong><em>since 2.2</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to the internal template file.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">artifactName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the artifact which is represented by the generated POM file. (<strong><em>since 2.2</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to the module name in the source Ivy file.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">artifactPackaging</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The packaging of the artifact which is represented by the generated POM file. (<strong><em>since 2.2</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, the artifact type is taken by default. Defaults to <code>pom</code> if no such artifact is defined.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">conf</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a comma separated list of the configurations to include in the generated POM. Wildcards are supported here. (<strong><em>since 2.2</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to all configurations.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">settingsRef</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A reference to Ivy settings that must be used by this task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>ivy.instance</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">printIvyInfo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add some information about Ivy to the generated POM. (<strong><em>since 2.2</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>true</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">headerFile</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the header of the generated POM file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The description that will be added to the generated POM. (<strong><em>since 2.2</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to no description or (<strong><em>since 2.5</em></strong>) to the description in the source Ivy file.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_child_elements_45">Child elements</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;"/>
<col style="width: 33.3333%;"/>
<col style="width: 33.3334%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Cardinality</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">mapping</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">describes the mapping from an Ivy module configuration to a Maven POM scope.
These elements takes two attributes:<br/>
* <code>conf</code>: the configuration to map<br/>
* <code>scope</code>: the scope to which it should be mapped</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dependency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">describes extra dependencies that should be added to the generated Maven POM file.
These elements takes the following attributes:<br/>
* <code>group</code>: the groupId. Default <code>organisation</code> as defined in <code>info</code><br/>
* <code>artifact</code>: the name of the artifact<br/>
* <code>version</code>: the version. Default <code>revision</code> as defined in <code>info</code><br/>
* <code>type</code> (<strong><em>since 2.3</em></strong>): the type<br/>
* <code>classifier</code> (<strong><em>since 2.3</em></strong>): the classifier<br/>
* <code>scope</code>: the scope<br/>
* <code>optional</code>: is the artifact optional. Default <code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_examples_43">Examples</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:makepom ivyfile="${basedir}/path/to/ivy.xml" pomfile="${basedir}/path/to/module.pom" conf="default,runtime"&gt;
   &lt;mapping conf="default" scope="compile"/&gt;
   &lt;mapping conf="runtime" scope="runtime"/&gt;
   &lt;dependency group="com.acme" artifact="acme-logging" version="1.0" optional="true"/&gt;
&lt;/ivy:makepom&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Converts <code>${basedir}/path/to/ivy.xml</code> to a POM and writes the result to <code>${basedir}/path/to/module.pom</code>. The configuration 'default' in the parsed Ivy file will be mapped to the scope 'compile', the configuration 'runtime' will be mapped to 'runtime', and other configurations will be excluded.</p>
</div>
<div class="paragraph">
<p>The <em>com.acme.acme-logging</em> artifact with version 1.0 will be added as an optional dependency.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_use_postresolvetask_a_post_resolve_tasks"><a id="use_postresolvetask"></a>post resolve tasks</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Several tasks in Ivy are considered as post resolve tasks and share a common behaviour and settings accordingly.</p>
</div>
<div class="paragraph">
<p>These tasks are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../use/retrieve.html">retrieve</a></p>
</li>
<li>
<p><a href="../use/cachefileset.html">cachefileset</a></p>
</li>
<li>
<p><a href="../use/cachepath.html">cachepath</a></p>
</li>
<li>
<p><a href="../use/artifactproperty.html">artifactproperty</a> (<strong><em>since 2.0</em></strong>)</p>
</li>
<li>
<p><a href="../use/artifactreport.html">artifactreport</a> (<strong><em>since 2.0</em></strong>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>All these tasks will trigger a resolve automatically if:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>none has already been called in the current build with the attribute <code>keep</code> set to <code>true</code> (see below)</p>
</li>
<li>
<p>organisation and module are not set</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>(<strong><em>since 1.4</em></strong>) There are two ways to run a <a href="../use/resolve.html">resolve</a>: with an Ivy file, or with the inline mode.
When you call resolve with an Ivy file, the default for it is to keep the resolved data for use by the subsequent post resolve tasks. When you run an inline resolve, the default is not to keep the data. You can override this behaviour by setting the keep attribute as you like.</p>
</div>
<div class="paragraph">
<p>If you want to to reuse the resolved data obtained through a call to resolve in another build (i.e. not the current one), then you have to set the organisation and module attributes. This work only if the cache was not cleaned since your last resolve call. This does not work with inline calls, which must be performed in the same build.</p>
</div>
<div class="paragraph">
<p>The attributes listed are then mostly used only if a resolve is triggered automatically.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_84">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">conf</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a comma separated list of the configurations to retrieve or <code>*</code>.<br/>
(<strong><em>since 2.0</em></strong>) You can also use <code>*(public)</code> or <code>*(private)</code>. Note that <code>*</code> is interpreted as <code>*(public)</code> when <code>inline</code> is <code>true</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to the configurations resolved by the last resolve call, or <code>*</code> if no resolve was explicitly called</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">inline</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> to use inline mode, <code>false</code> to resolve an Ivy file (<strong><em>since 1.4</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. defaults <code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">organisation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the organisation of the module to retrieve. This usually doesn&#8217;t need to be set since it defaults to the last resolved one, except for inline mode where it is required.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes in inline mode, otherwise no, it then defaults to last resolved module name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the module to retrieve. This usually doesn&#8217;t need to be set since it defaults to the last resolved one, except for inline mode where it is required.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes in inline mode, otherwise no, it then defaults to last resolved module name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">revision</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the revision constraint of the module to retrieve. Used only in inline mode. (<strong><em>since 1.4</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to latest.integration</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">branch</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the branch to resolve in inline mode (<strong><em>since 2.1</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defaults to no branch in inline mode, nothing in standard mode.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">changing</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">indicates that the module may change when resolving in inline mode. See <a href="../concept.html#change">cache and change management</a> for details. Ignored when resolving in standard mode (<strong><em>since 2.2</em></strong>).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>false</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">transitive</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> to resolve dependencies transitively, <code>false</code> otherwise (<strong><em>since 1.4</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">resolveMode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the <a href="../use/resolve.html">resolve mode</a> to use when an automatic resolve is triggered (<strong><em>since 2.1</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. defaults to using the resolve mode set in the <a href="../settings.html">settings</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">keep</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> to keep the results of the automatic resolve in memory, <code>false</code> to discard them. When this is <code>false</code>, the standard Ivy properties won&#8217;t be set and other post-resolve tasks (like <code>retrieve</code> and <code>cachepath</code>) won&#8217;t be able to reuse the results of this resolve!</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. defaults to <code>false</code> for an inline resolve and to <code>true</code> in any other case</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">haltonfailure</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> to halt the build on Ivy failure, <code>false</code> to continue</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">validate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> to force Ivy files validation against ivy.xsd, <code>false</code> to force no validation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to default Ivy value (as configured in settings)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">refresh</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> to force Ivy to resolve dynamic revision in this resolve process, <code>false</code> to use cached resolved revision (<strong><em>since 2.1</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. defaults to <code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the file to resolve if a resolve is necessary (<strong><em>since 2.0</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to the previous resolved Ivy file or to <code>${ivy.dep.file}</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">settingsRef</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A reference to Ivy settings that must be used by this task (<strong><em>since 2.0</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>ivy.instance</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">resolveId</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The id which was used for a previous resolve, or the resolveId if a new resolve is performed (<strong><em>since 2.0</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>[org]-[module]</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">log</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the log setting to use during the resolve process (<strong><em>since 2.0</em></strong>)
</p><p class="tableblock">Available options are:<br/>
* <code>default</code>: the default log settings, where all usual messages are output to the console<br/>
* <code>download-only</code>: disable all usual messages but download ones. A resolve with everything in cache won&#8217;t output any message.<br/>
* <code>quiet</code>: disable all usual messages, making the whole resolve process quiet unless errors occur</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>default</code>.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_child_elements_46">Child elements</h2>
<div class="sectionbody">
<div class="paragraph">
<p>[<strong><em>since 2.3</em></strong>]</p>
</div>
<div class="paragraph">
<p>These child elements are defining an inlined ivy.xml&#8217;s <a href="../ivyfile/dependencies.html">dependencies</a> elements. Thus these child elements cannot be used together with the <code>inline</code> or <code>file</code> attributes.</p>
</div>
<div class="paragraph">
<p>There is one important difference with the ivy.xml&#8217;s <a href="../ivyfile/dependencies.html">dependencies</a>: there is no master configuration to handle here. There is actually only one, the one on which the resolve will run. So every attribute in <a href="../ivyfile/dependency.html">dependency</a>, <a href="../ivyfile/exclude.html">exclude</a>,  <a href="../ivyfile/override.html">override</a> or <a href="../ivyfile/conflict.html">conflict</a> which is about a master configuration is not supported. And every attribute about a mapping of a master configuration on a dependency configuration is now expecting only the dependency configuration.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Cardinality</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../ivyfile/dependency.html">dependency</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">declares a dependency to resolve</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../ivyfile/exclude.html">exclude</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">excludes artifacts, modules or whole organizations from the set of dependencies to resolve</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../ivyfile/override.html">override</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">specify an override mediation rule, overriding the revision and/or branch requested for a transitive dependency (<strong><em>since 2.0</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_examples_44">Examples</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:cachepath organisation="emma" module="emma" revision="2.0.4217" inline="true" conf="ant" pathid="emma.classpath"/&gt;
&lt;taskdef resource="emma_ant.properties" classpathref="emma.classpath"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Resolves the Emma module in version 2.0.4217, constructs an Ant path with the corresponding artifacts, and then defines the Emma tasks using this path.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_use_publish_a_publish"><a id="use_publish"></a>publish</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Publishes the current module&#8217;s <a href="../ivyfile/publications.html">artifacts</a> and the <a href="../ivyfile.html#resolved">resolved descriptor</a> (delivered Ivy file).</p>
</div>
<div class="paragraph">
<p>This task is meant to publish the current module descriptor together with its declared publication artifacts to a repository.</p>
</div>
<div class="paragraph">
<p>All the artifacts must have been created <em>before</em> calling this task. It does not create the artifacts themselves, but expects to find them at the location indicated by the artifacts pattern.</p>
</div>
<div class="paragraph">
<p>The target repository is given through the name of a resolver declared in current Ivy settings. See <a href="../settings.html">Settings Files</a> for details about resolver supporting artifact publishing.</p>
</div>
<div class="paragraph">
<p>It also publishes the delivered Ivy file (except if you don&#8217;t want), and even delivers it, if it has not been done with a previous deliver call or if forcedeliver is set to true. That&#8217;s why this task takes some parameters useful only for delivery. See the illustration below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ivy-publish-fc.png" alt="ivy publish fc"/>
</div>
</div>
<div class="paragraph">
<p>(<strong><em>since 1.4.1</em></strong>) The source artifact pattern can be specified either as an attribute on the task (artifactspattern) or using a list of nested artifacts element (see examples below).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_85">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">organisation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the organisation of the module to publish</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>${ivy.organisation}</code> or the last resolved module organisation.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the module to publish</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>${ivy.module}</code> or the last resolved module name.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">revision</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the revision of the module to publish and also the published revision unless pubrevision is set</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>${ivy.revision}</code> or the last resolve module revision.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">artifactspattern</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the pattern to use to find artifacts to publish</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>${ivy.publish.src.artifacts.pattern}</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">resolver</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the resolver to use for publication</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pubrevision</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the revision to use for the publication</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to the <code>${ivy.deliver.revision}</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pubbranch</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the branch to use for the publication</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to the <code>${ivy.deliver.branch}</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">forcedeliver</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> to force the implicit call to deliver, <code>false</code> to do it only if the Ivy file to publish doesn&#8217;t exist yet (<strong><em>since 1.4</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">update</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> to update Ivy file metadata (revision, branch, publication date and status) before publishing, <code>false</code> otherwise. This is usually not necessary when using deliver before publish.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">merge</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">if this descriptor <a href="../ivyfile/extends.html">extends</a> a parent, merge the inherited information directly into this descriptor on publish.  The <em>extends</em> element itself will be commented out in the published descriptor. (<strong><em>since 2.2</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">validate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> to force Ivy files validation against ivy.xsd, <code>false</code> to force no validation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to default Ivy value (as configured in <a href="../settings.html">settings file</a>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">replacedynamicrev</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> to replace dynamic revisions by static ones in the delivered file, <code>false</code> to avoid this replacement (<strong><em>since 1.3</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">publishivy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> to publish delivered Ivy file, <code>false</code> otherwise</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">conf</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A comma separated list of configurations to publish (<strong><em>since 1.4.1</em></strong>). Accepts wildcards (<strong><em>since 2.2</em></strong>).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to all configurations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">overwrite</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> to overwrite files in repository if the revision already exists, <code>false</code> to let it as is</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">warnonmissing</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> to warn when artifacts to be published are missing</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">haltonmissing</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> to halt build when artifacts to be published are missing</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">srcivypattern</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the pattern to use to find Ivy file to publish, and even deliver if necessary (<strong><em>since 1.2</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to the value of <code>artifactspattern</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pubdate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the publication date to use for the delivery, if necessary. This date should be either <code>now</code>, or a date given with the following pattern: <code>yyyyMMddHHmmss</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>now</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">status</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the status to use for the delivery, if necessary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>${ivy.status}</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">delivertarget</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the target to call for recursive delivery</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. No recursive delivery is done by default</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">settingsRef</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A reference to Ivy settings that must be used by this task (<strong><em>since 2.0</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, default to <code>ivy.instance</code>.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_child_elements_47">Child elements</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;"/>
<col style="width: 33.3333%;"/>
<col style="width: 33.3334%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Cardinality</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">artifact</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Describe additional artifacts to publish. These elements can have any attributes: standard artifact attributes and (<strong><em>since 2.2</em></strong>) extra attributes are supported.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">artifacts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specify the pattern used to find the artifact. These elements have a <code>pattern</code> attribute containing the pattern used to find the artifact.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_examples_45">Examples</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:publish resolver="local" pubrevision="1.0"&gt;
   &lt;artifacts pattern="build/artifacts/jars/[artifact].[ext]"/&gt;
   &lt;artifacts pattern="build/artifacts/zips/[artifact].[ext]"/&gt;
&lt;/ivy:publish&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Publishes the last resolved module in the local resolver with revision 1.0, looking for artifacts in directories <code>build/artifacts/jars</code> and <code>build/artifacts/zips</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_use_report_a_report"><a id="use_report"></a>report</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Generates reports of dependency resolving. One report per configuration is generated, but all reports generated together are hyperlinked one to each other.</p>
</div>
<div class="paragraph">
<p>This task should be used only after a call to resolve, even if the call was not done during the same Ant build.
In fact, this task uses XML report generated by resolve in cache. So if you call resolve on a module for a given configuration, you can call report safely on this module and this configuration as long as you do not clean your Ivy cache.</p>
</div>
<div class="paragraph">
<p>If you want to have an idea of what reports look like, check this very simple <a href="../samples/jayasoft-ivyrep-example-default.html">example</a>.
The task also generates a GraphML file which can be loaded with the free <a href="https://www.yworks.com/products/yed">yEd</a> graph editor.
Then following a few <a href="../yed.html">simple steps</a> you can obtain a graph like this <a href="../samples/jayasoft-ivyrep-example-default.jpg">one</a>.</p>
</div>
<div class="paragraph">
<p>(<strong><em>since 1.4</em></strong>) If a custom XSLT is specified, it&#8217;s possible to specify additional parameters to the stylesheet.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_86">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">todir</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the directory to which reports should be generated</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>${ivy.report.todir}</code>, or execution directory if not defined</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">outputpattern</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the generated report names pattern</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>${ivy.report.output.pattern}</code>, or <code>[organisation]-[module]-[conf].[ext]</code> if not defined</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">xsl</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> to generate a report (by default html report) using xslt, <code>false</code> otherwise (<strong><em>since 1.3</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">xml</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> to generate an XML report, <code>false</code> otherwise (<strong><em>since 1.3</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">graph</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> to generate GraphML files, <code>false</code> otherwise</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dot</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> to generate <a href="http://www.graphviz.org/">Graphviz DOT</a> files, <code>false</code> otherwise (<strong><em>since 1.4</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">conf</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a comma separated list of the configurations for which a report should be generated</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to the configurations resolved by the last resolve call (during same Ant build), or <code>${ivy.resolved.configurations}</code> if no resolve was called</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">organisation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the organisation of the module for which report should be generated</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, unless resolveId has not been specified and no resolve was called during the build. Defaults to last resolved module organisation.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the module for which report should be generated</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, unless resolveId has not been specified and no resolve was called during the build. Defaults to last resolved module.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">validate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true to force Ivy files validation against ivy.xsd, false to force no validation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to default Ivy value (as configured in settings)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">xslfile</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">indicates which xsl file should be used to generate the report</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to Ivy provided xsl which generates html report</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">settingsRef</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A reference to Ivy settings that must be used by this task (<strong><em>since 2.0</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>ivy.instance</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">resolveId</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The id which was used for a previous resolve (<strong><em>since 2.0</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>[org]-[module]</code>.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_examples_46">Examples</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To generate a HTML and GraphML report:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;report conf="compile"/&gt;</code></pre>
</div>
</div>
<hr/>
<div class="paragraph">
<p>To generate a HTML report only:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;report conf="compile" graph="false"/&gt;</code></pre>
</div>
</div>
<hr/>
<div class="paragraph">
<p>To generate an XML report using a custom stylesheet:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;report conf="compile" xslfile="my-custom-stylesheet.xsl" xslext="xml"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>To generate an XML report using a custom stylesheet which needs some parameters:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;report conf="compile" xslfile="my-custom-stylesheet.xsl" xslext="xml"&gt;
    &lt;param name="param1" expression="value1"/&gt;
    &lt;param name="param2" expression="value2"/&gt;
&lt;/report&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_yed_a_using_yed_to_layout_report_graphs"><a id="yed"></a>Using yEd to layout report graphs</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://www.yworks.com/products/yed">yEd</a> is a free graph editor, benefiting from all the automatic layouts of yFiles. Ivy is able to generate graphs which are readable by yEd.</p>
</div>
<div class="paragraph">
<p>The graphs generated by Ivy are not laid out (in fact, it&#8217;s why we use yEd), so you have to follow a simple sequence of steps to layout the generated graphs.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_preparation">Preparation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>First you have to generate a GraphML file. Simply call the report task (see Ivy use documentation) for that.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_step_1_open_the_graphml_file">Step 1: open the GraphML file</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Launch yEd editor, and open the GraphML file generated by the report task. You should obtain something like this:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/images/yed-step1.jpg" alt="yed step1"/>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_step_2_ask_yed_to_adjust_nodes_size">Step 2: ask yEd to adjust nodes size</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="images/images/yed-step2.jpg" alt="yed step2"/>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/images/yed-step3.jpg" alt="yed step3"/>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/images/yed-step3-2.jpg" alt="yed step3 2"/>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_step_3_ask_yed_to_layout_nodes">Step 3: ask yEd to layout nodes</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="images/images/yed-step4.jpg" alt="yed step4"/>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/images/yed-step5.jpg" alt="yed step5"/>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/images/yed-step6.jpg" alt="yed step6"/>
</div>
</div>
<div class="paragraph">
<p>That&#8217;s all, you should have obtained something like this:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/images/yed-step7.jpg" alt="yed step7"/>
</div>
</div>
<div class="paragraph">
<p>Note that this is only one possibility, test the available layouts yourself, you could find one better in your case.
Once you have laid out the graph, you can either save it with in the same file (but be warned that it will be overwritten at next Ivy report call), or another file, export it to JPEG, GIF, SVG, etc. (see <a href="https://www.yworks.com/products/yed">yEd</a> site for details).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_use_repreport_a_repreport"><a id="use_repreport"></a>repreport</h2>
<div class="sectionbody">
<div class="paragraph">
<p>[<strong><em>since 1.4</em></strong>]</p>
</div>
<div class="paragraph">
<p>Generates reports about dependencies among several modules in the repository (repreport stands for repository report).</p>
</div>
<div class="paragraph">
<p>This task is similar to the <a href="../use/report.html">report</a> task, except that instead of working on a single module you just resolved, it works with a set of modules in your repository.</p>
</div>
<div class="paragraph">
<p>Note that the set of modules for which you generate the report is determined by setting organisation module and revision and using a matcher, but also by the dependencies of these modules. No dependency is excluded.</p>
</div>
<div class="paragraph">
<p>Usually the most useful report is a graph, you can generate either a GraphML file that you can then easily <a href="../yed.html">layout using yEd</a>, or a DOT file which is the format recognized by Graphviz, which is a free tool that does automatic graph layout, and can thus be used to generate automatically a GIF, PNG or SVG of the dependencies between all your modules.</p>
</div>
<div class="paragraph">
<p><strong>Limitation</strong>: this task requires to be able to browse the repository, and is thus limited to resolvers supporting repository listing. In particular, it means it doesn&#8217;t work to report all organizations in a repository using m2compatible mode.
Moreover, to be able to list organizations, this task requires an [organisation] token in the resolver(s) used.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_87">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">organisation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A pattern matching the organisation of the modules for which the report should be generated</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>*</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A pattern matching the name of the modules for which the report should be generated</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>*</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">branch</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the branch of the modules for which the report should be generated</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to no branch specified</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">revision</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The revision of the modules for which the report should be generated. Only one revision per module will be used, so most of the time keeping the default (<code>latest.integration</code>) is the best thing to do, because it&#8217;s not very easy to specify only one revision for several modules.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>latest.integration</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">todir</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the directory to which reports should be generated</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to execution directory</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">outputname</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name to use for the generate file (without extension)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>ivy-repository-report</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">xml</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> to generate a XML report, <code>false</code> otherwise</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">xsl</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> to generate a report using XSLT, <code>false</code> otherwise</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">xslfile</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">indicates which xsl file should be used to generate the report</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes, if you want to use XSLT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">xslext</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">indicates the extension to use when generating report using XSLT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>html</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">graph</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> to generate GraphML file, <code>false</code> otherwise</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dot</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> to generate Graphviz DOT format file, <code>false</code> otherwise</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">matcher</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the matcher to use for matching modules names and organisations in your repository</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>exactOrRegexp</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">validate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> to force Ivy files validation against ivy.xsd, <code>false</code> to force no validation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to default Ivy value (as configured in settings)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">settingsRef</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A reference to Ivy settings that must be used by this task (<strong><em>since 2.0</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>ivy.instance</code>.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_examples_47">Examples</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To generate a XML report for all the latest versions of all the modules in your repository:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:repreport/&gt;</code></pre>
</div>
</div>
<hr/>
<div class="paragraph">
<p>To generate a GraphML report for all the latest versions of all the modules in your repository:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:repreport xml="false" graph="true"/&gt;</code></pre>
</div>
</div>
<hr/>
<div class="paragraph">
<p>To generate a XML report for all the latest versions of the modules from the organisation foo in your repository:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:repreport organisation="foo"/&gt;</code></pre>
</div>
</div>
<hr/>
<div class="paragraph">
<p>To generate a XML report for all the versions on the 1.x stream of the modules named bar* from the organisation foo in your repository:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:repreport organisation="foo" module="bar*" revision="1.+" matcher="glob"/&gt;</code></pre>
</div>
</div>
<hr/>
<div class="paragraph">
<p>To generate an XML report using a custom stylesheet:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:repreport xsl="true" xslfile="my-custom-stylesheet.xsl" xslext="xml"/&gt;</code></pre>
</div>
</div>
<hr/>
<div class="paragraph">
<p>To generate an XML report using a custom stylesheet which needs some parameters:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:repreport xsl="true" xslfile="my-custom-stylesheet.xsl" xslext="xml"&gt;
    &lt;param name="param1" expression="value1"/&gt;
    &lt;param name="param2" expression="value2"/&gt;
&lt;/report&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_use_resolve_a_resolve"><a id="use_resolve"></a>resolve</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The resolve task actually resolves dependencies described in an <a href="../ivyfile.html">Ivy file</a>, and puts the resolved dependencies in the Ivy cache.
If configure has not been called before resolve is called, a default configuration will be used (equivalent to calling configure without attributes).</p>
</div>
<div class="paragraph">
<p>After the call to this task, four properties are set in Ant:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ivy.organisation</code>: set to the organisation name found in the Ivy file which was used for resolve</p>
</li>
<li>
<p><code>ivy.module</code>: set to the module name found in the Ivy file which was used for resolve</p>
</li>
<li>
<p><code>ivy.revision</code>: set to the revision name found in the Ivy file which was used for resolve, or a generated revision name if no revision was specified in the file</p>
</li>
<li>
<p><code>ivy.resolved.configurations</code>: set to the comma separated list of configurations resolved</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>(<strong><em>since 1.2</em></strong>) An additional property is set to <code>true</code> if the resolved dependencies are changes since the last resolve, and to <code>false</code> otherwise: <code>ivy.deps.changed</code>.</p>
</div>
<div class="paragraph">
<p>(<strong><em>since 2.0</em></strong>) The property <code>ivy.deps.changed</code> will not be set (and not be computed) if you set the parameter <code>checkIfChanged</code> to <code>false</code>. (By default, it is <code>true</code> to keep backward compatibility).  This allows to optimize your build when you have multi-module build with multiple configurations.</p>
</div>
<div class="paragraph">
<p>(<strong><em>since 2.0</em></strong>) In addition, if the <code>resolveId</code> attribute has been set, the following properties are set as well:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ivy.organisation.${resolveId}</code></p>
</li>
<li>
<p><code>ivy.module.${resolveId}</code></p>
</li>
<li>
<p><code>ivy.revision.${resolveId}</code></p>
</li>
<li>
<p><code>ivy.resolved.configurations.${resolveId}</code></p>
</li>
<li>
<p><code>ivy.deps.changed.${resolveId}</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>(<strong><em>since 2.4</em></strong>) If current module extends other modules:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ivy.parents.count</code>: number of parent modules</p>
</li>
<li>
<p><code>ivy.parent[<em>index</em>].organisation</code>: set to the organisation name found in the parent Ivy file which was used for resolve</p>
</li>
<li>
<p><code>ivy.parent[<em>index</em>].module</code>: set to the module name found in the parent Ivy file which was used for resolve</p>
</li>
<li>
<p><code>ivy.parent[<em>index</em>].revision</code>: set to the revision name found in the parent Ivy file which was used for resolve</p>
</li>
<li>
<p><code>ivy.parent[<em>index</em>].branch</code>: set to the branch name found in the parent Ivy file which was used for resolve</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Where <em>index</em> represent the index of extends module.</p>
</div>
<div class="paragraph">
<p>When Ivy has finished the resolve task, it outputs a summary of what has been resolved. This summary looks like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>---------------------------------------------------------------------
|                  |            modules            ||   artifacts   |
|       conf       | number| search|dwnlded|evicted|| number|dwnlded|
---------------------------------------------------------------------
|      default     |   4   |   0   |   0   |   0   ||   4   |   0   |
---------------------------------------------------------------------</code></pre>
</div>
</div>
<div class="paragraph">
<p>This table gives some statistics about the dependency resolution. Each line correspond to a configuration resolved. Then the table is divided in two parts:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>modules</code></p>
<div class="ulist">
<ul>
<li>
<p><code>number</code>: the total number of dependency modules resolved in this configuration, including transitive ones</p>
</li>
<li>
<p><code>search</code>: the number of dependency modules that required a repository access. The repository access is needed if the module is not yet in cache, or if a latest version is required, or in some other cases (depending on <code>checkModified</code>, for instance)</p>
</li>
<li>
<p><code>dwnlded</code>: the number of dependency Ivy files downloaded from the repository. This number can be less than the total number of modules even with a clean cache, if no Ivy file is provided for some dependencies.</p>
</li>
<li>
<p><code>evicted</code>: the number of dependency module evicted by conflict managers.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>artifacts</code></p>
<div class="ulist">
<ul>
<li>
<p><code>number</code>: the total number of artifacts resolved in the given configuration.</p>
</li>
<li>
<p><code>dwnlded</code>: the number of artifacts actually downloaded from the repository.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_inline_mode">Inline mode</h2>
<div class="sectionbody">
<div class="paragraph">
<p>[<strong><em>since 1.4</em></strong>]</p>
</div>
<div class="literalblock">
<div class="content">
<pre>The inline mode allows to call a resolve without an Ivy file, by setting directly the module which should be resolved from the repository. It is particularly useful to install released software, like an Ant task for example. When `inline` is set to `true`, the organisation module and revision attributes are used to specify which module should be resolved from the repository.</pre>
</div>
</div>
<div class="paragraph">
<p><strong>Remark:</strong> if you want the standard Ivy properties to be set or to reuse the results of an inline resolve by other post-resolve tasks like <code>retrieve</code>, <code>cachepath</code>, <code>report</code>&#8230;&#8203;,  you must set the keep attribute to <code>true</code>!</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resolve_mode">Resolve mode</h2>
<div class="sectionbody">
<div class="paragraph">
<p>[<strong><em>since 2.0</em></strong>]</p>
</div>
<div class="paragraph">
<p>The resolve mode allows to define how Ivy should use dependency revision constraints when performing the resolution.</p>
</div>
<div class="paragraph">
<p>Two modes are available:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>default</code>: in this mode the default revision constraint (expressed with the <code>rev</code> attribute in the <a href="../ivyfile/dependency.html">dependency</a> element) is used.</p>
</li>
<li>
<p><code>dynamic</code>: in this mode the dynamic revision constraint (expressed with the <code>revConstraint</code> attribute in the <a href="../ivyfile/dependency.html">dependency</a> element) is used.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_concurrency">Concurrency</h2>
<div class="sectionbody">
<div class="paragraph">
<p>During resolve, Ivy creates a file in the <a href="../settings/caches.html">resolution cache</a>. The creation of this file is not aimed to support concurrency, meaning that you can&#8217;t have two concurrent resolve of the same module, in the same resolution cache, with the same <code>resolveId</code>.</p>
</div>
<div class="paragraph">
<p><em>Note for developers</em>: after the call to this task, a reference to the module descriptor resolved is put in the Ant project under the id <code>ivy.resolved.descriptor</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_88">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">path to the Ivy file to use for resolution</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>${ivy.dep.file}</code> or nothing in inline mode</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">conf</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a comma separated list of the configurations to resolve, or <code>*</code>.
(<strong><em>since 2.0</em></strong>) You can also use <code>*(private)</code>, <code>*(public)</code>.  Note that when <code>inline</code> is <code>true</code>, the configuration <code>*</code> is equivalent as <code>*(public)</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>${ivy.configurations}</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">refresh</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> to force Ivy to resolve dynamic revision in this resolve process, <code>false</code> to use cached resolved revision (<strong><em>since 2.0</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. defaults to <code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">resolveMode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the resolve mode to use for this dependency resolution process (<strong><em>since 2.0</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. defaults to using the resolve mode set in the <a href="../settings.html">settings</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">inline</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> to use inline mode, false to resolve an Ivy file (<strong><em>since 1.4</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. defaults to <code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">keep</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> to keep the results of the resolve in memory, false to discard them. When this is <code>false</code>, the standard Ivy properties won&#8217;t be set and other post-resolve tasks (like <code>retrieve</code> and <code>cachepath</code>) won&#8217;t be able to reuse the results of this resolve!</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. defaults to <code>false</code> for an inline resolve and to <code>true</code> in any other case</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">organisation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the organisation of the module to resolve in inline mode (<strong><em>since 1.4</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes in inline mode, no otherwise.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the module to resolve in inline mode (<strong><em>since 1.4</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes in inline mode, no otherwise.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">revision</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the revision constraint to apply to the module to resolve in inline mode (<strong><em>since 1.4</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>latest.integration</code> in inline mode, nothing in standard mode.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">branch</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the branch to resolve in inline mode (<strong><em>since 2.1</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defaults to no branch in inline mode, nothing in standard mode.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">changing</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">indicates that the module may change when resolving in inline mode. See <a href="../concept.html#change">cache and change management</a> for details. Ignored when resolving in standard mode. (<strong><em>since 1.4</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>false</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">comma separated list of accepted artifact types (<strong><em>since 1.2</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. defaults to <code>${ivy.resolve.default.type.filter}</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">haltonfailure</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> to halt the build on Ivy failure, false to continue</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">failureproperty</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the property to set if the resolve failed (<strong><em>since 1.4</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. No property is set by default.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">transitive</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> to resolve dependencies transitively, <code>false</code> otherwise (<strong><em>since 1.4</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">showprogress</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> to show dots while downloading, <code>false</code> otherwise</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">validate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> to force Ivy files validation against ivy.xsd, <code>false</code> to force no validation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to default Ivy value (as configured in settings)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">settingsRef</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A reference to Ivy settings that must be used by this task (<strong><em>since 2.0</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>ivy.instance</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">resolveId</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An id which can be used later to refer to the results of this resolve (<strong><em>since 2.0</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>[org]-[module]</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">log</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the log setting to use during the resolve process (<strong><em>since 2.0</em></strong>)
</p><p class="tableblock">Available options are:<br/>
* <code>default</code>: the default log settings, where all usual messages are output to the console<br/>
* <code>download-only</code>: disable all usual messages but download ones. A resolve with everything in cache won&#8217;t output any message.<br/>
* <code>quiet</code>: disable all usual messages, making the whole resolve process quiet unless errors occur<br/></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>default</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">checkIfChanged</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">When set to <code>true</code>, the resolve will compare the result with the last resolution done on this module, with those configurations in order to define the property <code>ivy.deps.changed</code>.  Put it to <code>false</code> may provides slightly better performance. (<strong><em>since 2.0</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, default to <code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">useCacheOnly</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">When set to <code>true</code>, it forces the resolvers to only use their caches and not their actual contents. (<strong><em>since 2.0</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, default to <code>false</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_child_elements_48">Child elements</h2>
<div class="sectionbody">
<div class="paragraph">
<p>[<strong><em>since 2.3</em></strong>]</p>
</div>
<div class="paragraph">
<p>These child elements are defining an inlined ivy.xml&#8217;s <a href="../ivyfile/dependencies.html">dependencies</a> elements. Thus these child elements cannot be used together with the <code>inline</code> or <code>file</code> attributes.</p>
</div>
<div class="paragraph">
<p>There is one important difference with the ivy.xml&#8217;s <a href="../ivyfile/dependencies.html">dependencies</a>: there is no master configuration to handle here. There is actually only one, the one on which the resolve will run. So every attribute in <a href="../ivyfile/dependency.html">dependency</a>, <a href="../ivyfile/exclude.html">exclude</a>,  <a href="../ivyfile/override.html">override</a> or <a href="../ivyfile/conflict.html">conflict</a> which is about a master configuration is not supported. And every attribute about a mapping of a master configuration on a dependency configuration is now expecting only the dependency configuration.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Cardinality</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../ivyfile/dependency.html">dependency</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">declares a dependency to resolve</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../ivyfile/exclude.html">exclude</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">excludes artifacts, modules or whole organizations from the set of dependencies to resolve</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../ivyfile/override.html">override</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">specify an override mediation rule, overriding the revision and/or branch requested for a transitive dependency (<strong><em>since 2.0</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..n</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_examples_48">Examples</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:resolve file="path/to/ivy.xml"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Resolve all dependencies declared in path/to/ivy.xml file.</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:resolve file="path/to/ivy.xml" transitive="false"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Same as above, but with transitive dependencies disabled.</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:resolve file="path/to/ivy.xml" conf="default, test"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Resolve the dependencies declared in the configuration <code>default</code> and <code>test</code> of the <code>path/to/ivy.xml</code> file.</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:resolve file="path/to/ivy.xml" type="jar"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Resolve all dependencies declared in <code>path/to/ivy.xml</code> file, but download only <code>jar</code> artifacts.</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:resolve organisation="apache" module="commons-lang" revision="2+" inline="true"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Resolve the <code>commons-lang</code> module revision 2+ from the repository, with its dependencies.</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:resolve&gt;
    &lt;dependency org="apache" name="commons-lang" rev="2+"/&gt;
    &lt;dependency org="apache" name="commons-logging" rev="1.1"/&gt;
    &lt;exclude org="apache" module="log4j"/&gt;
&lt;/ivy:resolve&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Resolve of both <code>commons-lang</code> and <code>commons-logging</code>, with their dependencies but not <code>log4j</code>.</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:resolve&gt;
    &lt;dependency org="org.slf4j" module="slf4j" rev="1.6" conf="api,log4j"/&gt;
&lt;/ivy:resolve&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Resolve the configurations <code>api</code> and <code>log4j</code> of <code>slf4j</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_use_resources_a_resources"><a id="use_resources"></a>resources</h2>
<div class="sectionbody">
<div class="paragraph">
<p>[<strong><em>since 2.3</em></strong>] (<strong><em>Ant 1.7 required</em></strong>)</p>
</div>
<div class="paragraph">
<p><code>ivy:resources</code> is an Ant <a href="https://ant.apache.org/manual/Types/resources.html#collection">resource collection</a>, containing files found by an Ivy resolve, which then can be used with any task working with resources like <code>copy</code> or <code>import</code>.</p>
</div>
<div class="paragraph">
<p>This datatype shares the same attributes, child elements and behaviour of a <a href="../use/postresolvetask.html">post resolve task</a>. It is not expected to be used as an Ant task though, only as a resource collection.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_examples_49">Examples</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:resources file="path/to/ivy.xml"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Build a resource collection of every artifacts of all dependencies declared in <code>path/to/ivy.xml</code> file.</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:resources file="path/to/ivy.xml" transitive="false"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Same as above, but with transitive dependencies disabled.</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:resources file="path/to/ivy.xml" conf="default, test"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Build a resource collection of every artifacts of the dependencies declared in the configuration default and test of the <code>path/to/ivy.xml</code> file.</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:resources file="path/to/ivy.xml" type="jar"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Build a resource collection of every <code>jar</code> artifact of all dependencies declared in <code>path/to/ivy.xml</code> file.</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:resources organisation="apache" module="commons-lang" revision="2+" inline="true"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Build a resource collection of every artifacts of <code>commons-lang</code> module revision 2+ from the repository, with its dependencies.</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:resources&gt;
    &lt;dependency org="apache" module="commons-lang" rev="2+"/&gt;
    &lt;dependency org="apache" module="commons-logging" rev="1.1"/&gt;
    &lt;exclude org="apache" module="log4j"/&gt;
&lt;/ivy:resources&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Build a resource collection of every artifacts of both <code>commons-lang</code> and <code>commons-logging</code>, with their dependencies but not <code>log4j</code>.</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:resources&gt;
    &lt;dependency org="org.slf4j" module="slf4j" rev="1.6" conf="api,log4j"/&gt;
&lt;/ivy:resources&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Build a resource collection of every artifacts of the configurations <code>api</code> and <code>log4j</code> of <code>slf4j</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_use_retrieve_a_retrieve"><a id="use_retrieve"></a>retrieve</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>retrieve</code> task copies resolved dependencies anywhere you want in your file system.</p>
</div>
<div class="paragraph">
<p>This is a <a href="../use/postresolvetask.html">post resolve task</a>, with all the behaviour and attributes common to all post resolve tasks.</p>
</div>
<div class="paragraph">
<p>(<strong><em>since 1.4</em></strong>) This task can even be used to synchronize the destination directory with what should actually be in according to the dependency resolution. This means that by setting <code>sync="true"</code>, Ivy will not only copy the necessary files, but it will also remove the files which do not need to be there.</p>
</div>
<div class="paragraph">
<p>The synchronisation actually consists in deleting all filles and directories in the root destination directory which are not required by the retrieve.</p>
</div>
<div class="paragraph">
<p>The root destination directory is the the directory denoted by the first level up the first token in the destination pattern.
For instance, for the pattern <code>lib/[conf]/[artifact].[ext]</code>, the root will be <code>lib</code>.</p>
</div>
<div class="paragraph">
<p>(<strong><em>since 2.3</em></strong>) A nested <a href="https://ant.apache.org/manual/Types/mapper.html">mapper</a> element can be used to specify more complex filename transformations of the retrieved files. See the examples below.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_89">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pattern</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the pattern to use to copy the dependencies</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>${ivy.retrieve.pattern}</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ivypattern</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the pattern to use to copy the Ivy files of dependencies (<strong><em>since 1.3</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Dependency Ivy files are not retrieved by default.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">conf</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a comma separated list of the configurations to retrieve</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to the configurations resolved by the last resolve call, or <code>*</code> if no resolve was explicitly called</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sync</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> to synchronize the destination, false to just make a copy (<strong><em>since 1.4</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">comma separated list of accepted artifact types (<strong><em>since 1.4</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. All artifact types are accepted by default.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">overwriteMode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">option to configure when the destination file should be overwritten if it exists (<strong><em>since 2.2</em></strong>).
</p><p class="tableblock">Possible values are:<br/>
* <code>newer</code>: overwrite the destination file if a more recent one is available (based on timestamp)<br/>
* <code>different</code>: overwrite the destination file if the timestamp is different<br/>
* <code>always</code>: always overwrite the destination file<br/>
* <code>never</code>: never overwrite the destination file<br/></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>newer</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">symlink</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> to create symbolic links, <code>false</code> to copy the artifacts. The destination of the symbolic links depends on the value of the <code>useOrigin</code> attribute.<br/>
The implementation of this task relies on Java standard <code>Files.createSymbolicLink</code> API and depending on whether or not the underlying filesystem supports symbolic links, creation of such symbolic links may or may not work.<br/>
If this option is set to <code>true</code> and symbolic link creation fails, then the retrieve task will attempt to do a regular copy of the artifact which failed symlink creation. (<strong><em>since 2.0</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="line-through">symlinkmass</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Deprecated since 2.5</em></strong> This option is no longer supported or relevant.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. Defaults to <code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">settingsRef</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A reference to Ivy settings that must be used by this task (<strong><em>since 2.0</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults ot <code>ivy.instance</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">log</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the log setting to use during the resolve and retrieve process. (<strong><em>since 2.0</em></strong>)
</p><p class="tableblock">Available options are the same as for <a href="../use/resolve.html">resolve</a> when used to trigger resolve automatically (see <a href="../use/postresolvetask.html">postresolvetask</a>), or the following for the retrieve process only:<br/>
* <code>default</code>: the default log settings, where all usual messages are output to the console<br/>
* <code>quiet</code>: disable all usual messages, making the whole retrieve process quiet unless errors occur</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>default</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pathId</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the id of the path to create containing the retrieved artifacts. (<strong><em>since 2.3</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. No path is created by default.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">setId</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the id of the fileset to create containing the retrieved artifacts. (<strong><em>since 2.3</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No. No fileset is created by default.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_examples_50">Examples</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:retrieve/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Retrieves dependencies using default parameters. This usually retrieves all the dependencies of the last resolve call to a lib directory.</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:retrieve pattern="${lib.dir}/[conf]/[artifact].[ext]"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Retrieves all dependencies of the last resolve call to a lib directory, dependencies being separated in directories named by configuration, each conf directory containing corresponding artifacts without the revision.
For instance, if the Ivy file declares two configurations default and test, the resulting lib dir could look like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>lib
  default
    commons-lang.jar
    commons-logging.jar
  test
    junit.jar</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that if a dependency is required in the two configurations, it will be copied in the two directories. The download of the dependency is however only made once at resolve time.</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:retrieve pattern="${lib.dir}/[conf]/[artifact].[ext]" sync="true"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Same as before, but with synchronisation enabled.</p>
</div>
<div class="paragraph">
<p>For instance, if the Ivy file declares two configurations default and test, the resulting lib dir could look like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>lib
  default
    commons-lang.jar
    commons-logging.jar
  test
    junit.jar</code></pre>
</div>
</div>
<div class="paragraph">
<p>And now suppose commons-logging is no longer part of the dependencies of the default configuration, then a new call to retrieve will result in:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>lib
  default
    commons-lang.jar
  test
    junit.jar</code></pre>
</div>
</div>
<div class="paragraph">
<p>With no synchronisation, commons-logging would not have been removed by the call.</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:retrieve pattern="${lib.dir}/[type]/[artifact]-[revision].[ext]" conf="runtime"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Retrieves only the dependencies of the <code>runtime</code>. Dependencies separated in directories named by artifact type. The resulting lib dir could look like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>lib
  jar
    commons-lang-1.0.jar
    looks-1.1.jar
  source
    looks-1.1.zip</code></pre>
</div>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:retrieve pattern="${lib.dir}/[organisation]/[artifact]-[revision].[ext]"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Retrieves all dependencies of the last resolve call to a lib directory. The <code>[organisation]</code> token will get the unmodified organisation value. The resulting lib dir could look like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>lib
  org.apache
    commons-lang-1.0.jar
  org.junit
    junit-4.1.jar
    junit-4.1.zip</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:retrieve pattern="${lib.dir}/[orgPath]/[artifact]-[revision].[ext]"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Retrieves all dependencies of the last resolve call to a lib directory. The <code>[orgPath]</code> token will get a tree structure. The resulting lib dir could look like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>lib
  org
    apache
      commons-lang-1.0.jar
    junit
      junit-4.1.jar
      junit-4.1.zip</code></pre>
</div>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:retrieve organisation="foo" module="bar" inline="true" pattern="${my.install.dir}/[artifact].[ext]"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Resolves and retrieves the latest version of the module bar and its dependencies in the directory pointed by <code>${my.install.dir}</code>.</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:retrieve pattern="lib/[artifact]-[revision].[ext]"&gt;
    &lt;firstmatchmapper&gt;
        &lt;globmapper from="lib/*-SNAPSHOT.jar" to="lib/snapshots/*-SNAPSHOT.jar"/&gt;
        &lt;globmapper from="lib/*" to="lib/releases/*"/&gt;
    &lt;/firstmatchmapper&gt;
&lt;/ivy:retrieve&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Retrieves all dependencies of the last resolve call to a lib directory. The jar files with a version equal to <code>SNAPSHOT</code> are retrieved in a <code>snapshots</code> directory. The other ones are retrieved in a <code>releases</code> directory.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_use_settings_a_settings"><a id="use_settings"></a>settings</h2>
<div class="sectionbody">
<div class="paragraph">
<p>[<strong><em>since 2.0</em></strong>]</p>
</div>
<div class="paragraph">
<p>The settings declaration is used to configure Ivy with a settings XML file. The difference with the <a href="../use/configure.html">configure</a> task is that when using the settings declaration, the configuration of Ivy will be done when the settings are first needed (for instance, when you do a resolve), while the configure task will perform a configuration of Ivy instantly, which makes it easier to see the problem if something goes wrong.</p>
</div>
<div class="paragraph">
<p>See <a href="../settings.html">Settings Files</a> for details about the settings file itself.</p>
</div>
<div class="paragraph">
<p>Multiple settings can be defined in a build script. Every task can reference its own settings.</p>
</div>
<div class="paragraph">
<p>All Ivy variables set during the settings are available in the Ant project as long as they were not set in Ant before (Ant properties are immutable).</p>
</div>
<div class="paragraph">
<p>Moreover, the variables are exposed under two names: the variable name, and the variable name suffixed by dot + the settings id.</p>
</div>
<div class="paragraph">
<p>For instance, if you load a settings with the id <code>myid</code>, and define a variable <code>my.variable=my.value</code> in the Ivy settings, both <code>my.variable</code> and <code>my.variable.myid</code> will now be available as properties in Ant and equal to <code>my.value</code>. If you later load another settings with the id <code>yourid</code>, and in this settings assign the variable <code>my.variable</code> the value <code>your.value</code>, in the Ant project you will have:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties" data-lang="properties">my.variable=my.value
my.variable.myid=my.value
my.variable.yourid=your.value</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_90">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">id</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The settings id usable in the <code>settingsRef</code> attributes of the Ivy task that needs a setting.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>ivy.instance</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">path to the settings file to use</p></td>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock">No. If a file is provided, URL is ignored. If none are provided, then it attempts to find a file at <code>${ivy.settings.file}</code>, and if this file does not exist, it uses a <a href="../tutorial/defaultconf.html">default settings file</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">url</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">URL of the settings file to use</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">host</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTP authentication host</p></td>
<td class="tableblock halign-left valign-middle" rowspan="4"><p class="tableblock">No, unless authentication is required</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">realm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTP authentication realm</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">username</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTP authentication user name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">passwd</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTP authentication password</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_http_authentication_2">HTTP Authentication</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>Note</em>: HTTP authentication can be used only if <a href="https://hc.apache.org/httpcomponents-client-ga/index.html">HttpComponents HttpClient library</a> (minimum of 4.5.3 version) and its <a href="https://hc.apache.org/httpcomponents-client-4.5.x/dependency-management.html">dependencies</a> are in your classpath.</p>
</div>
<div class="paragraph">
<p>If any of the URLs you use in Ivy (especially in dependency resolvers) needs HTTP authentication, then you have to provide the <code>host</code>, <code>realm</code>, <code>username</code> and <code>passwd</code> attributes of the configure task. These settings will then be used in any further call to Ivy tasks.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_multiple_classloader">Multiple classloader</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A special attention should be applied when you have a multi-project build with <code>subant</code> call, using Ivy task loaded by a <code>typedef</code>.  Indeed in this situation, it is possible to pass settings reference to a subbuild.  When you do that, you should take care of the classloader.  The Ivy task of your <code>subant</code> should not be defined in a different classloader than the parent one.  This can be achieved by using the <code>loader</code> parameter of the antlib declaration, or avoid to reload the Ivy antlib in the subbuild (place the <code>taskdef</code> in a target only executed when the antlib is not yet loaded).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_examples_51">Examples</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_simplest_settings_2">Simplest settings</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:settings/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Use either <code>${ivy.settings.file}</code> if it exists, or the <a href="../samples/ivysettings-default.xml">default settings file</a></p>
</div>
<div class="paragraph">
<p>This simplest setting is implicit.</p>
</div>
</div>
<div class="sect2">
<h3 id="_configure_with_a_file_2">Configure with a file</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:settings file="mysettings.xml"/&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configure_with_an_url_2">Configure with an URL</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:settings url="http://mysite.com/mysettings.xml"/&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configure_multiple_realms_which_require_authentication">Configure multiple realms which require authentication</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy:settings file="path/to/my/ivysettings.xml"&gt;
  &lt;credentials host="myhost.com" realm="My Realm" username="myuser" passwd="mypasswd"/&gt;
  &lt;credentials host="yourhost.com" realm="Your Realm" username="myuser" passwd="myotherpasswd"/&gt;
&lt;/ivy:settings&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configure_2_different_settings">Configure 2 different settings</h3>
<div class="paragraph">
<p>You can use multiple Ivy settings during a build. Then every Ivy task should specify the settings it uses using the <code>settingsRef</code> attribute.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml"> &lt;ivy:settings id="ivy.normal.settings" file="normal_settings.xml"/&gt;
 &lt;ivy:settings id="ivy.release.settings" file="release_settings.xml"/&gt;

 &lt;ivy:resolve settingsRef="ivy.normal.settings"/&gt;
 &lt;ivy:resolve settingsRef="ivy.release.settings"/&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_use_var_a_var"><a id="use_var"></a>var</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Sets a variable (by name and value), or set of variables (from file or URL) in Ivy.</p>
</div>
<div class="paragraph">
<p>Variables are case sensitive.</p>
</div>
<div class="paragraph">
<p>Contrary to Ant properties, Ivy variables are mutable. But a problem with this is that you do not control when
variables are substituted, and usually it is done as soon as possible. So changing the value of a variable will
have no effect if it has already been substituted. Consequently, <strong>using this task is NOT recommended</strong>.</p>
</div>
<div class="paragraph">
<p>See <a href="../reference.html">reference</a> page for details about Ivy variables.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attributes_91">Attributes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 15%;"/>
<col style="width: 50%;"/>
<col style="width: 35%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the variable to set</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the value of the variable to set</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes when using the name attribute</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the filename of the property file to load as Ivy variables</p></td>
<td class="tableblock halign-left valign-middle" rowspan="2"><p class="tableblock">One of these, when <strong>not</strong> using the name attribute</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">url</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the URL from which to read Ivy variables</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">prefix</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prefix to apply to variables. A dot (<code>.</code>) is appended to the prefix if not specified.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">settingsRef</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A reference to Ivy settings that must be used by this task (<strong><em>since 2.0</em></strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No, defaults to <code>ivy.instance</code>.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_standalone_a_using_standalone"><a id="standalone"></a>Using standalone</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_using_standalone" class="sect0">Using standalone</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p>Ivy can be used as a standalone program very easily. All you need is a Java 7+ runtime environment (JRE)!</p>
</div>
<div class="paragraph">
<p>Then here is how to call it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell" data-lang="shell">java -jar ivy.jar -?</code></pre>
</div>
</div>
<div class="paragraph">
<p>It will display usage text as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>usage: ivy
==== settings options
 -settings &lt;settingsfile&gt;     use given file for settings
 -properties &lt;propertiesfile&gt; use given file for properties not specified in set
                              tings
 -cache &lt;cachedir&gt;            use given directory for cache
 -novalidate                  do not validate ivy files against xsd
 -m2compatible                use Maven 2 compatibility

==== resolve options
 -ivy &lt;ivyfile&gt;               use given file as ivy file
 -refresh                     refresh dynamic resolved revisions
 -dependency &lt;organisation&gt; &lt;module&gt; &lt;revision&gt;
                              use this instead of ivy file to do the rest of the
                               work with this as a dependency.
 -confs &lt;configurations&gt;      resolve given configurations
 -types &lt;types&gt;               accepted artifact types
 -mode &lt;resolvemode&gt;          the resolve mode to use
 -notransitive                do not resolve dependencies transitively

==== retrieve options
 -retrieve &lt;retrievepattern&gt;  use given pattern as retrieve pattern
 -ivypattern &lt;pattern&gt;        use given pattern to copy the ivy files
 -sync                        use sync mode for retrieve
 -symlink                     create symbolic links
 -overwriteMode &lt;overwriteMode&gt; use given overwrite mode for retrieve

==== cache path options
 -cachepath &lt;cachepathfile&gt;   outputs a classpath consisting of all dependencies
                               in cache (including transitive ones) of the given
                               ivy file to the given cachepathfile

==== deliver options
 -deliverto &lt;ivypattern&gt;      use given pattern as resolved ivy file pattern

==== publish options
 -publish &lt;resolvername&gt;      use given resolver to publish to
 -publishpattern &lt;artpattern&gt; use given pattern to find artifacts to publish
 -revision &lt;revision&gt;         use given revision to publish the module
 -status &lt;status&gt;             use given status to publish the module
 -overwrite                   overwrite files in the repository if they exist

==== makepom options
 -makepom &lt;pomfilepath&gt;       create a POM file for the module

==== http auth options
 -realm &lt;realm&gt;               use given realm for HTTP AUTH
 -host &lt;host&gt;                 use given host for HTTP AUTH
 -username &lt;username&gt;         use given username for HTTP AUTH
 -passwd &lt;passwd&gt;             use given password for HTTP AUTH

==== launcher options
 -main &lt;main&gt;                 the FQCN of the main class to launch
 -args &lt;args&gt;                 the arguments to give to the launched process
 -cp &lt;cp&gt;                     extra classpath to use when launching process

==== message options
 -debug                       set message level to debug
 -verbose                     set message level to verbose
 -warn                        set message level to warn
 -error                       set message level to error

==== help options
 -?                           display this help
 -deprecated                  show deprecated options
 -version                     displays version information</code></pre>
</div>
</div>
<div class="paragraph">
<p>(<strong><em>since 1.3</em></strong>) System properties are included as Ivy variables, so you can easily define an Ivy variable like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell" data-lang="shell">java -Dmyivyvar=myvalue org.apache.ivy.Main [parameters]</code></pre>
</div>
</div>
<div class="paragraph">
<p>(<strong><em>since 2.5</em></strong>) Additional properties defined in a separate <code>.properties</code> file (rather than Ivy settings) can be loaded using <code>-properties</code> option like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell" data-lang="shell">java -jar ivy.jar -properties version.properties -main org.apache.tools.ant.Main</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Prior to 2.5, Ivy <code>-main</code> created a classloader that used Ivy classloader as a parent. This is no longer the case; if your usage depended on Ivy classes being available, Ivy must be declared as a dependency of the component that you want to launch.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>(<strong><em>since 2.5</em></strong>) Ivy can convert <code>ivy.xml</code> files to <code>pom.xml</code> files using <code>-makepom</code> option.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_examples_52">Examples</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell" data-lang="shell">java -jar ivy.jar</code></pre>
</div>
</div>
<div class="paragraph">
<p>calls Ivy with default configuration using ivy.xml in the current dir</p>
</div>
<hr/>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell" data-lang="shell">java -jar ivy.jar -settings path/to/myivysettings.xml -ivy path/to/myivy.xml</code></pre>
</div>
</div>
<div class="paragraph">
<p>calls Ivy with given Ivy settings file using given Ivy file</p>
</div>
<hr/>
<div class="paragraph">
<p>(<strong><em>since 1.3</em></strong>)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell" data-lang="shell">java -jar ivy.jar -settings path/to/myivysettings.xml -dependency apache commons-lang 2.0</code></pre>
</div>
</div>
<div class="paragraph">
<p>calls Ivy with given Ivy settings file and resolve apache <code>commons-lang 2.0</code>.</p>
</div>
<div class="paragraph">
<p>This is equivalent to:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell" data-lang="shell">java -jar ivy.jar -settings path/to/myivysettings.xml -ivy ivy.xml</code></pre>
</div>
</div>
<div class="paragraph">
<p>with <code>ivy.xml</code> like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;ivy-module version="1.0"&gt;
  &lt;info organisation="org"
       module="standalone"
       revision="working"/&gt;
  &lt;dependencies&gt;
    &lt;dependency org="apache" name="commons-lang" rev="2.0" conf="default-&gt;*"/&gt;
  &lt;/dependencies&gt;
&lt;/ivy-module&gt;</code></pre>
</div>
</div>
<hr/>
<div class="paragraph">
<p>(<strong><em>since 1.3</em></strong>)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell" data-lang="shell">java -jar ivy.jar -settings path/to/myivysettings.xml -ivy path/to/myivy.xml -cachepath mycachefile.txt</code></pre>
</div>
</div>
<div class="paragraph">
<p>calls Ivy with given Ivy settings file and resolves the dependencies found in the given Ivy file, and then outputs the classpath of resolved artifacts in cache in a file. This file can then be used to define a classpath corresponding to all the resolved dependencies for any Java program.</p>
</div>
<hr/>
<div class="paragraph">
<p>(<strong><em>since 1.4</em></strong>)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell" data-lang="shell">java -jar ivy.jar -settings path/to/myivysettings.xml -dependency bar foo 2.0 -main org.bar.foo.FooMain</code></pre>
</div>
</div>
<div class="paragraph">
<p>calls Ivy with given Ivy settings file and resolves the dependency <code>bar</code> <code>foo</code> <code>2.0</code>, and then runs <code>org.foo.FooMain</code> class with the resolved artifacts as classpath.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_osgi_a_osgi"><a id="osgi"></a>OSGi</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_osgi" class="sect0">OSGi</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p>Since Apache Ivy&#8482; 2.3, some support for OSGi&#8482; dependency management has been introduced.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
Note that this feature is considered as <strong>experimental</strong>. It should work with simple configuration but may not in complex ones. If you have any issue with that feature, you are welcomed to come discuss your use case on the <a href="https://ant.apache.org/ivy/mailing-lists.html">ivy-user</a> mailing list, or discuss about implementation issues or improvement you may have found, on <a href="https://ant.apache.org/ivy/mailing-lists.html">ant-dev</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>So with a standard ivy.xml, you can express some dependency on some OSGi bundle and every of their transitive dependencies will be resolved. You can also declare in your ivy.xml some OSGi dependency, like a <code>Require-Bundle</code>, an <code>Import-Package</code> or an <code>Import-Service</code>, miming an OSGi MANIFEST.MF.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_note_on_the_implementation">Note on the implementation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>With OSGi we can declare different kind of capabilities of a bundle which can match different kind of requirements of some other bundles (<code>Require-Bundle</code>/<code>Bundle-SymbolicName</code>, <code>Import-Package</code>/<code>Export-Package</code>, <code>Import-Service</code>/<code>Export-Service</code>). In Ivy we only have one kind of requirement and one kind of capability: the symbolic name of the bundle. Due to that restriction Ivy may not resolve exactly how we would expect with OSGi.  The runtime of Ivy won&#8217;t be as smart as a pure OSGi dependency manager. But we think that the mapping is working for most of the use cases involving OSGi dependencies management.</p>
</div>
<div class="paragraph">
<p>Details on the mapping of the OSGi dependency model into Ivy&#8217;s one can be found in this <a href="osgi/osgi-mapping.html">page</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_repository_descriptor_based_resolvers">Repository descriptor based resolvers</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Since the nature of the OSGi dependencies, resolving against a repository cannot be started before acquiring the metadata of every bundle of the repository. To resolve an <code>Import-Package</code>, Ivy has to find every bundle which has the proper <code>Export-Package</code>. So unlike the usual Ivy resolvers, the OSGi capable ones have to get the descriptor before starting a resolve.</p>
</div>
<div class="paragraph">
<p>The descriptor probably being not instantly downloaded, the descriptor is put in cache. (FIXME not implemented)</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_use_cases">Use cases</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Here are different use case of using the OSGi capabilities of Ivy:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="osgi/eclipse-plugin.html">building an Eclipse&#8482; plugin</a><br/></p>
</li>
<li>
<p><a href="osgi/standard-osgi.html">building a standard OSGi bundle</a><br/></p>
</li>
<li>
<p><a href="osgi/target-platform.html">managing a "target" platform</a><br/></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_osgi_osgi_mapping_a_osgi_mapping"><a id="osgi_osgi-mapping"></a>OSGi mapping</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_osgi_mapping" class="sect0">OSGi mapping</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p>This page is a description of how OSGi&#8482; dependencies are mapped into Apache Ivy&#8482; ones</p>
</div>
<div class="paragraph">
<p><strong>Goal:</strong> the purpose of this mapping is to transform an OSGi manifest into an ivy.xml, so Ivy can understand OSGi bundles and resolve them. We don&#8217;t want to do the reverse here.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_bundle_symbolic_name_ivy_organisation_and_module">Bundle Symbolic name / Ivy organisation and module</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In OSGi a bundle is identified by its symbolic name. In Ivy there is a notion of organisation and module name.</p>
</div>
<div class="paragraph">
<p>The chosen mapping is:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The organisation is "bundle" (transitive dependencies like packages or services have their own organisations, "package" and "service")<br/></p>
</li>
<li>
<p>The module name is the symbolic name<br/></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;"/>
<col style="width: 50%;"/>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>OSGi</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ivy</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Bundle-SymbolicName: com.acme.product.plugin</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;info organisation="bundle" module="com.acme.product.plugin"/&gt;</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_version_and_version_range">Version and version range</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The OSGi specification defines a version as a composition of 3 numbers and an arbitrary qualifier. This fits well into the lazy definition of Ivy. We will just have to use a special latest strategy in Ivy.</p>
</div>
<div class="paragraph">
<p>When it comes to version ranges, Ivy will correctly understand fully defined range as <code>[1.2.3,1.4.9)</code> or <code>(1.2.3,1.4.9]</code>. But for OSGi version range defined as <code>1.2.3</code>, it has to be transformed into <code>[1.2.3,)</code></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;"/>
<col style="width: 50%;"/>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>OSGi</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ivy</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Bundle-Version: 3.3.3</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>revision="3.3.3"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Require-Bundle: com.acme.product.plugin;bundle-version="3.2.1"</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;dependency org="bundle" name="com.acme.product.plugin" rev="[3.2.1,)"/&gt;</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_ivy_configurations">Ivy configurations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Ivy has the concept of <a href="../terminology.html#configurations">module configurations</a>. OSGi on the other hand, doesn&#8217;t have such a concept. However, Ivy defines the following configurations, when it comes to dependency mapping for OSGi:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>default</code> : it will contain every required dependency (transitively)</p>
</li>
<li>
<p><code>optional</code> : it will contain every optional dependency and every required dependency the the first degree dependencies.</p>
</li>
<li>
<p><code>transitive-optional</code> : it will contain every optional dependency (optional transitively)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Additionally, Ivy defines some more configurations while dealing with the <code>use</code> parameter of the <code>Import-Package</code> OSGi manifest header. All of these kinds of configuration have their names starting with <code>use_</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_osgi_capabilities">OSGi capabilities</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Generally speaking, declaring capabilities in an ivy.xml is useless (in the scope of this mapping which is to transform an OSGi manifest into an ivy.xml and not the reverse). In the resolve process we want to find the bundles which have the capability matching the expected requirement. In Ivy, if we are about to get the ivy.xml of a module, we are getting the bundle so we already have reached the requirement.</p>
</div>
<div class="paragraph">
<p>So OSGi capabilities of bundles in a repo will be gathered directly from the manifests passed directly to the Ivy resolver, no need to express them into ivy.xml, except for the Export-Package, see the next section.</p>
</div>
<div class="sect2">
<h3 id="_export_package">Export-Package</h3>
<div class="paragraph">
<p>Exported packages are declaring capabilities of the bundle in term of packages. But they also declare dependencies between the declared package via the parameter <code>use</code>. These dependencies have to be declared in the ivy.xml. And we will use Ivy <a href="../terminology.html#configurations">module configurations</a> for that.</p>
</div>
<div class="paragraph">
<p>First, each exported package will be declared in the ivy.xml as a configuration. The name of the configuration will start will <code>use_</code> and will end with the name of that package.</p>
</div>
<div class="paragraph">
<p>Then each time an exported package is declared to use some other one, it will be mapped as a dependency between the Ivy configurations corresponding to those packages.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;"/>
<col style="width: 50%;"/>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>OSGi</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ivy</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Export-Package: com.acme.product.plugin.utils</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;configuration name="use_com.acme.product.plugin.utils" extends="default"/&gt;</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Export-Package: com.acme.product.plugin.utils,com.acme.product.plugin.common;use:=com.acme.product.plugin.utils</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;configuration name="use_com.acme.product.plugin.utils" extends="default"/&gt;
&lt;configuration name="use_com.acme.product.plugin.common" extends="default,use_com.acme.product.plugin.utils"/&gt;</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_osgi_requirements_ivy_dependencies">OSGi Requirements / Ivy dependencies</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In OSGi there are different kinds of dependencies, which in an OSGi bundle repository documentation is called a "requirement". The problem is that Ivy understands only one kind of requirement, so we use here some extra attributes to declare those different kinds of dependencies.</p>
</div>
<div class="sect2">
<h3 id="_require_bundle">Require-Bundle</h3>
<div class="paragraph">
<p>The OSGi <code>Require-Bundle</code> is a requirement directly on a specific bundle. To map that, Ivy will just use the <code>osgi="bundle"</code> <a href="../concept.html#extra">extra attribute</a>.</p>
</div>
<div class="paragraph">
<p>If there is the OSGi <code>resolution</code> parameter specified to <code>optional</code>, then the dependency will be declared in the configuration <code>optional</code> and <code>transitive-optional</code>. Otherwise it will be declared in the <code>default</code> configuration.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;"/>
<col style="width: 50%;"/>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>OSGi</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ivy</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Require-Bundle: com.acme.product.plugin;bundle-version="3.2.1"</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;dependency osgi="bundle" org="" name="com.acme.product.plugin" rev="[3.2.1,)" conf="default-&gt;default"/&gt;</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Require-Bundle: com.acme.product.plugin;bundle-version="3.2.1";resolution:="optional"</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;dependency org="bundle" name="com.acme.product.plugin" rev="[3.2.1,)" conf="optional-&gt;default;transitive-optional-&gt;transitive-optional"/&gt;</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_import_package">Import-Package</h3>
<div class="paragraph">
<p>The OSGi <code>Import-Package</code> is a requirement on a package of a bundle. Ivy has no notion of package. So we will use the <code>osgi="pkg"</code> <a href="../concept.html#extra">extra attribute</a>.</p>
</div>
<div class="paragraph">
<p>If there is the OSGi <code>resolution</code> parameter specified to <code>optional</code>, then the dependency will be declared in the configuration <code>optional</code> and <code>transitive-optional</code>. Otherwise it will be declared in the <code>default</code> configuration.</p>
</div>
<div class="paragraph">
<p>As it is an import package, the configuration of the dependency will be the <code>use_XXX</code> one. This way, the transitive dependency via the <code>use</code> parameter will be respected in the dependency.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;"/>
<col style="width: 50%;"/>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>OSGi</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ivy</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Import-Package: com.acme.product.plugin.utils;version="3.2.1"</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;dependency org="package" name="com.acme.product.plugin.utils" rev="[3.2.1,)" conf="default-&gt;default;use_com.acme.product.plugin.utils-&gt;use_com.acme.product.plugin.utils"/&gt;</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Import-Package: com.acme.product.plugin.utils;version="3.2.1";resolution:="optional"</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;dependency org="package" name="com.acme.product.plugin.utils" rev="[3.2.1,)" conf="optional-&gt;default;transitive-optional-&gt;transitive-optional;use_com.acme.product.plugin.utils-&gt;use_com.acme.product.plugin.utils"/&gt;</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_execution_environment">Execution environment</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The OSGi <code>Bundle-RequiredExecutionEnvironment</code> manifest attribute specifies which environment the bundle is expected to run. What that means in terms of dependency management is that some of the transitive dependencies won&#8217;t be resolved within the OSGi space but will be provided by the JRE. While mapping this, Ivy will exclude from the dependency tree every requirement that will be provided by the environment.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;"/>
<col style="width: 50%;"/>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>OSGi</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ivy</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Bundle-RequiredExecutionEnvironment: JavaSE-1.6</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;dependencies&gt;
    &lt;exclude org="package" module="javax.accessibility"/&gt;
    &lt;exclude org="package" module="javax.activation"/&gt;
    &lt;exclude org="package" module="javax.activity"/&gt;
    ...
&lt;/dependencies&gt;</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_bundle_fragment">Bundle Fragment</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Ivy doesn&#8217;t support the header <code>Fragment-Host</code>.</p>
</div>
<div class="paragraph">
<p>The workaround is to manually specify, as dependencies in the ivy.xml, the bundles which would fit to be the extensions of the host bundle.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_osgi_eclipse_plugin_a_building_an_eclipse_plugin"><a id="osgi_eclipse-plugin"></a>Building an Eclipse plugin</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_building_an_eclipse_plugin" class="sect0">Building an Eclipse plugin</h1>
<div class="openblock partintro">
<div class="content">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Note that this feature is considered as <strong>experimental</strong>.</p>
</div>
<div class="paragraph">
<p>It should work with a simple configuration but may not with complex ones. If you have any issue with that feature, you are welcomed to come discuss your use case on the <a href="https://ant.apache.org/ivy/mailing-lists.html">ivy-user</a> mailing list, or discuss about implementation issues or improvement you may have found, on <a href="https://ant.apache.org/ivy/mailing-lists.html">ant-dev</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This page describes how to build an Eclipse&#8482; plugin with Apache Ivy&#8482; and its OSGi&#8482; capabilities.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_quick_setup">Quick setup</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In a few steps, we will set up a build to compile and package an Eclipse plugin.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>download this <a href="../samples/eclipse-plugin/ivy.xml">ivy.xml</a>, this <a href="../samples/eclipse-plugin/ivysettings.xml">ivysettings.xml</a>, this <a href="../samples/eclipse-plugin/ivysettings.properties">ivysettings.properties</a>, this <a href="../samples/eclipse-plugin/build.xml">build.xml</a>, and put them into your plugin folder</p>
</li>
<li>
<p>in the <code>ivysettings.properties</code>, specify the location of the plugins folder of your Eclipse target</p>
</li>
<li>
<p>in the <code>ivy.xml</code>, change the symbolic name declared in the extends element</p>
</li>
<li>
<p>(<strong><em>optional</em></strong>) by default the <code>build.xml</code> is expecting the sources to be in the <code>src</code> folder. You may want to edit it if it is not the case</p>
</li>
<li>
<p>(<strong><em>optional</em></strong>) if Ivy is not in Ant&#8217;s classpath, <a href="https://ant.apache.org/ivy/download.cgi">download the Ivy jar</a> and edit the <code>build.xml</code> accordingly (see the comments at the beginning of the file)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>And that&#8217;s it ! Now let&#8217;s use it.</p>
</div>
<div class="paragraph">
<p>First, Ivy needs to aggregate the OSGi metadata of the target platform. To do so just launch:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>ant buildobr</code></pre>
</div>
</div>
<div class="paragraph">
<p>You need to run that command only once. Or each time your target platform get modified.</p>
</div>
<div class="paragraph">
<p>Then to resolve and build, just run:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>ant build</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_eclipse_setup">Eclipse setup</h3>
<div class="paragraph">
<p>You probably have already configured your project in Eclipse via the PDE. Let&#8217;s see how to change that and use <a href="https://ant.apache.org/ivy/ivyde/">Apache IvyDE</a>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>First remove from your project&#8217;s classpath the PDE dependencies container</p>
</li>
<li>
<p>then right click on the <code>ivy.xml</code> you just added and select "Add Ivy library"</p>
</li>
<li>
<p>in the configuration panel of the <code>IvyDE</code> classpath container, as the settings file put <code>${workspace_loc:mypluginproject/ivysettings.xml}</code></p>
</li>
<li>
<p>click finish and your Eclipse project should build now.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
For resolution to work correctly, Ivy relies on the aggregated metadata of your target platform. Even if you want to only build with Eclipse, you will have to run the command <code>ant obrindex</code> at least one time.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_details_on_the_setup">Details on the setup</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_the_repository">The repository</h3>
<div class="paragraph">
<p>When building an Eclipse plugin, we are relying on a "target platform", the Eclipse installation we want our plugin to be eventually installed into. For Ivy, this will represent the repository of artifacts.</p>
</div>
<div class="paragraph">
<p>Ivy needs an aggregation of the OSGi metadata in order to resolve a such repository. The Ant task <a href="../use/buildobr.html">buildobr</a> builds a OBR (OSGi Bundle Repository) descriptor file from a set of OSGi bundles. So here we are using this Ant task to gather OSGi metadata from the Eclipse plugins in the "target platform". In the above example, the file is built in <code>target/repo-eclipse.xml</code>.</p>
</div>
<div class="paragraph">
<p>The plugin to be built has a <code>ivy.xml</code> file describing its dependencies to be used by Ivy. Since the actual dependencies are in the <code>MANIFEST.MF</code> file, in the <code>ivy.xml</code> file we specify that it extends <code>META-INF/MANIFEST.MF</code>. So there are few dependencies specified in the <code>ivy.xml</code>. But as Ivy doesn&#8217;t support the <code>Bundle-Fragment</code> OSGi feature, the <code>ivy.xml</code> can help specify the missing dependencies.</p>
</div>
<div class="paragraph">
<p>Having this setup, it is then a standard Ant+Ivy build. Ivy computes the classpath to be used by the <code>javac</code> tasks. Note that <code>javac</code> is not aware of the OSGi metadata and is then incapable of failing to compile if private packages are accessed.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_osgi_standard_osgi_a_building_a_standard_osgi_bundle"><a id="osgi_standard-osgi"></a>Building a standard OSGi bundle</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_building_a_standard_osgi_bundle" class="sect0">Building a standard OSGi bundle</h1>
<div class="openblock partintro">
<div class="content">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Note that this feature is considered as <strong>experimental</strong>.</p>
</div>
<div class="paragraph">
<p>It should work with simple configuration but may not in complex ones. If you have any issue with that feature, you are welcomed to come discuss your use case on the <a href="https://ant.apache.org/ivy/mailing-lists.html">ivy-user</a> mailing list, or discuss about implementation issues or improvement you may have found, on <a href="https://ant.apache.org/ivy/mailing-lists.html">ant-dev</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<hr/>
<div class="paragraph">
<p><strong>TODO - WORK IN PROGRESS</strong></p>
</div>
<hr/>
<div class="paragraph">
<p>This page describes how to build an OSGi&#8482; bundle with Apache Ivy&#8482;. In this use case, we just basically want to compute a classpath to compile, optionally one for testing too, and then publish our bundle in a OSGi aware repository.</p>
</div>
<div class="paragraph">
<p>In order to produce OSGi metadata of sufficient quality and to avoid maintaining them manually, the <a href="http://bndtools.org/">bnd</a> tool will be used. The approach taken is then an "Ivy file first" approach. The dependencies will be specified in the <code>ivy.xml</code> file, the <code>MANIFEST.MF</code> being generated from the computed classpath.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_quick_setup_2">Quick setup</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In few steps, we will setup a build to compile and publish an OSGi bundle.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>download this <a href="../samples/standard-osgi/ivy.xml">ivy.xml</a>, this <a href="../samples/standard-osgi/ivysettings.xml">ivysettings.xml</a>, this <a href="../samples/standard-osgi/build.xml">build.xml</a>, this <a href="../samples/standard-osgi/org.apache.ivy.sample.standard-osgi.bnd">bnd file</a>, and put them into your project folder</p>
</li>
<li>
<p>in the <code>ivysettings.properties</code>, specify the location of the plugins folder of your Eclipse target</p>
</li>
<li>
<p>(<strong><em>optional</em></strong>) by default the <code>build.xml</code> is expecting the sources to be in the <code>src</code> folder. You may want to edit it if it is not the case</p>
</li>
<li>
<p>(<strong><em>optional</em></strong>) if Ivy is not in Ant&#8217;s classpath, <a href="https://ant.apache.org/ivy/download.cgi">download the Ivy jar</a> and edit the <code>build.xml</code> accordingly (see the comments at the beginning of the file)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To build the project, run:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>ant build</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_osgi_target_platform_a_managing_a_target_platform"><a id="osgi_target-platform"></a>Managing a target platform</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_managing_a_target_platform" class="sect0">Managing a target platform</h1>
<div class="openblock partintro">
<div class="content">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Note that this feature is considered as <strong>experimental</strong>.</p>
</div>
<div class="paragraph">
<p>It should work with a simple configuration but may not with complex ones. If you have any issue with that feature, you are welcomed to come discuss your use case on the <a href="https://ant.apache.org/ivy/mailing-lists.html">ivy-user</a> mailing list, or discuss about implementation issues or improvement you may have found, on <a href="https://ant.apache.org/ivy/mailing-lists.html">ant-dev</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The concept of "target platform" is a concept introduced by Eclipse&#8482; to describe the set of bundles which will run together in an OSGi&#8482; environment. Then when developing an OSGi bundle, we expect it to run in such a "target platform".</p>
</div>
<div class="paragraph">
<p>When developing a single OSGi bundle, a single <code>ivy.xml</code> (together with the use of the <a href="../use/fixdeps.html">fixdeps</a> task) is sufficient to describe precisely the bundle requirements.</p>
</div>
<div class="paragraph">
<p>But when developing several bundles, it will be error prone to declare for each bundle its dependencies. Because once deployed in an OSGi environment, the bindings are sensitive to the available bundles. So when developing, we must ensure that the set of bundles will be the same set as the one at deploy time.</p>
</div>
<div class="paragraph">
<p>The concept of "target platform" is a perfect fit to describe the set of bundles to resolve against. Here is a recipe to handle it with just Ant+Ivy.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_a_target_platform_project">A Target Platform Project</h2>
<div class="sectionbody">
<div class="paragraph">
<p>First you need a project (basically a folder) in which you will manage your target platform. In this project you&#8217;ll need 3 files:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>an <a href="../samples/target-platform/ivy.xml">ivy.xml</a> in which you will describe the bundles you need</p>
</li>
<li>
<p>an <a href="../samples/target-platform/ivysettings.xml">ivysettings.xml</a> which will describe where to download bundles from</p>
</li>
<li>
<p>and a <a href="../samples/target-platform/build.xml">build.xml</a> with which you&#8217;ll manage your target platform</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In the build there is a target: <code>update-dependencies</code>. This target will do a resolve with the <code>ivy.xml</code> and will generate an <code>ivy-fixed.xml</code> from the resolved dependencies. This <code>ivy-fixed.xml</code> file contains only fixed non transitive dependencies (see the <a href="../use/fixdeps.html">fixdeps</a> task for further info). With that <code>ivy-fixed.xml</code> file, subsequent dependency resolutions are then reproducible and will always generate the same set of artifacts.</p>
</div>
<div class="paragraph">
<p>Once generated, it is recommended to share that <code>ivy-fixed.xml</code> file into your version control system (Git, Subversion, etc&#8230;&#8203;). The target <code>update-dependencies</code> must then be launched each time you edit the <code>ivy.xml</code>, when you want to change the content of your target platform.</p>
</div>
<div class="paragraph">
<p>The second target <code>generate-target-platform</code> will generate an <code>obr.xml</code>, a OSGi Bundle repository descriptor. This file will list every artifact which has been resolved by the <code>ivy-fixed.xml</code>. Then each of your bundles you develop will do its resolve against that <code>obr.xml</code> (see the <a href="../resolver/obr.html">obr resolver</a>).</p>
</div>
<div class="paragraph">
<p>The generated <code>obr.xml</code> contains paths to the local filesystem, so it is neither recommended to share it between developers nor commit it to version control system.</p>
</div>
<div class="paragraph">
<p>If it is required to develop your plugin with the Eclipse PDE plugin, you can then use the alternative target <code>generate-retrieved-target-platform</code>. It has the same principle as the <code>generate-target-platform</code> but the artifacts are also retrieved in a single folder, just like the plugins in an Eclipse install. That way you can define your target platform within Eclipse quite easily.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_osgi_sigil_a_apache_felix_sigil"><a id="osgi_sigil"></a>Apache Felix Sigil</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_apache_felix_sigil" class="sect0">Apache Felix Sigil</h1>
<div class="openblock partintro">
<div class="content">
Another initiative to manage OSGi&#8482; dependencies is the project <a href="https://cwiki.apache.org/confluence/display/FELIX/Apache+Felix+Sigil">Apache Felix Sigil&#8482;</a>. Sigil can also be used together with Ivy. We will try to explain here the different approach taken there compared to the built-in OSGi capabilities of Ivy.
</div>
</div>
<div class="sect1">
<h2 id="_a_different_approach">A different approach</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Apache Felix Sigil is at its core about managing OSGi dependencies, not directly related to Ivy. Most of its core feature is about the implementation of the not yet released OBR (OSGi Bundle Repository) specification. It then provides integration layers with several tools so that developers can use the OBR API. It provides an Eclipse plugin and there are the Ant/Ivy tasks and resolvers.</p>
</div>
<div class="paragraph">
<p>On the other hand the built-in OSGi capabilities in Ivy are targeted towards users already familiar with Ivy and <a href="https://ant.apache.org/ivy/links.html">tools around it</a> like <a href="https://ant.apache.org/ivy/ivyde">Apache IvyDE&#8482;</a>. So with a minimum amount of effort, they can get OSGi dependency management.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resulting_differences">Resulting differences</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_resolve_2">Resolve</h3>
<div class="paragraph">
<p>The built-in OSGi resolver is <em>obviously</em> using the Ivy engine to do the resolution of the dependencies. The OSGi capability of Ivy is mainly implemented with a module descriptor parser which understands the OSGi metadata of a <code>MANIFEST.MF</code>.</p>
</div>
<div class="paragraph">
<p>On the other hand, Sigil is using a separate "engine" to do the resolution, the OBR, an engine which is dedicated to understand the OSGi metadata and their semantics.</p>
</div>
<div class="paragraph">
<p>The immediate consequence of this difference is that the built-in resolver is probably less accurate than the Sigil one when it comes to understanding the OSGi dependencies semantics. As explained in this <a href="osgi-mapping.html">page</a>, the OSGi model doesn&#8217;t fit well into the Ivy one.</p>
</div>
</div>
<div class="sect2">
<h3 id="_source_of_metadata">Source of metadata</h3>
<div class="paragraph">
<p>Apache Felix Sigil has its own format for specifying the OSGi dependencies. Whereas Ivy requires an <code>ivysettings.xml</code> and an <code>ivy.xml</code>, Sigil requires a <code>sigil-repos.properties</code> and a <code>sigil.properties</code>. Then if you want to use the Sigil resolver in Ivy, you will need 4 files, the 2 Ivy ones and the 2 Sigil ones, as described in the Sigil quickstart <a href="https://cwiki.apache.org/confluence/display/FELIX/Apache+Felix+Sigil+Ivy+Quickstart">here</a>.</p>
</div>
<div class="paragraph">
<p>To support OSGi directly in Ivy, you just need to add an extra namespace in the <code>ivy.xml</code>, and in the <code>ivysettings.xml</code> just declare the proper resolver and latest revision strategy.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_dev_a_developer_doc"><a id="dev"></a>Developer doc</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_building_from_source">Building from source</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To build Ivy from source it&#8217;s really easy.</p>
</div>
<div class="sect2">
<h3 id="_requirements">Requirements</h3>
<div class="paragraph">
<p>All you need is</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a <a href="https://git-scm.com/downloads">Git</a> client<br/>
<em>to check out Ivy sources from Apache Git, not required if you build from sources packaged in a release</em></p>
</li>
<li>
<p><a href="https://ant.apache.org/">Apache Ant</a> 1.9.0 or greater<br/>
<em>We recommend the latest version of Ant</em></p>
</li>
<li>
<p>a <a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">JDK</a> 7 or greater<br/>
<em>Build instructions have been successfully tested with Oracle JDK 7 and 8</em></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_procedure">Procedure</h3>
<div class="sect3">
<h4 id="_get_the_source">Get the source</h4>
<div class="paragraph">
<p>You can either get the sources from a release, or get them directly from Git:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell" data-lang="shell">git clone git://git.apache.org/ant-ivy.git</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_build">Build</h4>
<div class="paragraph">
<p>Go to the directory where you get the Ivy sources (you should see a file named build.xml) and run:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell" data-lang="shell">ant</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_check_the_result">Check the result</h4>
<div class="paragraph">
<p>The Ant build will compile the core classes of Ivy and use them to resolve the dependencies (used for some optional features). Then it will compile and run tests with coverage metrics.</p>
</div>
<div class="paragraph">
<p>If everything goes well, you should see the message:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell" data-lang="shell">BUILD SUCCESSFUL</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then you can check the test results in the build/doc/reports/test directory, the jars are in build/artifacts, and the test coverage report in build/doc/reports/coverage</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_coding_conventions">Coding conventions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Ivy code base is supposed to follow Java Code Conventions:
<a href="http://www.oracle.com/technetwork/java/javase/documentation/codeconvtoc-136057.html" class="bare">http://www.oracle.com/technetwork/java/javase/documentation/codeconvtoc-136057.html</a></p>
</div>
<div class="paragraph">
<p>This is a work in progress though (see <a href="https://issues.apache.org/jira/browse/IVY-511">IVY-511</a>), but patches helping migration to these conventions are welcome.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_developing_with_eclipse">Developing with Eclipse</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Even though you can develop Ivy with your IDE of choice, we support Eclipse development by providing ad hoc metadata.</p>
</div>
<div class="paragraph">
<p>We currently provide two options:</p>
</div>
<div class="sect2">
<h3 id="_eclipse_alone">Eclipse alone</h3>
<div class="paragraph">
<p>To develop with a simple Eclipse install all you need is Eclipse 4.2 or greater, with no particular plugin.
First call the following Ant target in your Ivy workspace:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>ant eclipse-default</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will resolve the dependencies of Ivy and produce a .classpath using the resolved jars for the build path.
Then you can use the "Import&#8594;Existing project into workspace" eclipse feature to import the Ivy project in your workspace.</p>
</div>
</div>
<div class="sect2">
<h3 id="_eclipse_ivyde">Eclipse + IvyDE</h3>
<div class="paragraph">
<p>You can also leverage the latest IvyDE version to be able to easily resolve the Ivy dependencies from Eclipse.
To do so all you need is call the following Ant target in your Ivy workspace:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>ant eclipse-ivyde</code></pre>
</div>
</div>
<div class="paragraph">
<p>or if you don&#8217;t have Ant installed you can simply copy the file .classpath.ivyde and rename it to .classpath<br/>
Then you can import the project using "Import&#8594;Existing project into workspace" as long as you already have latest IvyDE installed.</p>
</div>
<div class="paragraph">
<p>To install latest IvyDE version compatible with the latest Ivy used to resolve Ivy dependencies, you will need to use a snapshot build, not endorsed by the ASF, available here:
<a href="https://builds.apache.org/view/A/view/Ant/job/IvyDE/" class="bare">https://builds.apache.org/view/A/view/Ant/job/IvyDE/</a></p>
</div>
<div class="paragraph">
<p>Download the file and unzip its content in your Eclipse installation directory.</p>
</div>
</div>
<div class="sect2">
<h3 id="_recommended_plugins">Recommended plugins</h3>
<div class="paragraph">
<p>The Ivy project comes with settings for the <a href="http://eclipse-cs.sourceforge.net/">Checkstyle plugin</a> we recommend to use to avoid introducing a new digression to the Checkstyle rules we use.
If you use this plugin, you will see many errors in Ivy. As we said, following strict Checkstyle rules is a work in progress and we used to have pretty different code conventions (like using _ as prefix for private attributes), so we still have things to fix. We usually use the filter in the problems view to filter out Checkstyle errors from this view, which helps to know what the real compilation problem are.</p>
</div>
<div class="paragraph">
<p>Besides this plugin we also recommend to use a Git plugin, <a href="https://www.eclipse.org/egit/">EGit</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_extend_a_extending_ivy"><a id="extend"></a>Extending Ivy</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Many things are configurable in Ivy, and many things are available with Ivy core. But when you want to do something not built in Ivy core, you can still plug your own code.</p>
</div>
<div class="paragraph">
<p>Many things are pluggable in Ivy:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>module descriptor parsers</p>
</li>
<li>
<p>dependency resolvers</p>
</li>
<li>
<p>lock strategies</p>
</li>
<li>
<p>latest strategies</p>
</li>
<li>
<p>circular dependency strategies</p>
</li>
<li>
<p>conflict managers</p>
</li>
<li>
<p>report outputters</p>
</li>
<li>
<p>version matchers</p>
</li>
<li>
<p>triggers</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Before trying to implement your own, we encourage you to check if the solution to your problem can be addressed by existing features, or by contributed ones. Do not hesitate to ask for help on the mailing-lists.</p>
</div>
<div class="paragraph">
<p>If you still don&#8217;t find what you need, then you&#8217;ll have to develop your own plugin or find someone who could do that for you.</p>
</div>
<div class="paragraph">
<p>All Ivy plug-ins use the same code patterns as Ant specific tasks for parameters. This means that if you want to have a <code>myattribute</code> of type <code>String</code>, you just have to declare a method called <code>setMyattribute(String val)</code> on your plug-in. The same applies to child tags, you just have to follow Ant specifications.</p>
</div>
<div class="paragraph">
<p>All pluggable code in Ivy is located in the <a href="https://gitbox.apache.org/repos/asf?p=ant-ivy.git;a=tree;f=src/java/org/apache/ivy/plugins">org.apache.ivy.plugins</a> package. In each package you will find an interface that you must implement to provide a new plugin. We usually also provide an abstract class easing the implementation and making your code more independent of interface changes. We heavily recommend using these abstract classes as a base class.</p>
</div>
<div class="paragraph">
<p>To understand how your implementation can be done, we suggest looking at existing implementations we provide, it&#8217;s the best way to get started.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_dev_makerelease_a_making_a_release"><a id="dev_makerelease"></a>Making a release</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_making_a_release">Making a release</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_requirements_2">Requirements</h3>
<div class="paragraph">
<p>Requirements for making a release are similar to the requirements for building from source, except that Apache Ant 1.9+ is required.</p>
</div>
</div>
<div class="sect2">
<h3 id="_procedure_2">Procedure</h3>
<div class="sect3">
<h4 id="_1_check_the_files_which_needs_to_be_updated_for_the_release">1. Check the files which needs to be updated for the release.</h4>
<div class="paragraph">
<p>On the master, check that files which require update for the release are up to date.
This includes particularly:
<code>asciidoc/release-notes.adoc</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_2_check_out_a_clean_copy_of_the_branch">2. Check out a clean copy of the branch</h4>
<div class="paragraph">
<p>Run the following git command to checkout the branch, revert any change and remove untracked and ignored files:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell" data-lang="shell">git checkout master
git reset --hard
git clean -d -x -f</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_3_add_ivy_xsd_file">3. Add Ivy xsd file.</h4>
<div class="paragraph">
<p>You need to store the current Ivy XML schema in the documentation, so that it will later be accessible on public web site. To do so, run the following command in the directory in which you checked out the release branch:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell" data-lang="shell">ant -f build-release.xml release-xsd</code></pre>
</div>
</div>
<div class="paragraph">
<p>And commit your changes in the branch:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell" data-lang="shell">git add asciidoc/ivy.xsd
git commit -m "release the ivy.xsd"</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_4_launch_the_release_script">4. Launch the release script</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell" data-lang="shell">ant -f build-release.xml release</code></pre>
</div>
</div>
<div class="paragraph">
<p>The status should be release only for final releases, and milestone for any other intermediate release.
If the release script is successful, release artifacts will be waiting for you in the build/distrib directory.</p>
</div>
</div>
<div class="sect3">
<h4 id="_5_verify_the_release">5. Verify the release</h4>
<div class="paragraph">
<p>Check that all zips can be opened correctly, and that running <code>ant</code> after unzipping the source distribution works properly.
You can also do a smoke test with the generated ivy.jar, to see if it is able to resolve properly a basic module (for instance, you can run some tutorials provided in the src/example directory in all distributions).</p>
</div>
</div>
<div class="sect3">
<h4 id="_6_sign_the_artifacts">6. Sign the artifacts</h4>
<div class="paragraph">
<p>It&#8217;s now time to sign the release artifacts and upload them to a location accessible by other Apache committers.</p>
</div>
<div class="paragraph">
<p>Here is a simple way to sign the files using gnupg:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell" data-lang="shell">gpg --armor --output file.zip.asc --detach-sig file.zip</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here is a ruby script you can use to sign the files:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby" data-lang="ruby">require 'find'

Find.find('build/distrib') do |f|
    `gpg --armor --output #{f}.asc --detach-sig #{f}` if File.file?(f) &amp;&amp; ['.zip', '.gz', '.jar', '.pom'].include?(File.extname(f))
end</code></pre>
</div>
</div>
<div class="paragraph">
<p>Be prepared to enter your passphrase several times if you use this script, gpg will ask for your passphrase for each file to sign.</p>
</div>
</div>
<div class="sect3">
<h4 id="_7_prepare_the_eclipse_update_site">7. Prepare the Eclipse update site</h4>
<div class="paragraph">
<p>To be able to test the release within IvyDE, it can be deployed in the IvyDE update site. See <a href="https://ant.apache.org/ivy/ivyde/history/trunk/dev/updatesite.html">that page</a> to know how to process.</p>
</div>
</div>
<div class="sect3">
<h4 id="_8_publish_the_release_candidate">8. Publish the release candidate</h4>
<div class="paragraph">
<p>All artifacts in <code>build/distrib/dist</code> needs to be published on the 'dist' svn of the ASF, in the <strong>dev</strong> part.</p>
</div>
<div class="paragraph">
<p>The following command lines should do the job:</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Make sure to use the right version number in the commit message.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell" data-lang="shell">svn checkout -N https://dist.apache.org/repos/dist/dev/ant/ivy build/distrib/dist
svn add build/distrib/dist/*
svn commit build/distrib/dist -m 'Ivy 2.4.0 distribution'</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_9_publish_the_maven_artifact_to_nexus">9. Publish the Maven artifact to Nexus</h4>
<div class="paragraph">
<p>Having your GPG key ID, its password, your apache ID and the associated password, just launch Ant and enter the information as required:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell" data-lang="shell">ant -f build-release.xml upload-nexus</code></pre>
</div>
</div>
<div class="paragraph">
<p>Once uploaded, log in <a href="https://repository.apache.org/" class="bare">https://repository.apache.org/</a> with your preferred web browser (use your Apache ID).</p>
</div>
<div class="paragraph">
<p>You should find there an <em>open</em> repository with the name of the form <code>orgapacheant-XXXX</code>. It should contain the Maven artifacts: the pom, the jar, the sources, the javadocs and the sha and asc files.</p>
</div>
<div class="paragraph">
<p>Now <em>close</em> the staging repository, with the description "Ivy 2.0.0-beta1". Closing means you finished the upload and some automatic checks will run. You can see them in the <em>Activity</em> tab of the repository.</p>
</div>
<div class="paragraph">
<p>Once the checks passed, you can find in the <em>Summary</em> the URL of the staging repository. It will something like: <a href="https://repository.apache.org/content/repositories/orgapacheant-XXXX/" class="bare">https://repository.apache.org/content/repositories/orgapacheant-XXXX/</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_10_create_a_signed_tag">10. Create a signed tag</h4>
<div class="paragraph">
<p>As soon as you are happy with the artifacts to be released, it is time to tag the release</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Use the right version number for the tag. For example, if you released 2.5.0 of Ivy, then the tag name should be 2.5.0
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell" data-lang="shell">git tag -s 2.0.0-beta1 -m 'Release Ivy 2.0.0-beta1'</code></pre>
</div>
</div>
<div class="paragraph">
<p>And push the changes to the ASF repo</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell" data-lang="shell">git push --tags</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_11_call_for_a_vote_to_approve_the_release">11. Call for a vote to approve the release</h4>
<div class="paragraph">
<p>Cast a vote to approve the release on the <a href="mailto:dev@ant.apache.org">dev@ant.apache.org</a> mailing list.</p>
</div>
<div class="paragraph">
<p>Here is an example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>Subject: [VOTE] Ivy ${version} Release

I have built a release candidate for Ivy ${version}

The git tag of this release is: https://gitbox.apache.org/repos/asf?p=ant-ivy.git;a=tag;h=refs/tags/${version} with the sha1 ${githash-of-tag}

The artifacts has been published to: https://dist.apache.org/repos/dist/dev/ant/ivy/${version} at revision ${svn-rev-of-the-check-in}

The staging Maven repository is available there: https://repository.apache.org/content/repositories/orgapacheant-XXXX

The Eclipse updatesite has been build there: https://dist.apache.org/repos/dist/dev/ant/ivyde/updatesite/ivy-${version}/

Do you vote for the release of these binaries?

[ ] Yes
[ ] No

Regards,

${me}, Ivy ${version} release manager</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_12_publish_the_release">12. Publish the release</h4>
<div class="paragraph">
<p>If the release is approved, it&#8217;s now time to make it public. The artifacts in the <em>dev</em> part needs to be moved into the <em>release</em> one:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell" data-lang="shell">svn mv https://dist.apache.org/repos/dist/dev/ant/ivy/$VERSION https://dist.apache.org/repos/dist/release/ant/ivy/$VERSION</code></pre>
</div>
</div>
<div class="paragraph">
<p>In order to keep the main dist area of a reasonable size, old releases should be removed. They will disappear from the main dist but will still be available via the <a href="https://archive.apache.org/dist/ant/ivy/">archive</a>. To do so, just use the <code>svn rm</code> command against the artifacts or folders to remove.</p>
</div>
</div>
<div class="sect3">
<h4 id="_13_promote_the_maven_staging_repository">13. Promote the Maven staging repository</h4>
<div class="paragraph">
<p>Go log in <a href="https://repository.apache.org/" class="bare">https://repository.apache.org/</a> with your preferred web browser (use your Apache ID).</p>
</div>
<div class="paragraph">
<p>Select the appropriate <code>orgapacheant-XXXX</code> repository and select the <em>Release</em> action.</p>
</div>
</div>
<div class="sect3">
<h4 id="_14_update_the_web_site">14. Update the web site</h4>
<div class="paragraph">
<p>It&#8217;s time to update the download image used on the home page and the download page. Use site/images/ivy-dl.xcf as a basis if you have <a href="https://www.gimp.org/">gimp</a> installed. Then you can update the home page to refer to this image, and add a news item announcing the new version. Update also the download page with the new image and update the links to the download location (using a search/replace on the html source is recommended for this).</p>
</div>
<div class="paragraph">
<p>The just release documentation should be added to the site. To do so, you need to:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>edit the toc.json file in the site component of Ivy and add a piece of json with a title and an url; note that the version in the url must be the same as the tag in the git repo.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json" data-lang="json">{
   "title":"2.0.0-beta1",
   "url":"http://ant.apache.org/ivy/history/2.0.0-beta1/index.html"
}</code></pre>
</div>
</div>
</li>
<li>
<p>from the distribution just released, install the doc into the site</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell" data-lang="shell">ant install-doc -Dhistory.version=2.5.0-rc1 -Divy-dist.zip.url=https://dist.apache.org/repos/dist/release/ant/ivy/2.5.0-rc1/apache-ivy-2.5.0-rc1-bin.zip</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Now let&#8217;s generate the website with the new toc:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell" data-lang="shell">ant /all generate-site</code></pre>
</div>
</div>
<div class="paragraph">
<p>You should verify that the site generated in the production directory is OK. You can open the files with your preferred web browser like it was deployed.</p>
</div>
<div class="paragraph">
<p>And once your happy with it, commit the changes in the source directory, and in the production directory to get it actually deployed via svnpubsub.</p>
</div>
<div class="paragraph">
<p>Tip: lot&#8217;s of files might need to be 'added' to svn. An handy command to <code>add</code> any file which is not yet under version control is the following one:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell" data-lang="shell">svn add --force sources</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_15_deploy_the_eclipse_updatesite">15. Deploy the Eclipse updatesite</h4>
<div class="paragraph">
<p>If the Eclipse update site has already been prepared to include that new Ivy release, it is now needed to be deployed. Then follow the deployment instruction on <a href="https://ant.apache.org/ivy/ivyde/history/trunk/dev/updatesite.html">that page</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_16_announce">16. Announce</h4>
<div class="paragraph">
<p>Announce the release on the <a href="mailto:dev@ant.apache.org">dev@ant.apache.org</a>, <a href="mailto:ivy-user@ant.apache.org">ivy-user@ant.apache.org</a>, <a href="mailto:user@ant.apache.org">user@ant.apache.org</a> and <a href="mailto:announce@apache.org">announce@apache.org</a> mailing lists. Note that <a href="mailto:announce@apache.org">announce@apache.org</a> only accepts emails sent with an @apache.org address.</p>
</div>
<div class="paragraph">
<p>Suggested template:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>Subject: [Announce] Release of Apache Ivy ${version}

The Apache Ivy project is pleased to announce its ${version} release.

Apache Ivy is a tool for managing (recording, tracking, resolving and
reporting) project dependencies, characterized by flexibility,
configurability, and tight integration with Apache Ant.

Key features of this ${version} release are:

XXXX INCLUDE THE PARAGRAPH FROM THE RELEASE NOTES XXXX

XXXX SUGGESTED PARAGRAPH FOR RC
As a release candidate version, we strongly encourage the use of this version for
testing and validation. From now on, features are frozen until final ${version} version,
only bug fixes will be applied before ${version}. If no outstanding bugs are reported
with this release candidate, it will promoted to ${version} about three weeks after this
release candidate.

Issues should be reported to:
https://issues.apache.org/jira/browse/IVY

Download the release at:
https://ant.apache.org/ivy/download.cgi

More information can be found on the Ivy website:
https://ant.apache.org/ivy/

Regards,
${me}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_17_update_this_doc">17. Update this doc</h4>
<div class="paragraph">
<p>If you feel like anything is missing or misleading in this release doc, update it as soon as you encounter the problem.</p>
</div>
</div>
<div class="sect3">
<h4 id="_18_merge_your_modifications_back_to_the_master_if_necessary">18. Merge your modifications back to the master if necessary.</h4>
<div class="paragraph">
<p>Modifications on the template files do not need to be merged, but if you had troubles during your release you may want to merge your fixes back to the trunk.</p>
</div>
</div>
<div class="sect3">
<h4 id="_19_prepare_next_release">19. Prepare next release</h4>
<div class="paragraph">
<p>In the master branch, update the file version.properties with the version of the next release so that anyone building from the trunk will obtain jar with the correct version number.</p>
</div>
<div class="paragraph">
<p>If the version just release is a final one (not an alpha, beta or rc), the list of changes should be emptied in doc/release-notes.html, and update there the next expected version. The announcement in the file should also be changed accordingly to the next expected version.</p>
</div>
<div class="paragraph">
<p>Release the version in <a href="https://issues.apache.org/jira/browse/IVY">jira</a>, and create a new unreleased version for the next planned version.</p>
</div>
</div>
</div>
</div>
</div></div></div><div id="footer-message" class="footer"><hr /><i>Copyright &copy; 2007 - 2019 The Apache Software Foundation, Licensed under the<a href="http://www.apache.org/licenses/">Apache License, Version 2.0</a>.</i><br /><i>Apache Ivy, Apache Ant, Ivy, Ant, Apache, the Apache Ivy logo, the Apache Ant logo and the Apache feather logo are trademarks of The Apache Software Foundation.</i><br /><i>All other marks mentioned may be trademarks or registered trademarks of their respective owners.</i></div></div></body></html>