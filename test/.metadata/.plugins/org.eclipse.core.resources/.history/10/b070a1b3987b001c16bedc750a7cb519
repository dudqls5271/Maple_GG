package application;

import java.io.IOException;
import java.net.URI;
import java.net.URISyntaxException;
import java.net.URL;
import java.util.ResourceBundle;

import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.nodes.Element;

import javafx.event.ActionEvent;
import javafx.fxml.FXML;
import javafx.fxml.FXMLLoader;
import javafx.fxml.Initializable;
import javafx.scene.Parent;
import javafx.scene.Scene;
import javafx.scene.control.Button;
import javafx.scene.control.Hyperlink;
import javafx.scene.control.ListView;
import javafx.scene.control.TextField;
import javafx.scene.image.Image;
import javafx.scene.image.ImageView;
import javafx.scene.text.Text;
import javafx.stage.Stage;
public class updateCashController implements Initializable{
	
	@FXML 
    private Button nav1;
	
	@FXML
	private ListView<String> updateListview;
	
	@FXML 
    private Hyperlink eventList1, eventList2, eventList3, eventList4, eventList5, 
    				  eventList6, eventList7, eventList8, eventList9, eventList10,
    				  eventList11, eventList12, eventList13, eventList14, eventList15;
	
	@FXML
	private Text eventdate1, eventdate2, eventdate3, eventdate4, eventdate5,
	  			 eventdate6, eventdate7, eventdate8, eventdate9, eventdate10,
	  			 eventdate11, eventdate12, eventdate13, eventdate14, eventdate15;
	
	@FXML
	private ImageView eventImg1;
	
	 public void handleButtonActoin() throws IOException {
	    	Stage stage = (Stage)nav1.getScene().getWindow();
	    	
	    	FXMLLoader loader = new FXMLLoader(getClass().getResource("SearchUser.fxml"));
	        Parent root = loader.load();
	        Scene scene = new Scene(root);
	    	stage.setScene(scene);
	    }
	
	public void eventNav1() throws IOException {
    	Stage stage = (Stage)nav1.getScene().getWindow();
    	
    	FXMLLoader loader = new FXMLLoader(getClass().getResource("updateList.fxml"));
        Parent root = loader.load();
        Scene scene = new Scene(root);
    	stage.setScene(scene);
    }
	
	public void eventNav2() throws IOException {
    	Stage stage = (Stage)nav1.getScene().getWindow();
    	
    	FXMLLoader loader = new FXMLLoader(getClass().getResource("updateListworld.fxml"));
        Parent root = loader.load();
        Scene scene = new Scene(root);
    	stage.setScene(scene);
    }
	
	public void eventNav3() throws IOException {
    	Stage stage = (Stage)nav1.getScene().getWindow();
    	
    	FXMLLoader loader = new FXMLLoader(getClass().getResource("tespiaupdateList.fxml"));
        Parent root = loader.load();
        Scene scene = new Scene(root);
    	stage.setScene(scene);
    }
	
	public void eventNav4() throws IOException {
    	Stage stage = (Stage)nav1.getScene().getWindow();
    	
    	FXMLLoader loader = new FXMLLoader(getClass().getResource("updateListCash.fxml"));
        Parent root = loader.load();
        Scene scene = new Scene(root);
    	stage.setScene(scene);
    }
	
	public void eventNav5() throws IOException {
    	Stage stage = (Stage)nav1.getScene().getWindow();
    	
    	FXMLLoader loader = new FXMLLoader(getClass().getResource("updateListworld.fxml"));
        Parent root = loader.load();
        Scene scene = new Scene(root);
    	stage.setScene(scene);
    }
	
	public void eventNav6() throws IOException {
    	Stage stage = (Stage)nav1.getScene().getWindow();
    	
    	FXMLLoader loader = new FXMLLoader(getClass().getResource("updateListworld.fxml"));
        Parent root = loader.load();
        Scene scene = new Scene(root);
    	stage.setScene(scene);
    }

	String eventUrl1, eventUrl2, eventUrl3, eventUrl4, eventUrl5, 
			eventUrl6, eventUrl7, eventUrl8, eventUrl9, eventUrl10,
			eventUrl11, eventUrl12, eventUrl13, eventUrl14, eventUrl15;
	@Override
	public void initialize(URL location, ResourceBundle resources) {
		// TODO Auto-generated method stub
		
		try {
			String url = "https://maple.gg/info/update/cash"; // 农费傅且 url瘤沥
			Document doc = Jsoup.connect(url).get();
			System.out.println("updateList 立加");
			
			String eventNav = doc.select("ul[id=\"seed-tab\"]").select("li").get(0).text();
			int eventNavSize = doc.select("ul[id=\"seed-tab\"]").select("li").size();
			System.out.println("test : "+ eventNav);
			System.out.println("size : " + eventNavSize);
			
			String eventText1 = doc.select("table[class=\"table table-sm\"]").select("tr").get(0).select("a").text(); 
			String eventDate1 = doc.select("table[class=\"table table-sm\"]").select("tr").get(0).select("p").text(); 
			eventUrl1 = doc.select("table[class=\"table table-sm\"]").select("a").get(0).attr("href");
			eventList1.setText(eventText1);
			eventdate1.setText(eventDate1);

			
		} catch (Exception e) {
			// TODO: handle exception
			e.printStackTrace();
		}
		
	} 
	
	public void eventList1(ActionEvent event) throws URISyntaxException, IOException {
		System.out.println("link clicked!");
		java.awt.Desktop.getDesktop().browse(new URI(eventUrl1));
	}
	
	public void eventList2(ActionEvent event) throws URISyntaxException, IOException {
		System.out.println("link clicked!");
		java.awt.Desktop.getDesktop().browse(new URI(eventUrl2));
	}
	
	public void eventList3(ActionEvent event) throws URISyntaxException, IOException {
		System.out.println("link clicked!");
		java.awt.Desktop.getDesktop().browse(new URI(eventUrl3));
	}
	
	public void eventList4(ActionEvent event) throws URISyntaxException, IOException {
		System.out.println("link clicked!");
		java.awt.Desktop.getDesktop().browse(new URI(eventUrl4));
	}
	
	public void eventList5(ActionEvent event) throws URISyntaxException, IOException {
		System.out.println("link clicked!");
		java.awt.Desktop.getDesktop().browse(new URI(eventUrl5));
	}
	
	public void eventList6(ActionEvent event) throws URISyntaxException, IOException {
		System.out.println("link clicked!");
		java.awt.Desktop.getDesktop().browse(new URI(eventUrl6));
	}
	
	public void eventList7(ActionEvent event) throws URISyntaxException, IOException {
		System.out.println("link clicked!");
		java.awt.Desktop.getDesktop().browse(new URI(eventUrl7));
	}
	
	public void eventList8(ActionEvent event) throws URISyntaxException, IOException {
		System.out.println("link clicked!");
		java.awt.Desktop.getDesktop().browse(new URI(eventUrl8));
	}
	
	public void eventList9(ActionEvent event) throws URISyntaxException, IOException {
		System.out.println("link clicked!");
		java.awt.Desktop.getDesktop().browse(new URI(eventUrl9));
	}
	
	public void eventList10(ActionEvent event) throws URISyntaxException, IOException {
		System.out.println("link clicked!");
		java.awt.Desktop.getDesktop().browse(new URI(eventUrl10));
	}
	
	public void eventList11(ActionEvent event) throws URISyntaxException, IOException {
		System.out.println("link clicked!");
		java.awt.Desktop.getDesktop().browse(new URI(eventUrl11));
	}
	
	public void eventList12(ActionEvent event) throws URISyntaxException, IOException {
		System.out.println("link clicked!");
		java.awt.Desktop.getDesktop().browse(new URI(eventUrl12));
	}
	
	public void eventList13(ActionEvent event) throws URISyntaxException, IOException {
		System.out.println("link clicked!");
		java.awt.Desktop.getDesktop().browse(new URI(eventUrl13));
	}
	
	public void eventList14(ActionEvent event) throws URISyntaxException, IOException {
		System.out.println("link clicked!");
		java.awt.Desktop.getDesktop().browse(new URI(eventUrl14));
	}
	
	public void eventList15(ActionEvent event) throws URISyntaxException, IOException {
		System.out.println("link clicked!");
		java.awt.Desktop.getDesktop().browse(new URI(eventUrl15));
	}

}
